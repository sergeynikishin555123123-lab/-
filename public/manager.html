<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>üå∏ –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂ | –ü–∞–Ω–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ivory-bg: #F9F7F3;
            --graphite-dark: #3D3D3D;
            --graphite-medium: #5A5A5A;
            --graphite-light: #8A8A8A;
            --pastel-pink: #F2DDE6;
            --pink-light: #FAEFF5;
            --gold-metallic: #C5A880;
            --gold-dark: #A78B65;
            --lavender: #B9AFFF;
            --lavender-light: #E0DDFF;
            --aquamarine: #7FE0D1;
            --aqua-dark: #5AC8B7;
            --white: #FFFFFF;
            --success: #38B2AC;
            --warning: #ED8936;
            --error: #FC8181;
            --info: #4299E1;
            
            --shadow-sm: 0 2px 8px rgba(61, 61, 61, 0.05);
            --shadow: 0 4px 16px rgba(61, 61, 61, 0.08);
            --shadow-lg: 0 8px 32px rgba(61, 61, 61, 0.12);
            --shadow-xl: 0 20px 40px rgba(61, 61, 61, 0.15);
            
            --radius-sm: 8px;
            --radius: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --radius-full: 9999px;
            
            --transition-fast: 0.15s ease;
            --transition: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 0.4s ease;
            
            --header-height: 70px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--ivory-bg);
            color: var(--graphite-dark);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            font-weight: 400;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        /* –®–∞–ø–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ */
        .manager-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            z-index: 1000;
            height: var(--header-height);
            box-shadow: var(--shadow-lg);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
            padding: 0 24px;
        }
        
        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.6rem;
            font-weight: 700;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo i {
            font-size: 1.8rem;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .manager-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .manager-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .manager-name {
            font-weight: 600;
            font-size: 0.95rem;
        }
        
        .logout-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 16px;
            border-radius: var(--radius);
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .main-content {
            margin-top: var(--header-height);
            min-height: calc(100vh - var(--header-height));
            padding: 24px 0;
        }
        
        /* –ë–æ–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
        .manager-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 24px;
        }
        
        .sidebar {
            background: white;
            border-radius: var(--radius-lg);
            padding: 24px;
            box-shadow: var(--shadow);
            height: fit-content;
            position: sticky;
            top: calc(var(--header-height) + 24px);
        }
        
        .sidebar-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.2rem;
            margin-bottom: 24px;
            color: var(--graphite-dark);
            padding-bottom: 16px;
            border-bottom: 2px solid var(--lavender-light);
        }
        
        .nav-menu {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            color: var(--graphite-medium);
            text-decoration: none;
            border-radius: var(--radius);
            transition: var(--transition);
            font-weight: 500;
        }
        
        .nav-item:hover {
            background: var(--pink-light);
            color: var(--graphite-dark);
        }
        
        .nav-item.active {
            background: linear-gradient(135deg, var(--lavender-light), var(--pastel-pink));
            color: var(--graphite-dark);
            font-weight: 600;
        }
        
        .nav-item i {
            width: 20px;
            text-align: center;
        }
        
        .nav-badge {
            margin-left: auto;
            background: var(--gold-metallic);
            color: white;
            font-size: 0.7rem;
            padding: 2px 8px;
            border-radius: 10px;
            min-width: 24px;
            text-align: center;
        }
        
        /* –ö–æ–Ω—Ç–µ–Ω—Ç */
        .content {
            background: white;
            border-radius: var(--radius-lg);
            padding: 32px;
            box-shadow: var(--shadow);
            min-height: calc(100vh - var(--header-height) - 48px);
        }
        
        .content-header {
            margin-bottom: 32px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.1);
        }
        
        .content-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--graphite-dark);
            margin-bottom: 8px;
        }
        
        .content-subtitle {
            color: var(--graphite-medium);
            font-size: 1rem;
        }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }
        
        .stat-card {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow-sm);
            border: 1px solid rgba(61, 61, 61, 0.08);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--lavender), var(--gold-metallic));
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow);
        }
        
        .stat-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--gold-metallic);
            margin-bottom: 8px;
            line-height: 1;
        }
        
        .stat-label {
            color: var(--graphite-medium);
            font-size: 0.9rem;
            margin-bottom: 12px;
        }
        
        .stat-change {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .stat-change.positive {
            color: var(--success);
        }
        
        .stat-change.negative {
            color: var(--error);
        }
        
        /* –¢–∞–±–ª–∏—Ü—ã */
        .table-container {
            overflow-x: auto;
            border-radius: var(--radius);
            border: 1px solid rgba(61, 61, 61, 0.1);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }
        
        th {
            background: rgba(61, 61, 61, 0.03);
            padding: 16px;
            text-align: left;
            font-weight: 600;
            color: var(--graphite-dark);
            border-bottom: 2px solid rgba(61, 61, 61, 0.1);
            white-space: nowrap;
        }
        
        td {
            padding: 16px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.05);
            vertical-align: middle;
        }
        
        tr:hover {
            background: rgba(61, 61, 61, 0.02);
        }
        
        /* –ë–µ–π–¥–∂–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: var(--radius-full);
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .status-new {
            background: rgba(252, 129, 129, 0.15);
            color: #D32F2F;
        }
        
        .status-search {
            background: rgba(237, 137, 54, 0.15);
            color: var(--warning);
        }
        
        .status-assigned {
            background: rgba(66, 153, 225, 0.15);
            color: var(--info);
        }
        
        .status-in-progress {
            background: rgba(197, 168, 128, 0.15);
            color: var(--gold-dark);
        }
        
        .status-completed {
            background: rgba(56, 178, 172, 0.15);
            color: var(--success);
        }
        
        .status-cancelled {
            background: rgba(61, 61, 61, 0.08);
            color: var(--graphite-medium);
        }
        
        /* –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π */
        .action-buttons {
            display: flex;
            gap: 8px;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 8px 16px;
            border: none;
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
        }
        
        .btn-sm {
            padding: 6px 12px;
            font-size: 0.8rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--gold-metallic), var(--gold-dark));
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(197, 168, 128, 0.3);
        }
        
        .btn-secondary {
            background: white;
            color: var(--graphite-dark);
            border: 1px solid rgba(61, 61, 61, 0.1);
        }
        
        .btn-secondary:hover {
            background: rgba(61, 61, 61, 0.02);
            border-color: var(--graphite-light);
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--success), #2C9C95);
            color: white;
        }
        
        /* –§–∏–ª—å—Ç—Ä—ã */
        .filters {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 24px;
            border: 1px solid rgba(61, 61, 61, 0.1);
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            align-items: center;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 6px;
            min-width: 200px;
        }
        
        .filter-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--graphite-dark);
        }
        
        .filter-input, .filter-select {
            padding: 10px 12px;
            border: 1px solid rgba(61, 61, 61, 0.1);
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
            background: white;
        }
        
        .filter-input:focus, .filter-select:focus {
            outline: none;
            border-color: var(--gold-metallic);
            box-shadow: 0 0 0 3px rgba(197, 168, 128, 0.1);
        }
        
        /* –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ */
        .order-details {
            background: white;
            border-radius: var(--radius-lg);
            padding: 32px;
            box-shadow: var(--shadow);
        }
        
        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 32px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.1);
        }
        
        .order-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--graphite-dark);
        }
        
        .order-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }
        
        .info-card {
            background: rgba(61, 61, 61, 0.02);
            border-radius: var(--radius);
            padding: 20px;
            border: 1px solid rgba(61, 61, 61, 0.05);
        }
        
        .info-card h3 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--graphite-dark);
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(61, 61, 61, 0.05);
        }
        
        .info-item:last-child {
            border-bottom: none;
        }
        
        .info-label {
            color: var(--graphite-medium);
            font-size: 0.9rem;
        }
        
        .info-value {
            color: var(--graphite-dark);
            font-weight: 500;
            text-align: right;
        }
        
        /* –ß–∞—Ç –∑–∞–∫–∞–∑–∞ */
        .order-chat {
            background: white;
            border-radius: var(--radius);
            border: 1px solid rgba(61, 61, 61, 0.1);
            margin-top: 32px;
        }
        
        .chat-header {
            padding: 20px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.1);
            background: rgba(61, 61, 61, 0.02);
        }
        
        .chat-messages {
            height: 400px;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .message {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            position: relative;
        }
        
        .message.manager {
            background: linear-gradient(135deg, var(--lavender-light), #D0CBFE);
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }
        
        .message.user {
            background: rgba(61, 61, 61, 0.05);
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }
        
        .message-time {
            font-size: 0.75rem;
            color: var(--graphite-light);
            margin-top: 4px;
        }
        
        .chat-input-container {
            padding: 20px;
            border-top: 1px solid rgba(61, 61, 61, 0.1);
        }
        
        .chat-input-wrapper {
            display: flex;
            gap: 12px;
        }
        
        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid rgba(61, 61, 61, 0.1);
            border-radius: var(--radius);
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            resize: none;
            min-height: 44px;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(61, 61, 61, 0.7);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-slow);
        }
        
        .modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: white;
            border-radius: var(--radius-lg);
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-xl);
            animation: modalIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes modalIn {
            from { transform: scale(0.9) translateY(20px); opacity: 0; }
            to { transform: scale(1) translateY(0); opacity: 1; }
        }
        
        .modal-header {
            padding: 24px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.08);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--graphite-dark);
            font-weight: 600;
        }
        
        .modal-body {
            padding: 24px;
        }
        
        .modal-footer {
            padding: 24px;
            border-top: 1px solid rgba(61, 61, 61, 0.08);
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }
        
        /* –ó–∞–≥—Ä—É–∑–∫–∞ */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(4px);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 3000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }
        
        .loading-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .loader {
            width: 60px;
            height: 60px;
            border: 4px solid var(--pink-light);
            border-top: 4px solid var(--gold-metallic);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification-container {
            position: fixed;
            top: 100px;
            right: 24px;
            z-index: 2001;
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 400px;
        }
        
        .notification {
            background: white;
            border-radius: var(--radius);
            padding: 16px 20px;
            box-shadow: var(--shadow-lg);
            border-left: 4px solid var(--gold-metallic);
            animation: slideInRight 0.3s ease;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            max-width: 400px;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1200px) {
            .manager-layout {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: static;
            }
        }
        
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .filters {
                flex-direction: column;
                align-items: stretch;
            }
            
            .filter-group {
                min-width: 100%;
            }
            
            .action-buttons {
                flex-wrap: wrap;
            }
            
            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ -->
    <header class="manager-header">
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo">
                    <i class="fas fa-spa"></i>
                    –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂
                    <span style="font-size: 0.8rem; margin-left: 8px; background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 12px;">–ú–µ–Ω–µ–¥–∂–µ—Ä</span>
                </a>
                
                <div class="manager-info">
                    <div class="flex items-center gap-3">
                        <div class="manager-avatar">
                            <span id="managerInitials">–ú</span>
                        </div>
                        <div class="manager-name" id="managerName">–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞</div>
                    </div>
                    <button class="logout-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                        –í—ã–π—Ç–∏
                    </button>
                </div>
            </div>
        </div>
    </header>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="main-content">
        <div class="container">
            <div class="manager-layout">
                <!-- –ë–æ–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
                <aside class="sidebar">
                    <h2 class="sidebar-title">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>
                    <nav class="nav-menu">
                        <a href="#" class="nav-item active" data-section="dashboard">
                            <i class="fas fa-tachometer-alt"></i>
                            –î–∞—à–±–æ—Ä–¥
                        </a>
                        <a href="#" class="nav-item" data-section="orders">
                            <i class="fas fa-tasks"></i>
                            –í—Å–µ –∑–∞–∫–∞–∑—ã
                            <span class="nav-badge" id="allOrdersCount">0</span>
                        </a>
                        <a href="#" class="nav-item" data-section="new-orders">
                            <i class="fas fa-plus-circle"></i>
                            –ù–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã
                            <span class="nav-badge" id="newOrdersCount">0</span>
                        </a>
                        <a href="#" class="nav-item" data-section="in-progress">
                            <i class="fas fa-spinner"></i>
                            –í —Ä–∞–±–æ—Ç–µ
                            <span class="nav-badge" id="inProgressCount">0</span>
                        </a>
                        <a href="#" class="nav-item" data-section="completed">
                            <i class="fas fa-check-circle"></i>
                            –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ
                        </a>
                        <a href="#" class="nav-item" data-section="performers">
                            <i class="fas fa-user-tie"></i>
                            –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏
                        </a>
                        <a href="#" class="nav-item" data-section="clients">
                            <i class="fas fa-users"></i>
                            –ö–ª–∏–µ–Ω—Ç—ã
                        </a>
                        <a href="#" class="nav-item" data-section="finance">
                            <i class="fas fa-chart-line"></i>
                            –§–∏–Ω–∞–Ω—Å—ã
                        </a>
                        <a href="#" class="nav-item" data-section="reports">
                            <i class="fas fa-file-alt"></i>
                            –û—Ç—á–µ—Ç—ã
                        </a>
                        <a href="#" class="nav-item" data-section="settings">
                            <i class="fas fa-cog"></i>
                            –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                        </a>
                    </nav>
                </aside>
                
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
                <div class="content" id="contentArea">
                    <!-- –î–∞—à–±–æ—Ä–¥ -->
                    <div id="dashboardSection" class="content-section active">
                        <div class="content-header">
                            <h1 class="content-title">–î–∞—à–±–æ—Ä–¥ –º–µ–Ω–µ–¥–∂–µ—Ä–∞</h1>
                            <p class="content-subtitle">–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∫–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏</p>
                        </div>
                        
                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="totalOrders">0</div>
                                <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</div>
                                <div class="stat-change positive">
                                    <i class="fas fa-arrow-up"></i>
                                    <span id="ordersChange">0%</span> –∑–∞ –º–µ—Å—è—Ü
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="revenue">0 ‚ÇΩ</div>
                                <div class="stat-label">–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞</div>
                                <div class="stat-change positive">
                                    <i class="fas fa-arrow-up"></i>
                                    <span id="revenueChange">0%</span> –∑–∞ –º–µ—Å—è—Ü
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="avgOrder">0 ‚ÇΩ</div>
                                <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π —á–µ–∫</div>
                                <div class="stat-change positive">
                                    <i class="fas fa-arrow-up"></i>
                                    <span id="avgOrderChange">0%</span> –∑–∞ –º–µ—Å—è—Ü
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="satisfaction">0%</div>
                                <div class="stat-label">–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å</div>
                                <div class="stat-change positive">
                                    <i class="fas fa-arrow-up"></i>
                                    <span id="satisfactionChange">0%</span> –∑–∞ –º–µ—Å—è—Ü
                                </div>
                            </div>
                        </div>
                        
                        <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–∫–∞–∑—ã -->
                        <div class="content-header" style="margin-top: 40px;">
                            <h2 class="content-title" style="font-size: 1.5rem;">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–∫–∞–∑—ã</h2>
                            <p class="content-subtitle">–ù–µ–¥–∞–≤–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è</p>
                        </div>
                        
                        <div class="table-container">
                            <table id="recentOrdersTable">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>–ö–ª–∏–µ–Ω—Ç</th>
                                        <th>–£—Å–ª—É–≥–∞</th>
                                        <th>–°—Ç–∞—Ç—É—Å</th>
                                        <th>–°—É–º–º–∞</th>
                                        <th>–î–∞—Ç–∞</th>
                                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- –¢—Ä–µ–±—É—é—â–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è -->
                        <div class="content-header" style="margin-top: 40px;">
                            <h2 class="content-title" style="font-size: 1.5rem;">–¢—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è</h2>
                            <p class="content-subtitle">–ó–∞–∫–∞–∑—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞</p>
                        </div>
                        
                        <div class="table-container">
                            <table id="attentionTable">
                                <thead>
                                    <tr>
                                        <th>–ü—Ä–æ–±–ª–µ–º–∞</th>
                                        <th>–ó–∞–∫–∞–∑</th>
                                        <th>–ö–ª–∏–µ–Ω—Ç</th>
                                        <th>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</th>
                                        <th>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</th>
                                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- –í—Å–µ –∑–∞–∫–∞–∑—ã -->
                    <div id="ordersSection" class="content-section">
                        <div class="content-header">
                            <h1 class="content-title">–í—Å–µ –∑–∞–∫–∞–∑—ã</h1>
                            <p class="content-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ –∑–∞–∫–∞–∑–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã</p>
                        </div>
                        
                        <!-- –§–∏–ª—å—Ç—Ä—ã -->
                        <div class="filters">
                            <div class="filter-group">
                                <label class="filter-label">–°—Ç–∞—Ç—É—Å</label>
                                <select class="filter-select" id="statusFilter">
                                    <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                    <option value="new">–ù–æ–≤—ã–µ</option>
                                    <option value="searching">–í –ø–æ–∏—Å–∫–µ</option>
                                    <option value="assigned">–ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ</option>
                                    <option value="in_progress">–í —Ä–∞–±–æ—Ç–µ</option>
                                    <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ</option>
                                    <option value="cancelled">–û—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label class="filter-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                                <select class="filter-select" id="categoryFilter">
                                    <option value="all">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                                    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </select>
                            </div>
                            <div class="filter-group">
                                <label class="filter-label">–î–∞—Ç–∞ –æ—Ç</label>
                                <input type="date" class="filter-input" id="dateFrom">
                            </div>
                            <div class="filter-group">
                                <label class="filter-label">–î–∞—Ç–∞ –¥–æ</label>
                                <input type="date" class="filter-input" id="dateTo">
                            </div>
                            <div class="filter-group">
                                <button class="btn btn-primary" onclick="applyFilters()">
                                    <i class="fas fa-filter"></i> –ü—Ä–∏–º–µ–Ω–∏—Ç—å
                                </button>
                                <button class="btn btn-secondary" onclick="resetFilters()">
                                    <i class="fas fa-redo"></i> –°–±—Ä–æ—Å–∏—Ç—å
                                </button>
                            </div>
                        </div>
                        
                        <!-- –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤ -->
                        <div class="table-container">
                            <table id="allOrdersTable">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>–ö–ª–∏–µ–Ω—Ç</th>
                                        <th>–£—Å–ª—É–≥–∞</th>
                                        <th>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</th>
                                        <th>–°—Ç–∞—Ç—É—Å</th>
                                        <th>–°—É–º–º–∞</th>
                                        <th>–°–æ–∑–¥–∞–Ω</th>
                                        <th>–î–µ–¥–ª–∞–π–Ω</th>
                                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
                        <div class="flex justify-between items-center mt-4">
                            <div class="text-sm text-medium">
                                –ü–æ–∫–∞–∑–∞–Ω–æ <span id="shownOrders">0</span> –∏–∑ <span id="totalOrdersCount">0</span> –∑–∞–∫–∞–∑–æ–≤
                            </div>
                            <div class="flex gap-2">
                                <button class="btn btn-secondary btn-sm" onclick="prevPage()">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <div class="flex gap-1">
                                    <!-- –ù–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                                <button class="btn btn-secondary btn-sm" onclick="nextPage()">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –ù–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã -->
                    <div id="newOrdersSection" class="content-section">
                        <div class="content-header">
                            <h1 class="content-title">–ù–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã</h1>
                            <p class="content-subtitle">–ó–∞–∫–∞–∑—ã, –æ–∂–∏–¥–∞—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</p>
                        </div>
                        
                        <div class="table-container">
                            <table id="newOrdersTable">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>–ö–ª–∏–µ–Ω—Ç</th>
                                        <th>–£—Å–ª—É–≥–∞</th>
                                        <th>–ë—é–¥–∂–µ—Ç</th>
                                        <th>–î–µ–¥–ª–∞–π–Ω</th>
                                        <th>–ê–¥—Ä–µ—Å</th>
                                        <th>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</th>
                                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- –ó–∞–∫–∞–∑—ã –≤ —Ä–∞–±–æ—Ç–µ -->
                    <div id="inProgressSection" class="content-section">
                        <div class="content-header">
                            <h1 class="content-title">–ó–∞–∫–∞–∑—ã –≤ —Ä–∞–±–æ—Ç–µ</h1>
                            <p class="content-subtitle">–¢–µ–∫—É—â–∏–µ –∑–∞–∫–∞–∑—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è</p>
                        </div>
                        
                        <div class="table-container">
                            <table id="inProgressTable">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>–ö–ª–∏–µ–Ω—Ç</th>
                                        <th>–£—Å–ª—É–≥–∞</th>
                                        <th>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</th>
                                        <th>–ü—Ä–æ–≥—Ä–µ—Å—Å</th>
                                        <th>–î–µ–¥–ª–∞–π–Ω</th>
                                        <th>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</th>
                                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ -->
                    <div id="orderDetailSection" class="content-section">
                        <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    
                    <!-- –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ -->
                    <div id="performersSection" class="content-section">
                        <div class="content-header">
                            <h1 class="content-title">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏</h1>
                            <p class="content-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏ –∏ –∏—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</p>
                        </div>
                        
                        <div class="table-container">
                            <table id="performersTable">
                                <thead>
                                    <tr>
                                        <th>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</th>
                                        <th>–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</th>
                                        <th>–†–µ–π—Ç–∏–Ω–≥</th>
                                        <th>–í—ã–ø–æ–ª–Ω–µ–Ω–æ</th>
                                        <th>–í —Ä–∞–±–æ—Ç–µ</th>
                                        <th>–°—Ä–µ–¥–Ω–∏–π –æ—Ç–∫–ª–∏–∫</th>
                                        <th>–°—Ç–∞—Ç—É—Å</th>
                                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- –ö–ª–∏–µ–Ω—Ç—ã -->
                    <div id="clientsSection" class="content-section">
                        <div class="content-header">
                            <h1 class="content-title">–ö–ª–∏–µ–Ω—Ç—ã</h1>
                            <p class="content-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ –∏—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é</p>
                        </div>
                        
                        <div class="table-container">
                            <table id="clientsTable">
                                <thead>
                                    <tr>
                                        <th>–ö–ª–∏–µ–Ω—Ç</th>
                                        <th>–ü–æ–¥–ø–∏—Å–∫–∞</th>
                                        <th>–ó–∞–∫–∞–∑–æ–≤</th>
                                        <th>–ü–æ—Ç—Ä–∞—á–µ–Ω–æ</th>
                                        <th>–ü–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–∫–∞–∑</th>
                                        <th>–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥</th>
                                        <th>–°—Ç–∞—Ç—É—Å</th>
                                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div class="modal" id="assignModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–ù–∞–∑–Ω–∞—á–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</h3>
                <button class="modal-close" onclick="closeModal('assignModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="filter-label">–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</label>
                    <select class="filter-select" id="performerSelect">
                        <!-- –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </select>
                </div>
                <div class="form-group">
                    <label class="filter-label">–°–æ–æ–±—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É</label>
                    <textarea class="filter-input" id="assignMessage" rows="3" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('assignModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="assignPerformer()">–ù–∞–∑–Ω–∞—á–∏—Ç—å</button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="messageModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</h3>
                <button class="modal-close" onclick="closeModal('messageModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="filter-label">–ü–æ–ª—É—á–∞—Ç–µ–ª—å</label>
                    <select class="filter-select" id="recipientSelect">
                        <option value="client">–ö–ª–∏–µ–Ω—Ç—É</option>
                        <option value="performer">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é</option>
                        <option value="both">–í—Å–µ–º</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="filter-label">–°–æ–æ–±—â–µ–Ω–∏–µ</label>
                    <textarea class="filter-input" id="messageText" rows="4" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('messageModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="sendMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="editOrderModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–∫–∞–∑</h3>
                <button class="modal-close" onclick="closeModal('editOrderModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="filter-label">–°—Ç–∞—Ç—É—Å</label>
                    <select class="filter-select" id="editStatus">
                        <option value="new">–ù–æ–≤—ã–π</option>
                        <option value="searching">–í –ø–æ–∏—Å–∫–µ</option>
                        <option value="assigned">–ù–∞–∑–Ω–∞—á–µ–Ω</option>
                        <option value="in_progress">–í —Ä–∞–±–æ—Ç–µ</option>
                        <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω</option>
                        <option value="cancelled">–û—Ç–º–µ–Ω–µ–Ω</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="filter-label">–ë—é–¥–∂–µ—Ç (‚ÇΩ)</label>
                    <input type="number" class="filter-input" id="editBudget">
                </div>
                <div class="form-group">
                    <label class="filter-label">–î–µ–¥–ª–∞–π–Ω</label>
                    <input type="datetime-local" class="filter-input" id="editDeadline">
                </div>
                <div class="form-group">
                    <label class="filter-label">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                    <select class="filter-select" id="editPriority">
                        <option value="low">–ù–∏–∑–∫–∏–π</option>
                        <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                        <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                        <option value="urgent">–°—Ä–æ—á–Ω—ã–π</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('editOrderModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="saveOrderChanges()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>
    
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notification-container" id="notificationContainer"></div>
    
    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loader"></div>
        <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>
    
    <script>
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        const app = {
            currentManager: null,
            token: localStorage.getItem('managerToken'),
            currentSection: 'dashboard',
            currentOrderId: null,
            currentPage: 1,
            pageSize: 10,
            
            // –î–∞–Ω–Ω—ã–µ
            orders: [],
            performers: [],
            clients: [],
            categories: [],
            
            // –§–∏–ª—å—Ç—Ä—ã
            filters: {
                status: 'all',
                category: 'all',
                dateFrom: null,
                dateTo: null
            }
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('üëî –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–Ω–µ–ª–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞...');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
            if (!app.token) {
                window.location.href = 'index.html';
                return;
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
            await loadManagerData();
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
            setupEventListeners();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            await loadInitialData();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—É—â–∏–π —Ä–∞–∑–¥–µ–ª
            loadCurrentSection();
            
            // –ù–∞—á–∏–Ω–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            startNotifications();
            
            console.log('‚úÖ –ü–∞–Ω–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –≥–æ—Ç–æ–≤–∞');
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–∞
        async function loadManagerData() {
            try {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –∑–∞–ø—Ä–æ—Å –∫ API
                // –î–ª—è –¥–µ–º–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∏–∫—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                app.currentManager = {
                    id: 1,
                    name: '–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞',
                    email: 'manager@test.com',
                    role: 'manager'
                };
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                document.getElementById('managerName').textContent = app.currentManager.name;
                document.getElementById('managerInitials').textContent = app.currentManager.name.charAt(0);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–∞:', error);
                logout();
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        async function loadInitialData() {
            showLoading('–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...');
            
            try {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–∫–∞–∑—ã
                const ordersResponse = await fetch('/api/manager/orders', {
                    headers: { 'Authorization': `Bearer ${app.token}` }
                });
                
                if (ordersResponse.ok) {
                    const data = await ordersResponse.json();
                    app.orders = data.orders || getDemoOrders();
                }
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
                const performersResponse = await fetch('/api/manager/performers', {
                    headers: { 'Authorization': `Bearer ${app.token}` }
                });
                
                if (performersResponse.ok) {
                    const data = await performersResponse.json();
                    app.performers = data.performers || getDemoPerformers();
                }
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–ª–∏–µ–Ω—Ç–æ–≤
                const clientsResponse = await fetch('/api/manager/clients', {
                    headers: { 'Authorization': `Bearer ${app.token}` }
                });
                
                if (clientsResponse.ok) {
                    const data = await clientsResponse.json();
                    app.clients = data.clients || getDemoClients();
                }
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                const categoriesResponse = await fetch('/api/categories');
                if (categoriesResponse.ok) {
                    const data = await categoriesResponse.json();
                    app.categories = data.categories || getDemoCategories();
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
                updateCounters();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
                app.orders = getDemoOrders();
                app.performers = getDemoPerformers();
                app.clients = getDemoClients();
                app.categories = getDemoCategories();
                updateCounters();
            } finally {
                hideLoading();
            }
        }

        // –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
        function getDemoOrders() {
            return [
                {
                    id: 1001,
                    client_id: 1,
                    client_name: '–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞',
                    service: '–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è —É–±–æ—Ä–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã',
                    category: '–£–±–æ—Ä–∫–∞',
                    status: 'new',
                    budget: 5000,
                    created_at: '2024-01-22T10:30:00Z',
                    deadline: '2024-01-25T18:00:00Z',
                    address: '–ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 10',
                    requirements: '–û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∫—É—Ö–Ω–µ –∏ –≤–∞–Ω–Ω–æ–π',
                    performer_id: null,
                    performer_name: null
                },
                {
                    id: 1002,
                    client_id: 2,
                    client_name: '–û–ª—å–≥–∞ –°–∏–¥–æ—Ä–æ–≤–∞',
                    service: '–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ —É–∂–∏–Ω–∞ –Ω–∞ 4 –ø–µ—Ä—Å–æ–Ω—ã',
                    category: '–ì–æ—Ç–æ–≤–∫–∞',
                    status: 'assigned',
                    budget: 3000,
                    created_at: '2024-01-21T14:00:00Z',
                    deadline: '2024-01-22T19:00:00Z',
                    address: '–ú–æ—Å–∫–≤–∞, —É–ª. –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è, –¥. 25',
                    requirements: '–ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è, –¥–∏–µ—Ç–∏—á–µ—Å–∫–æ–µ –ø–∏—Ç–∞–Ω–∏–µ',
                    performer_id: 10,
                    performer_name: '–ï–ª–µ–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞',
                    progress: 60,
                    last_update: '2024-01-22T11:00:00Z'
                },
                {
                    id: 1003,
                    client_id: 3,
                    client_name: '–ú–∞—Ä–∏–Ω–∞ –ö–æ–∑–ª–æ–≤–∞',
                    service: '–ü–æ–∫—É–ø–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –Ω–∞ –Ω–µ–¥–µ–ª—é',
                    category: '–ü–æ–∫—É–ø–∫–∏',
                    status: 'searching',
                    budget: 8000,
                    created_at: '2024-01-22T09:15:00Z',
                    deadline: '2024-01-23T16:00:00Z',
                    address: '–¢–¶ –ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–π',
                    requirements: '–°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏',
                    performer_id: null,
                    performer_name: null
                },
                {
                    id: 1004,
                    client_id: 4,
                    client_name: '–ï–ª–µ–Ω–∞ –í–∞—Å–∏–ª—å–µ–≤–∞',
                    service: '–£—Ö–æ–¥ –∑–∞ —Ä–µ–±–µ–Ω–∫–æ–º',
                    category: '–£—Ö–æ–¥ –∑–∞ –¥–µ—Ç—å–º–∏',
                    status: 'in_progress',
                    budget: 4000,
                    created_at: '2024-01-20T08:00:00Z',
                    deadline: '2024-01-20T20:00:00Z',
                    address: '–ú–æ—Å–∫–≤–∞, —É–ª. –î–µ—Ç—Å–∫–∞—è, –¥. 5',
                    requirements: '–†–µ–±–µ–Ω–æ–∫ 3 –≥–æ–¥–∞, —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—ã—Ç–Ω—ã–π –ø–µ–¥–∞–≥–æ–≥',
                    performer_id: 11,
                    performer_name: '–ê–Ω–Ω–∞ –ú.',
                    progress: 85,
                    last_update: '2024-01-22T10:00:00Z'
                },
                {
                    id: 1005,
                    client_id: 5,
                    client_name: '–ò—Ä–∏–Ω–∞ –ù–æ–≤–∏–∫–æ–≤–∞',
                    service: '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è',
                    category: '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è',
                    status: 'completed',
                    budget: 15000,
                    created_at: '2024-01-15T12:00:00Z',
                    deadline: '2024-01-18T22:00:00Z',
                    address: '–ú–æ—Å–∫–≤–∞, —Ä–µ—Å—Ç–æ—Ä–∞–Ω "–ü—Ä–µ—Å—Ç–∏–∂"',
                    requirements: '–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –Ω–∞ 30 —á–µ–ª–æ–≤–µ–∫',
                    performer_id: 12,
                    performer_name: '–ú–∞—Ä–∏—è –ö.',
                    progress: 100,
                    last_update: '2024-01-18T23:00:00Z',
                    rating: 5,
                    review: '–û—Ç–ª–∏—á–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, –≤—Å—ë –ø—Ä–æ—à–ª–æ –∏–¥–µ–∞–ª—å–Ω–æ!'
                }
            ];
        }

        function getDemoPerformers() {
            return [
                {
                    id: 10,
                    name: '–ï–ª–µ–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞',
                    specialization: ['–£–±–æ—Ä–∫–∞', '–ì–æ—Ç–æ–≤–∫–∞', '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è'],
                    rating: 4.8,
                    completed_tasks: 42,
                    in_progress: 2,
                    avg_response: '1.2—á',
                    status: 'online'
                },
                {
                    id: 11,
                    name: '–ê–Ω–Ω–∞ –ú.',
                    specialization: ['–£—Ö–æ–¥ –∑–∞ –¥–µ—Ç—å–º–∏', '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ'],
                    rating: 4.9,
                    completed_tasks: 67,
                    in_progress: 1,
                    avg_response: '0.8—á',
                    status: 'online'
                },
                {
                    id: 12,
                    name: '–ú–∞—Ä–∏—è –ö.',
                    specialization: ['–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è', '–ü–æ–∫—É–ø–∫–∏', '–ö—Ä–∞—Å–æ—Ç–∞'],
                    rating: 4.7,
                    completed_tasks: 28,
                    in_progress: 0,
                    avg_response: '2.1—á',
                    status: 'offline'
                },
                {
                    id: 13,
                    name: '–û–ª—å–≥–∞ –í.',
                    specialization: ['–£–±–æ—Ä–∫–∞', '–†–µ–º–æ–Ω—Ç'],
                    rating: 4.5,
                    completed_tasks: 15,
                    in_progress: 1,
                    avg_response: '3.5—á',
                    status: 'busy'
                }
            ];
        }

        function getDemoClients() {
            return [
                {
                    id: 1,
                    name: '–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞',
                    subscription: '–ü—Ä–µ–º–∏—É–º',
                    total_orders: 8,
                    total_spent: 42500,
                    last_order: '2024-01-22',
                    avg_rating: 4.8,
                    status: 'active'
                },
                {
                    id: 2,
                    name: '–û–ª—å–≥–∞ –°–∏–¥–æ—Ä–æ–≤–∞',
                    subscription: '–ë–∞–∑–æ–≤—ã–π',
                    total_orders: 3,
                    total_spent: 12000,
                    last_order: '2024-01-21',
                    avg_rating: 4.5,
                    status: 'active'
                },
                {
                    id: 3,
                    name: '–ú–∞—Ä–∏–Ω–∞ –ö–æ–∑–ª–æ–≤–∞',
                    subscription: '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π',
                    total_orders: 1,
                    total_spent: 8000,
                    last_order: '2024-01-22',
                    avg_rating: 0,
                    status: 'active'
                },
                {
                    id: 4,
                    name: '–ï–ª–µ–Ω–∞ –í–∞—Å–∏–ª—å–µ–≤–∞',
                    subscription: 'VIP',
                    total_orders: 15,
                    total_spent: 125000,
                    last_order: '2024-01-20',
                    avg_rating: 4.9,
                    status: 'active'
                }
            ];
        }

        function getDemoCategories() {
            return [
                { id: 1, name: '–£–±–æ—Ä–∫–∞' },
                { id: 2, name: '–ì–æ—Ç–æ–≤–∫–∞' },
                { id: 3, name: '–ü–æ–∫—É–ø–∫–∏' },
                { id: 4, name: '–£—Ö–æ–¥ –∑–∞ –¥–µ—Ç—å–º–∏' },
                { id: 5, name: '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è' }
            ];
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤
        function updateCounters() {
            const newOrders = app.orders.filter(o => o.status === 'new').length;
            const inProgress = app.orders.filter(o => o.status === 'in_progress' || o.status === 'assigned').length;
            const allOrders = app.orders.length;
            
            document.getElementById('newOrdersCount').textContent = newOrders;
            document.getElementById('inProgressCount').textContent = inProgress;
            document.getElementById('allOrdersCount').textContent = allOrders;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–∞—à–±–æ—Ä–¥–∞
            updateDashboardStats();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–∞—à–±–æ—Ä–¥–∞
        function updateDashboardStats() {
            const totalOrders = app.orders.length;
            const revenue = app.orders.reduce((sum, order) => sum + (order.budget || 0), 0);
            const avgOrder = totalOrders > 0 ? revenue / totalOrders : 0;
            
            // –§–∏–∫—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
            const ordersChange = 12; // +12%
            const revenueChange = 18; // +18%
            const avgOrderChange = 5; // +5%
            const satisfaction = 96; // 96%
            
            document.getElementById('totalOrders').textContent = totalOrders;
            document.getElementById('revenue').textContent = revenue.toLocaleString() + ' ‚ÇΩ';
            document.getElementById('avgOrder').textContent = Math.round(avgOrder).toLocaleString() + ' ‚ÇΩ';
            document.getElementById('satisfaction').textContent = satisfaction + '%';
            
            document.getElementById('ordersChange').textContent = ordersChange + '%';
            document.getElementById('revenueChange').textContent = revenueChange + '%';
            document.getElementById('avgOrderChange').textContent = avgOrderChange + '%';
            document.getElementById('satisfactionChange').textContent = '2%';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—ã
            updateRecentOrdersTable();
            updateAttentionTable();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–∫–∞–∑–æ–≤
        function updateRecentOrdersTable() {
            const container = document.getElementById('recentOrdersTable').querySelector('tbody');
            if (!container) return;
            
            const recentOrders = app.orders
                .sort((a, b) => new Date(b.created_at) - new Date(a.created_at))
                .slice(0, 5);
            
            container.innerHTML = recentOrders.map(order => {
                const status = getStatusInfo(order.status);
                return `
                    <tr>
                        <td>#${order.id}</td>
                        <td>${order.client_name}</td>
                        <td>${order.service}</td>
                        <td>
                            <span class="status-badge ${status.class}">
                                <i class="${status.icon}"></i>
                                ${status.name}
                            </span>
                        </td>
                        <td>${order.budget ? order.budget.toLocaleString() + ' ‚ÇΩ' : '–î–æ–≥–æ–≤–æ—Ä–Ω–∞—è'}</td>
                        <td>${new Date(order.created_at).toLocaleDateString('ru-RU')}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-secondary btn-sm" onclick="viewOrder(${order.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                                ${order.status === 'new' ? `
                                    <button class="btn btn-primary btn-sm" onclick="openAssignModal(${order.id})">
                                        <i class="fas fa-user-check"></i>
                                    </button>
                                ` : ''}
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã "–¢—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è"
        function updateAttentionTable() {
            const container = document.getElementById('attentionTable').querySelector('tbody');
            if (!container) return;
            
            // –§–∏–∫—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
            const attentionItems = [
                {
                    problem: '–ü—Ä–æ—Å—Ä–æ—á–µ–Ω –¥–µ–¥–ª–∞–π–Ω',
                    order_id: 1003,
                    order_name: '–ü–æ–∫—É–ø–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –Ω–∞ –Ω–µ–¥–µ–ª—é',
                    client: '–ú–∞—Ä–∏–Ω–∞ –ö–æ–∑–ª–æ–≤–∞',
                    performer: null,
                    priority: 'high'
                },
                {
                    problem: '–ù–µ—Ç –æ—Ç–∫–ª–∏–∫–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è',
                    order_id: 1002,
                    order_name: '–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ —É–∂–∏–Ω–∞',
                    client: '–û–ª—å–≥–∞ –°–∏–¥–æ—Ä–æ–≤–∞',
                    performer: '–ï–ª–µ–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞',
                    priority: 'medium'
                },
                {
                    problem: '–ñ–∞–ª–æ–±–∞ –∫–ª–∏–µ–Ω—Ç–∞',
                    order_id: 1001,
                    order_name: '–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è —É–±–æ—Ä–∫–∞',
                    client: '–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞',
                    performer: null,
                    priority: 'urgent'
                }
            ];
            
            container.innerHTML = attentionItems.map(item => {
                const priorityClass = item.priority === 'urgent' ? 'status-new' : 
                                    item.priority === 'high' ? 'status-search' : 'status-assigned';
                const priorityText = item.priority === 'urgent' ? '–°—Ä–æ—á–Ω–æ' : 
                                   item.priority === 'high' ? '–í—ã—Å–æ–∫–∏–π' : '–°—Ä–µ–¥–Ω–∏–π';
                
                return `
                    <tr>
                        <td>${item.problem}</td>
                        <td>
                            <div>#${item.order_id}</div>
                            <div class="text-sm text-medium">${item.order_name}</div>
                        </td>
                        <td>${item.client}</td>
                        <td>${item.performer || '‚Äî'}</td>
                        <td>
                            <span class="status-badge ${priorityClass}">
                                ${priorityText}
                            </span>
                        </td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-secondary btn-sm" onclick="viewOrder(${item.order_id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-primary btn-sm" onclick="openMessageModal(${item.order_id})">
                                    <i class="fas fa-comment"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç–∞—Ç—É—Å–µ
        function getStatusInfo(status) {
            const statuses = {
                new: { name: '–ù–æ–≤—ã–π', class: 'status-new', icon: 'fas fa-plus-circle' },
                searching: { name: '–í –ø–æ–∏—Å–∫–µ', class: 'status-search', icon: 'fas fa-search' },
                assigned: { name: '–ù–∞–∑–Ω–∞—á–µ–Ω', class: 'status-assigned', icon: 'fas fa-user-check' },
                in_progress: { name: '–í —Ä–∞–±–æ—Ç–µ', class: 'status-in-progress', icon: 'fas fa-spinner' },
                completed: { name: '–ó–∞–≤–µ—Ä—à–µ–Ω', class: 'status-completed', icon: 'fas fa-check-circle' },
                cancelled: { name: '–û—Ç–º–µ–Ω–µ–Ω', class: 'status-cancelled', icon: 'fas fa-times-circle' }
            };
            
            return statuses[status] || statuses.new;
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º
        function navigateToSection(section) {
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é —Å—Å—ã–ª–∫—É
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`.nav-item[data-section="${section}"]`).classList.add('active');
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã
            document.querySelectorAll('.content-section').forEach(sec => {
                sec.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª
            const targetSection = document.getElementById(`${section}Section`);
            if (targetSection) {
                targetSection.classList.add('active');
                app.currentSection = section;
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞
                loadSectionData(section);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞
        function loadSectionData(section) {
            switch(section) {
                case 'dashboard':
                    updateDashboardStats();
                    break;
                case 'orders':
                    loadAllOrdersTable();
                    break;
                case 'new-orders':
                    loadNewOrdersTable();
                    break;
                case 'in-progress':
                    loadInProgressTable();
                    break;
                case 'performers':
                    loadPerformersTable();
                    break;
                case 'clients':
                    loadClientsTable();
                    break;
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
        function loadCurrentSection() {
            loadSectionData(app.currentSection);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤
        function loadAllOrdersTable() {
            const container = document.getElementById('allOrdersTable').querySelector('tbody');
            if (!container) return;
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä—ã
            let filteredOrders = [...app.orders];
            
            if (app.filters.status !== 'all') {
                filteredOrders = filteredOrders.filter(order => order.status === app.filters.status);
            }
            
            if (app.filters.category !== 'all') {
                filteredOrders = filteredOrders.filter(order => order.category === app.filters.category);
            }
            
            if (app.filters.dateFrom) {
                filteredOrders = filteredOrders.filter(order => 
                    new Date(order.created_at) >= new Date(app.filters.dateFrom)
                );
            }
            
            if (app.filters.dateTo) {
                filteredOrders = filteredOrders.filter(order => 
                    new Date(order.created_at) <= new Date(app.filters.dateTo + 'T23:59:59')
                );
            }
            
            // –ü–∞–≥–∏–Ω–∞—Ü–∏—è
            const total = filteredOrders.length;
            const start = (app.currentPage - 1) * app.pageSize;
            const end = start + app.pageSize;
            const pageOrders = filteredOrders.slice(start, end);
            
            container.innerHTML = pageOrders.map(order => {
                const status = getStatusInfo(order.status);
                return `
                    <tr>
                        <td>#${order.id}</td>
                        <td>${order.client_name}</td>
                        <td>${order.service}</td>
                        <td>${order.performer_name || '‚Äî'}</td>
                        <td>
                            <span class="status-badge ${status.class}">
                                <i class="${status.icon}"></i>
                                ${status.name}
                            </span>
                        </td>
                        <td>${order.budget ? order.budget.toLocaleString() + ' ‚ÇΩ' : '–î–æ–≥–æ–≤–æ—Ä–Ω–∞—è'}</td>
                        <td>${new Date(order.created_at).toLocaleDateString('ru-RU')}</td>
                        <td>${order.deadline ? new Date(order.deadline).toLocaleDateString('ru-RU') : '‚Äî'}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-secondary btn-sm" onclick="viewOrder(${order.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-secondary btn-sm" onclick="openEditModal(${order.id})">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-secondary btn-sm" onclick="openMessageModal(${order.id})">
                                    <i class="fas fa-comment"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–∞–≥–∏–Ω–∞—Ü–∏—é
            updatePagination(total);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
            document.getElementById('shownOrders').textContent = pageOrders.length;
            document.getElementById('totalOrdersCount').textContent = total;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ–ø—Ü–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤ —Ñ–∏–ª—å—Ç—Ä–µ
            updateCategoryFilter();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        function updateCategoryFilter() {
            const filter = document.getElementById('categoryFilter');
            if (!filter) return;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
            const currentValue = filter.value;
            
            // –û—á–∏—â–∞–µ–º –æ–ø—Ü–∏–∏ (–∫—Ä–æ–º–µ "–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏")
            while (filter.options.length > 1) {
                filter.remove(1);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ –∑–∞–∫–∞–∑–æ–≤
            const categories = [...new Set(app.orders.map(order => order.category))];
            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category;
                option.textContent = category;
                filter.appendChild(option);
            });
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
            filter.value = currentValue;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
        function updatePagination(total) {
            const totalPages = Math.ceil(total / app.pageSize);
            const paginationContainer = document.querySelector('#ordersSection .flex.gap-1');
            if (!paginationContainer) return;
            
            paginationContainer.innerHTML = '';
            
            for (let i = 1; i <= totalPages; i++) {
                const button = document.createElement('button');
                button.className = `btn btn-sm ${i === app.currentPage ? 'btn-primary' : 'btn-secondary'}`;
                button.textContent = i;
                button.onclick = () => goToPage(i);
                paginationContainer.appendChild(button);
            }
        }

        function goToPage(page) {
            app.currentPage = page;
            loadAllOrdersTable();
        }

        function prevPage() {
            if (app.currentPage > 1) {
                app.currentPage--;
                loadAllOrdersTable();
            }
        }

        function nextPage() {
            const total = app.orders.filter(order => {
                if (app.filters.status !== 'all' && order.status !== app.filters.status) return false;
                if (app.filters.category !== 'all' && order.category !== app.filters.category) return false;
                return true;
            }).length;
            
            const totalPages = Math.ceil(total / app.pageSize);
            
            if (app.currentPage < totalPages) {
                app.currentPage++;
                loadAllOrdersTable();
            }
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
        function applyFilters() {
            app.filters.status = document.getElementById('statusFilter').value;
            app.filters.category = document.getElementById('categoryFilter').value;
            app.filters.dateFrom = document.getElementById('dateFrom').value;
            app.filters.dateTo = document.getElementById('dateTo').value;
            
            app.currentPage = 1;
            loadAllOrdersTable();
        }

        function resetFilters() {
            document.getElementById('statusFilter').value = 'all';
            document.getElementById('categoryFilter').value = 'all';
            document.getElementById('dateFrom').value = '';
            document.getElementById('dateTo').value = '';
            
            app.filters = {
                status: 'all',
                category: 'all',
                dateFrom: null,
                dateTo: null
            };
            
            app.currentPage = 1;
            loadAllOrdersTable();
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–æ–≤
        function loadNewOrdersTable() {
            const container = document.getElementById('newOrdersTable').querySelector('tbody');
            if (!container) return;
            
            const newOrders = app.orders.filter(order => order.status === 'new' || order.status === 'searching');
            
            container.innerHTML = newOrders.map(order => {
                const status = getStatusInfo(order.status);
                return `
                    <tr>
                        <td>#${order.id}</td>
                        <td>${order.client_name}</td>
                        <td>${order.service}</td>
                        <td>${order.budget ? order.budget.toLocaleString() + ' ‚ÇΩ' : '–î–æ–≥–æ–≤–æ—Ä–Ω–∞—è'}</td>
                        <td>${order.deadline ? new Date(order.deadline).toLocaleDateString('ru-RU') : '‚Äî'}</td>
                        <td>${order.address || '‚Äî'}</td>
                        <td>${order.requirements ? order.requirements.substring(0, 50) + '...' : '‚Äî'}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-secondary btn-sm" onclick="viewOrder(${order.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-primary btn-sm" onclick="openAssignModal(${order.id})">
                                    <i class="fas fa-user-check"></i>
                                </button>
                                <button class="btn btn-secondary btn-sm" onclick="openMessageModal(${order.id})">
                                    <i class="fas fa-comment"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –∑–∞–∫–∞–∑–æ–≤ –≤ —Ä–∞–±–æ—Ç–µ
        function loadInProgressTable() {
            const container = document.getElementById('inProgressTable').querySelector('tbody');
            if (!container) return;
            
            const inProgressOrders = app.orders.filter(order => 
                order.status === 'in_progress' || order.status === 'assigned'
            );
            
            container.innerHTML = inProgressOrders.map(order => {
                const status = getStatusInfo(order.status);
                return `
                    <tr>
                        <td>#${order.id}</td>
                        <td>${order.client_name}</td>
                        <td>${order.service}</td>
                        <td>${order.performer_name || '‚Äî'}</td>
                        <td>
                            <div class="flex items-center gap-2">
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-gold h-2 rounded-full" style="width: ${order.progress || 0}%"></div>
                                </div>
                                <span class="text-sm">${order.progress || 0}%</span>
                            </div>
                        </td>
                        <td>${order.deadline ? new Date(order.deadline).toLocaleDateString('ru-RU') : '‚Äî'}</td>
                        <td>${order.last_update ? new Date(order.last_update).toLocaleString('ru-RU') : '‚Äî'}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-secondary btn-sm" onclick="viewOrder(${order.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-primary btn-sm" onclick="openMessageModal(${order.id})">
                                    <i class="fas fa-comment"></i>
                                </button>
                                <button class="btn btn-success btn-sm" onclick="completeOrder(${order.id})">
                                    <i class="fas fa-check"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
        function loadPerformersTable() {
            const container = document.getElementById('performersTable').querySelector('tbody');
            if (!container) return;
            
            container.innerHTML = app.performers.map(performer => {
                const statusClass = performer.status === 'online' ? 'status-completed' : 
                                 performer.status === 'busy' ? 'status-in-progress' : 'status-cancelled';
                const statusText = performer.status === 'online' ? '–î–æ—Å—Ç—É–ø–µ–Ω' : 
                                 performer.status === 'busy' ? '–ó–∞–Ω—è—Ç' : '–ù–µ –≤ —Å–µ—Ç–∏';
                
                return `
                    <tr>
                        <td>
                            <div class="font-medium">${performer.name}</div>
                            <div class="text-sm text-medium">ID: ${performer.id}</div>
                        </td>
                        <td>${performer.specialization.join(', ')}</td>
                        <td>
                            <div class="flex items-center gap-1">
                                <i class="fas fa-star text-yellow-400"></i>
                                <span>${performer.rating}</span>
                            </div>
                        </td>
                        <td>${performer.completed_tasks}</td>
                        <td>${performer.in_progress}</td>
                        <td>${performer.avg_response}</td>
                        <td>
                            <span class="status-badge ${statusClass}">
                                ${statusText}
                            </span>
                        </td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-secondary btn-sm" onclick="viewPerformer(${performer.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-primary btn-sm" onclick="messagePerformer(${performer.id})">
                                    <i class="fas fa-comment"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
        function loadClientsTable() {
            const container = document.getElementById('clientsTable').querySelector('tbody');
            if (!container) return;
            
            container.innerHTML = app.clients.map(client => {
                const statusClass = client.status === 'active' ? 'status-completed' : 'status-cancelled';
                const statusText = client.status === 'active' ? '–ê–∫—Ç–∏–≤–µ–Ω' : '–ù–µ–∞–∫—Ç–∏–≤–µ–Ω';
                
                return `
                    <tr>
                        <td>
                            <div class="font-medium">${client.name}</div>
                            <div class="text-sm text-medium">ID: ${client.id}</div>
                        </td>
                        <td>${client.subscription}</td>
                        <td>${client.total_orders}</td>
                        <td>${client.total_spent.toLocaleString()} ‚ÇΩ</td>
                        <td>${client.last_order ? new Date(client.last_order).toLocaleDateString('ru-RU') : '‚Äî'}</td>
                        <td>
                            <div class="flex items-center gap-1">
                                <i class="fas fa-star text-yellow-400"></i>
                                <span>${client.avg_rating || '‚Äî'}</span>
                            </div>
                        </td>
                        <td>
                            <span class="status-badge ${statusClass}">
                                ${statusText}
                            </span>
                        </td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-secondary btn-sm" onclick="viewClient(${client.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-primary btn-sm" onclick="messageClient(${client.id})">
                                    <i class="fas fa-comment"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–∞
        function viewOrder(orderId) {
            app.currentOrderId = orderId;
            
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —Ä–∞–∑–¥–µ–ª –¥–µ—Ç–∞–ª–µ–π –∑–∞–∫–∞–∑–∞
            showOrderDetails(orderId);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
        function showOrderDetails(orderId) {
            const order = app.orders.find(o => o.id === orderId);
            if (!order) return;
            
            const status = getStatusInfo(order.status);
            
            // –°–æ–∑–¥–∞–µ–º HTML –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –∑–∞–∫–∞–∑–∞
            const html = `
                <div class="order-details">
                    <div class="order-header">
                        <div>
                            <h1 class="order-title">–ó–∞–∫–∞–∑ #${order.id}</h1>
                            <div class="flex items-center gap-4 mt-2">
                                <span class="status-badge ${status.class}">
                                    <i class="${status.icon}"></i>
                                    ${status.name}
                                </span>
                                <span class="text-lg font-semibold text-gold">
                                    ${order.budget ? order.budget.toLocaleString() + ' ‚ÇΩ' : '–î–æ–≥–æ–≤–æ—Ä–Ω–∞—è'}
                                </span>
                            </div>
                        </div>
                        <button class="btn btn-secondary" onclick="navigateToSection('orders')">
                            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                        </button>
                    </div>
                    
                    <div class="order-info-grid">
                        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ -->
                        <div class="info-card">
                            <h3>–ö–ª–∏–µ–Ω—Ç</h3>
                            <div class="info-item">
                                <span class="info-label">–ò–º—è:</span>
                                <span class="info-value">${order.client_name}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">ID:</span>
                                <span class="info-value">${order.client_id}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</span>
                                <span class="info-value">${order.category}</span>
                            </div>
                        </div>
                        
                        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å–ª—É–≥–µ -->
                        <div class="info-card">
                            <h3>–£—Å–ª—É–≥–∞</h3>
                            <div class="info-item">
                                <span class="info-label">–ù–∞–∑–≤–∞–Ω–∏–µ:</span>
                                <span class="info-value">${order.service}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">–ê–¥—Ä–µ—Å:</span>
                                <span class="info-value">${order.address || '‚Äî'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:</span>
                                <span class="info-value">${order.requirements || '‚Äî'}</span>
                            </div>
                        </div>
                        
                        <!-- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
                        <div class="info-card">
                            <h3>–í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
                            <div class="info-item">
                                <span class="info-label">–°–æ–∑–¥–∞–Ω:</span>
                                <span class="info-value">${new Date(order.created_at).toLocaleString('ru-RU')}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">–î–µ–¥–ª–∞–π–Ω:</span>
                                <span class="info-value">${order.deadline ? new Date(order.deadline).toLocaleString('ru-RU') : '‚Äî'}</span>
                            </div>
                            ${order.last_update ? `
                                <div class="info-item">
                                    <span class="info-label">–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:</span>
                                    <span class="info-value">${new Date(order.last_update).toLocaleString('ru-RU')}</span>
                                </div>
                            ` : ''}
                        </div>
                        
                        <!-- –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å -->
                        ${order.performer_name ? `
                            <div class="info-card">
                                <h3>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</h3>
                                <div class="info-item">
                                    <span class="info-label">–ò–º—è:</span>
                                    <span class="info-value">${order.performer_name}</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">ID:</span>
                                    <span class="info-value">${order.performer_id}</span>
                                </div>
                                ${order.progress ? `
                                    <div class="info-item">
                                        <span class="info-label">–ü—Ä–æ–≥—Ä–µ—Å—Å:</span>
                                        <span class="info-value">${order.progress}%</span>
                                    </div>
                                ` : ''}
                            </div>
                        ` : ''}
                    </div>
                    
                    <!-- –î–µ–π—Å—Ç–≤–∏—è -->
                    <div class="flex gap-3 mt-6">
                        ${order.status === 'new' || order.status === 'searching' ? `
                            <button class="btn btn-primary" onclick="openAssignModal(${order.id})">
                                <i class="fas fa-user-check"></i> –ù–∞–∑–Ω–∞—á–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
                            </button>
                        ` : ''}
                        
                        ${order.status === 'assigned' || order.status === 'in_progress' ? `
                            <button class="btn btn-success" onclick="completeOrder(${order.id})">
                                <i class="fas fa-check"></i> –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–∫–∞–∑
                            </button>
                        ` : ''}
                        
                        <button class="btn btn-secondary" onclick="openEditModal(${order.id})">
                            <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                        
                        <button class="btn btn-secondary" onclick="openMessageModal(${order.id})">
                            <i class="fas fa-comment"></i> –ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
                        </button>
                        
                        ${order.status !== 'cancelled' ? `
                            <button class="btn btn-secondary" onclick="cancelOrder(${order.id})">
                                <i class="fas fa-times"></i> –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑
                            </button>
                        ` : ''}
                    </div>
                    
                    <!-- –ß–∞—Ç –∑–∞–∫–∞–∑–∞ -->
                    ${order.status !== 'cancelled' ? `
                        <div class="order-chat mt-8">
                            <div class="chat-header">
                                <h3>–û–±—Å—É–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h3>
                            </div>
                            <div class="chat-messages" id="chatMessages${order.id}">
                                <!-- –°–æ–æ–±—â–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                            <div class="chat-input-container">
                                <div class="chat-input-wrapper">
                                    <input type="text" class="chat-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." id="chatInput${order.id}">
                                    <button class="btn btn-primary" onclick="sendOrderMessage(${order.id})">
                                        <i class="fas fa-paper-plane"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
            
            // –ó–∞–º–µ–Ω—è–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
            const contentArea = document.getElementById('contentArea');
            contentArea.innerHTML = html;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞
            loadOrderChat(orderId);
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å —á–∞—Ç –∑–∞–∫–∞–∑–∞
        function loadOrderChat(orderId) {
            const container = document.getElementById(`chatMessages${orderId}`);
            if (!container) return;
            
            // –§–∏–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –¥–µ–º–æ
            const messages = [
                {
                    id: 1,
                    sender: 'manager',
                    text: '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –í–∞—à –∑–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç –≤ —Ä–∞–±–æ—Ç—É. –°–∫–æ—Ä–æ –ø–æ–¥–±–µ—Ä–µ–º –¥–ª—è –≤–∞—Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è.',
                    time: '2024-01-22T10:35:00Z'
                },
                {
                    id: 2,
                    sender: 'client',
                    text: '–°–ø–∞—Å–∏–±–æ! –ë—É–¥—É –∂–¥–∞—Ç—å.',
                    time: '2024-01-22T10:40:00Z'
                },
                {
                    id: 3,
                    sender: 'manager',
                    text: '–î–ª—è –≤–∞—à–µ–≥–æ –∑–∞–∫–∞–∑–∞ –º—ã –Ω–∞—à–ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü—É –ï–ª–µ–Ω—É –°. –° –µ–µ –ø—Ä–æ—Ñ–∏–ª–µ–º –º–æ–∂–Ω–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.',
                    time: '2024-01-22T11:15:00Z'
                }
            ];
            
            container.innerHTML = messages.map(msg => `
                <div class="message ${msg.sender === 'manager' ? 'manager' : 'user'}">
                    <div>${msg.text}</div>
                    <div class="message-time">${new Date(msg.time).toLocaleString('ru-RU')}</div>
                </div>
            `).join('');
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –≤–Ω–∏–∑
            container.scrollTop = container.scrollHeight;
        }

        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç –∑–∞–∫–∞–∑–∞
        function sendOrderMessage(orderId) {
            const input = document.getElementById(`chatInput${orderId}`);
            const message = input.value.trim();
            
            if (!message) return;
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
            const container = document.getElementById(`chatMessages${orderId}`);
            const newMessage = `
                <div class="message manager">
                    <div>${message}</div>
                    <div class="message-time">${new Date().toLocaleString('ru-RU')}</div>
                </div>
            `;
            
            container.innerHTML += newMessage;
            
            // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
            input.value = '';
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –≤–Ω–∏–∑
            container.scrollTop = container.scrollHeight;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            showNotification('–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ', 'success');
        }

        // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
        function openAssignModal(orderId) {
            app.currentOrderId = orderId;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –≤ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫
            const select = document.getElementById('performerSelect');
            select.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</option>';
            
            app.performers.forEach(performer => {
                const option = document.createElement('option');
                option.value = performer.id;
                option.textContent = `${performer.name} (—Ä–µ–π—Ç–∏–Ω–≥: ${performer.rating})`;
                select.appendChild(option);
            });
            
            openModal('assignModal');
        }

        // –ù–∞–∑–Ω–∞—á–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
        async function assignPerformer() {
            const orderId = app.currentOrderId;
            const performerId = document.getElementById('performerSelect').value;
            const message = document.getElementById('assignMessage').value;
            
            if (!performerId) {
                showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è', 'error');
                return;
            }
            
            showLoading('–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è...');
            
            try {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –∑–∞–ø—Ä–æ—Å –∫ API
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–∫–∞–∑ –ª–æ–∫–∞–ª—å–Ω–æ
                const orderIndex = app.orders.findIndex(o => o.id === orderId);
                if (orderIndex !== -1) {
                    const performer = app.performers.find(p => p.id == performerId);
                    app.orders[orderIndex].performer_id = performerId;
                    app.orders[orderIndex].performer_name = performer?.name;
                    app.orders[orderIndex].status = 'assigned';
                    app.orders[orderIndex].last_update = new Date().toISOString();
                }
                
                showNotification('–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –Ω–∞–∑–Ω–∞—á–µ–Ω', 'success');
                closeModal('assignModal');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                updateCounters();
                loadCurrentSection();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:', error);
                showNotification('–û—à–∏–±–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è', 'error');
            } finally {
                hideLoading();
            }
        }

        // –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–∫–∞–∑
        async function completeOrder(orderId) {
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∑–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–∫–∞–∑?')) {
                return;
            }
            
            showLoading('–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞...');
            
            try {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –∑–∞–ø—Ä–æ—Å –∫ API
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–∫–∞–∑ –ª–æ–∫–∞–ª—å–Ω–æ
                const orderIndex = app.orders.findIndex(o => o.id === orderId);
                if (orderIndex !== -1) {
                    app.orders[orderIndex].status = 'completed';
                    app.orders[orderIndex].progress = 100;
                    app.orders[orderIndex].last_update = new Date().toISOString();
                }
                
                showNotification('–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω', 'success');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                updateCounters();
                loadCurrentSection();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞', 'error');
            } finally {
                hideLoading();
            }
        }

        // –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑
        async function cancelOrder(orderId) {
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑?')) {
                return;
            }
            
            showLoading('–û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞...');
            
            try {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –∑–∞–ø—Ä–æ—Å –∫ API
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–∫–∞–∑ –ª–æ–∫–∞–ª—å–Ω–æ
                const orderIndex = app.orders.findIndex(o => o.id === orderId);
                if (orderIndex !== -1) {
                    app.orders[orderIndex].status = 'cancelled';
                    app.orders[orderIndex].last_update = new Date().toISOString();
                }
                
                showNotification('–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ç–º–µ–Ω–µ–Ω', 'success');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                updateCounters();
                loadCurrentSection();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–º–µ–Ω—ã –∑–∞–∫–∞–∑–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ –æ—Ç–º–µ–Ω—ã –∑–∞–∫–∞–∑–∞', 'error');
            } finally {
                hideLoading();
            }
        }

        // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–∫–∞–∑
        function openEditModal(orderId) {
            app.currentOrderId = orderId;
            
            const order = app.orders.find(o => o.id === orderId);
            if (!order) return;
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É –¥–∞–Ω–Ω—ã–º–∏ –∑–∞–∫–∞–∑–∞
            document.getElementById('editStatus').value = order.status;
            document.getElementById('editBudget').value = order.budget || '';
            document.getElementById('editDeadline').value = order.deadline ? 
                new Date(order.deadline).toISOString().slice(0, 16) : '';
            document.getElementById('editPriority').value = order.priority || 'medium';
            
            openModal('editOrderModal');
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
        async function saveOrderChanges() {
            const orderId = app.currentOrderId;
            const status = document.getElementById('editStatus').value;
            const budget = document.getElementById('editBudget').value;
            const deadline = document.getElementById('editDeadline').value;
            const priority = document.getElementById('editPriority').value;
            
            showLoading('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π...');
            
            try {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –∑–∞–ø—Ä–æ—Å –∫ API
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–∫–∞–∑ –ª–æ–∫–∞–ª—å–Ω–æ
                const orderIndex = app.orders.findIndex(o => o.id === orderId);
                if (orderIndex !== -1) {
                    app.orders[orderIndex].status = status;
                    app.orders[orderIndex].budget = budget ? parseInt(budget) : null;
                    app.orders[orderIndex].deadline = deadline || null;
                    app.orders[orderIndex].priority = priority;
                    app.orders[orderIndex].last_update = new Date().toISOString();
                }
                
                showNotification('–ò–∑–º–µ–Ω–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã', 'success');
                closeModal('editOrderModal');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                updateCounters();
                loadCurrentSection();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π', 'error');
            } finally {
                hideLoading();
            }
        }

        // –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏—è
        function openMessageModal(orderId) {
            app.currentOrderId = orderId;
            openModal('messageModal');
        }

        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
        async function sendMessage() {
            const orderId = app.currentOrderId;
            const recipient = document.getElementById('recipientSelect').value;
            const message = document.getElementById('messageText').value;
            
            if (!message.trim()) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ', 'error');
                return;
            }
            
            showLoading('–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è...');
            
            try {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –∑–∞–ø—Ä–æ—Å –∫ API
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                showNotification('–°–æ–æ–±—â–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ', 'success');
                closeModal('messageModal');
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è:', error);
                showNotification('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è', 'error');
            } finally {
                hideLoading();
            }
        }

        // –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
        function viewPerformer(performerId) {
            const performer = app.performers.find(p => p.id === performerId);
            if (!performer) return;
            
            alert(`–ü—Ä–æ—Ñ–∏–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è: ${performer.name}\n–†–µ–π—Ç–∏–Ω–≥: ${performer.rating}\n–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞—á: ${performer.completed_tasks}`);
        }

        // –ù–∞–ø–∏—Å–∞—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é
        function messagePerformer(performerId) {
            const performer = app.performers.find(p => p.id === performerId);
            if (!performer) return;
            
            const message = prompt(`–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é ${performer.name}:`);
            if (message) {
                showNotification('–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é', 'success');
            }
        }

        // –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–ª–∏–µ–Ω—Ç–∞
        function viewClient(clientId) {
            const client = app.clients.find(c => c.id === clientId);
            if (!client) return;
            
            alert(`–ü—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–µ–Ω—Ç–∞: ${client.name}\n–ü–æ–¥–ø–∏—Å–∫–∞: ${client.subscription}\n–ó–∞–∫–∞–∑–æ–≤: ${client.total_orders}\n–ü–æ—Ç—Ä–∞—á–µ–Ω–æ: ${client.total_spent.toLocaleString()} ‚ÇΩ`);
        }

        // –ù–∞–ø–∏—Å–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—É
        function messageClient(clientId) {
            const client = app.clients.find(c => c.id === clientId);
            if (!client) return;
            
            const message = prompt(`–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É ${client.name}:`);
            if (message) {
                showNotification('–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–ª–∏–µ–Ω—Ç—É', 'success');
            }
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const section = this.getAttribute('data-section');
                    navigateToSection(section);
                });
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
            document.querySelectorAll('.modal-close').forEach(btn => {
                btn.addEventListener('click', function() {
                    const modal = this.closest('.modal');
                    if (modal) {
                        closeModal(modal.id);
                    }
                });
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –æ–≤–µ—Ä–ª–µ–π
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    closeModal(e.target.id);
                }
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeAllModals();
                }
            });
        }

        // –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
        function logout() {
            localStorage.removeItem('managerToken');
            window.location.href = 'index.html';
        }

        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message, type = 'info') {
            const container = document.getElementById('notificationContainer');
            if (!container) return;
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icons = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };
            
            notification.innerHTML = `
                <i class="${icons[type] || icons.info}"></i>
                <div>${message}</div>
                <button onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            container.appendChild(notification);
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 5000);
        }

        // –ó–∞–ø—É—Å–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–∏–º–∏—Ç–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π)
        function startNotifications() {
            // –ò–º–∏—Ç–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–æ–≤
            setInterval(() => {
                if (Math.random() > 0.7) { // 30% chance
                    showNotification('–ü–æ—Å—Ç—É–ø–∏–ª –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑', 'info');
                    updateCounters();
                }
            }, 30000); // –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = '';
            }
        }

        function closeAllModals() {
            document.querySelectorAll('.modal.active').forEach(modal => {
                modal.classList.remove('active');
            });
            document.body.style.overflow = '';
        }

        function showLoading(text = '–ó–∞–≥—Ä—É–∑–∫–∞...') {
            const overlay = document.getElementById('loadingOverlay');
            const loadingText = document.querySelector('.loading-text');
            
            if (overlay && loadingText) {
                loadingText.textContent = text;
                overlay.classList.add('active');
            }
        }

        function hideLoading() {
            const overlay = document.getElementById('loadingOverlay');
            if (overlay) {
                overlay.classList.remove('active');
            }
        }

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        window.navigateToSection = navigateToSection;
        window.viewOrder = viewOrder;
        window.openAssignModal = openAssignModal;
        window.assignPerformer = assignPerformer;
        window.completeOrder = completeOrder;
        window.cancelOrder = cancelOrder;
        window.openEditModal = openEditModal;
        window.saveOrderChanges = saveOrderChanges;
        window.openMessageModal = openMessageModal;
        window.sendMessage = sendMessage;
        window.sendOrderMessage = sendOrderMessage;
        window.viewPerformer = viewPerformer;
        window.messagePerformer = messagePerformer;
        window.viewClient = viewClient;
        window.messageClient = messageClient;
        window.applyFilters = applyFilters;
        window.resetFilters = resetFilters;
        window.prevPage = prevPage;
        window.nextPage = nextPage;
        window.goToPage = goToPage;
        window.logout = logout;
        window.closeModal = closeModal;
    </script>
</body>
</html>
