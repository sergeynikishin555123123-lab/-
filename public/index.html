<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>üéÄ WOMAN HELP | –ü—Ä–µ–º–∏—É–º —Å–µ—Ä–≤–∏—Å –¥–ª—è –∂–µ–Ω—â–∏–Ω</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
        /* –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ */
        :root {
            --ivory-bg: #F9F7F3;
            --ivory-light: #FDFCF9;
            --graphite-dark: #3D3D3D;
            --graphite-medium: #555555;
            --graphite-light: #888888;
            --pastel-pink: #F2DDE6;
            --pink-light: #FAF2F6;
            --pink-medium: #E8CCD9;
            --pink-dark: #D4B8C7;
            --gold-metallic: #C5A880;
            --gold-dark: #A78B65;
            --lavender: #B9AFFF;
            --lavender-light: #F0EEFF;
            --white: #FFFFFF;
            --success: #38B2AC;
            --warning: #ED8936;
            --error: #E57373;
            --info: #5C6BC0;
            --primary-accent: var(--gold-metallic);
            --primary-accent-dark: var(--gold-dark);
            --secondary-accent: var(--lavender);
            --secondary-accent-light: var(--lavender-light);
            --action-color: var(--pastel-pink);
            --action-dark: var(--pink-medium);
            --card-bg: var(--ivory-bg); /* –¢–µ–ø–µ—Ä—å —Ñ–æ–Ω –∫–∞—Ä—Ç–æ—á–µ–∫ —Ç–∞–∫–æ–π –∂–µ –∫–∞–∫ —Ñ–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
            --card-hover-bg: var(--ivory-light);
            
            
            --primary-gradient: linear-gradient(135deg, var(--gold-metallic), var(--gold-dark));
            --secondary-gradient: linear-gradient(135deg, var(--lavender), #A396FF);
            --action-gradient: linear-gradient(135deg, var(--pastel-pink), var(--pink-medium));
            --pink-gradient: linear-gradient(135deg, var(--pastel-pink), var(--pink-light));
            
            --shadow-sm: 0 2px 8px rgba(61, 61, 61, 0.04);
            --shadow: 0 4px 16px rgba(61, 61, 61, 0.08);
            --shadow-lg: 0 8px 32px rgba(61, 61, 61, 0.12);
            --shadow-xl: 0 20px 40px rgba(61, 61, 61, 0.15);
            
            --radius-sm: 8px;
            --radius: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --radius-full: 9999px;
            
            --transition-fast: 0.15s ease;
            --transition: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 0.4s ease;
            
            --nav-height: 70px;
            --bottom-nav-height: 60px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        html, body {
            font-family: 'Inter', sans-serif;
            background: var(--ivory-bg);
            color: var(--graphite-dark);
            line-height: 1.6;
            min-height: 100vh;
            font-weight: 400;
            padding-top: var(--nav-height);
            padding-bottom: var(--bottom-nav-height);
            overflow-x: hidden;
            max-width: 100%;
            position: relative;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 16px;
            width: 100%;
        }
        
        /* ==================== –û–°–ù–û–í–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø ==================== */
        
        /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–∞ –∏ —à–∞–ø–∫–∏ */
        .top-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--nav-height);
            background: rgba(249, 247, 243, 0.97);
            border-bottom: 1px solid var(--pastel-pink);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .top-nav .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            width: auto;
            overflow: visible;
            font-family: 'Playfair Display', serif;
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--graphite-dark);
            text-decoration: none;
        }
        
      .logo-img {
        width: 40px !important;
        height: 40px !important;
        border-radius: 8px !important;
        border: none !important;
        background: none !important;
        padding: 0 !important;
        box-shadow: none !important;
        object-fit: contain !important;
        display: block !important;
    }
         .logo-frame::before,
    .logo-frame::after {
        display: none !important;
    }
        .logo-woman, .logo-help {
            font-weight: 700;
            font-size: 1.4rem;
        }
        
        .logo-woman {
            color: var(--graphite-dark);
        }
        
        .logo-help {
            color: var(--gold-metallic);
        }
        
         .logo-tagline {
        font-size: 0.65rem !important;
    }
        
        /* –ü—Ä–æ—Ñ–∏–ª—å –≤ —à–∞–ø–∫–µ */
   .user-avatar {
        width: 44px;
        height: 44px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--gold-metallic), var(--gold-dark));
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 700;
        font-size: 1.2rem;
        cursor: pointer;
        margin-left: auto;
        margin-right: 5px;
        flex-shrink: 0;
        border: 3px solid white;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 
            0 4px 12px rgba(197, 168, 128, 0.25),
            inset 0 0 0 1px rgba(255, 255, 255, 0.3);
        position: relative;
        overflow: hidden;
    }
        
            .user-avatar:hover {
        transform: scale(1.08) rotate(5deg);
        box-shadow: 
            0 6px 20px rgba(197, 168, 128, 0.35),
            inset 0 0 0 1px rgba(255, 255, 255, 0.4);
    }

.user-avatar:hover::before {
        opacity: 1;
    }
        
        .user-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
        display: block;
        border: 2px solid rgba(255, 255, 255, 0.9);
    }

.user-avatar.active {
        background: linear-gradient(135deg, var(--pastel-pink), var(--pink-medium));
        transform: scale(1.05);
    }
        
        /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –º–µ–Ω—é –ø—Ä–æ—Ñ–∏–ª—è */
        .user-menu {
            display: none;
            position: absolute;
            top: 60px;
            right: 15px;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            width: 280px;
            z-index: 1000;
            border: 1px solid rgba(61, 61, 61, 0.1);
            animation: fadeIn 0.2s ease;
        }
        
        .nav-menu-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            text-decoration: none;
            color: var(--graphite-dark);
            border-radius: var(--radius-sm);
            transition: var(--transition-fast);
            gap: 12px;
            width: 100%;
        }
        
        .nav-menu-item:hover {
            background: rgba(242, 221, 230, 0.1);
        }
        
        /* –£–±–∏—Ä–∞–µ–º –Ω–µ–Ω—É–∂–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é */
        .nav-menu-item[onclick*="all-categories"],
        .nav-menu-item[onclick*="all-services"],
        .nav-menu-item[onclick*="guides"] {
            display: none !important;
        }
        
        /* –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: var(--bottom-nav-height);
            background: rgba(249, 247, 243, 0.98);
            border-top: 1px solid var(--pastel-pink);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 10px;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            color: var(--graphite-medium);
            padding: 8px 12px;
            border-radius: var(--radius);
            transition: var(--transition-fast);
            min-width: 60px;
            cursor: pointer;
        }
        
        .nav-item.active {
            color: var(--pastel-pink);
            background: rgba(242, 221, 230, 0.08);
        }
        
        .nav-item i {
            font-size: 1.2rem;
            margin-bottom: 4px;
        }
        
        .nav-item span {
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .page {
            display: none;
            animation: fadeIn 0.3s ease;
            min-height: calc(100vh - var(--nav-height) - var(--bottom-nav-height));
            padding: 20px 0;
            width: 100%;
        }
        
        .page.active {
            display: block;
        }
        
        /* –°–µ–∫—Ü–∏–∏ */
        .section {
            margin-bottom: 30px;
            width: 100%;
        }
        
        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--graphite-dark);
            margin-bottom: 20px;
        }
        
        .section-subtitle {
            font-size: 1rem;
            color: var(--graphite-medium);
            margin-bottom: 24px;
            line-height: 1.5;
        }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
/* –ö–∞—Ä—Ç–æ—á–∫–∏ */
.card {
    background: var(--card-bg); /* –ò–∑–º–µ–Ω–µ–Ω–æ —Å var(--ivory-light) */
    border-radius: var(--radius);
    padding: 20px;
    border: 1px solid rgba(242, 221, 230, 0.5);
    box-shadow: var(--shadow-sm);
    transition: var(--transition);
    width: 100%;
    backdrop-filter: blur(10px);
}

.card:hover {
    background: var(--card-hover-bg); /* –ò–∑–º–µ–Ω–µ–Ω–æ —Å white */
    transform: translateY(-4px);
    box-shadow: var(--shadow);
}
        
        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 14px 28px;
            border: none;
            border-radius: var(--radius);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
        }
        
        .btn:active {
            transform: translateY(0) !important;
        }
        
        .btn-primary {
            background: var(--primary-gradient);
            color: white;
            box-shadow: 0 4px 12px rgba(197, 168, 128, 0.25);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(197, 168, 128, 0.3);
        }
        
        .btn-secondary {
            background: var(--white);
            color: var(--graphite-dark);
            border: 2px solid rgba(61, 61, 61, 0.1);
        }
        
        .btn-secondary:hover {
            background: rgba(61, 61, 61, 0.02);
            border-color: var(--graphite-light);
            transform: translateY(-1px);
        }
        
        .btn-action {
            background: var(--action-gradient);
            color: var(--graphite-dark);
            border: none;
        }
        
        .btn-action:hover {
            background: linear-gradient(135deg, var(--pink-medium), var(--pastel-pink));
            transform: translateY(-2px);
        }
        
        /* Hero —Å–µ–∫—Ü–∏—è */
        .hero {
            background: linear-gradient(135deg, rgba(249, 247, 243, 0.9), rgba(242, 221, 230, 0.3));
            border-radius: var(--radius-xl);
            padding: 40px;
            margin-bottom: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--pastel-pink);
        }
        
        .hero:before,
        .hero:after {
            content: '';
            position: absolute;
            border-radius: 50%;
            opacity: 0.2;
        }
        
        .hero:before {
            top: -50%;
            right: -50%;
            width: 200px;
            height: 200px;
            background: linear-gradient(135deg, var(--lavender-light), transparent);
        }
        
        .hero:after {
            bottom: -30%;
            left: -30%;
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, transparent, var(--pastel-pink));
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
        }
        
        .hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--graphite-dark);
            line-height: 1.2;
        }
        
        .hero .tagline {
            font-size: 1.8rem;
            color: var(--gold-metallic);
            font-weight: 600;
            margin-bottom: 24px;
        }
        
        .hero p {
            font-size: 1.1rem;
            color: var(--graphite-medium);
            margin-bottom: 32px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .hero-actions {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        /* –°–µ—Ç–∫–∏ */
        .grid {
            display: grid;
            gap: 16px;
            width: 100%;
        }
        
        .grid-2 {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .grid-3 {
            grid-template-columns: repeat(3, 1fr);
        }
        
        .grid-4 {
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        }
        
        /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ —É—Å–ª—É–≥ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π */
/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ —É—Å–ª—É–≥ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π */
.category-card-main-style {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px 15px;
    background: var(--card-bg); /* –ò–∑–º–µ–Ω–µ–Ω–æ —Å white –Ω–∞ var(--card-bg) */
    border-radius: var(--radius-lg);
    border: 1px solid rgba(242, 221, 230, 0.3);
    box-shadow: var(--shadow-sm);
    transition: var(--transition);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    height: 100%;
    text-align: center;
    animation: fadeIn 0.5s ease;
}

.category-card-main-style:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow);
    border-color: var(--pastel-pink);
    background: var(--card-hover-bg); /* –õ–µ–≥–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
}
        
/* –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô */
.category-image-main img,
.service-image-container img {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    border-radius: 50% !important;
    display: block !important;
    position: relative !important;
    z-index: 2 !important;
}

        /* –£–±–∏—Ä–∞–µ–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ —Ñ–æ–Ω—ã –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è */
.category-image-main::before,
.service-image-container::before {
    display: none !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è iOS */
@supports (-webkit-touch-callout: none) {
    .category-image-main img,
    .service-image-container img {
        object-fit: cover !important;
        -webkit-object-fit: cover !important;
    }
}

/* –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∏–¥–Ω—ã */
.category-card-main-style .category-image-main img {
    opacity: 1 !important;
    visibility: visible !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è SVG —Ñ–æ–ª–±—ç–∫–æ–≤ */
img[src*="data:image/svg"] {
    background: var(--pink-light) !important;
    padding: 20px !important;
}

.category-image-main {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    margin: 0 auto 15px;
    overflow: hidden;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    /* –£–ë–ï–†–ò–¢–ï –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω */
}

        .category-card-main-style:hover .category-image-main img {
            transform: scale(1.05);
        }

        .category-card-main-style h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 8px;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--graphite-dark);
            text-align: center;
            width: 100%;
        }

.category-description-main {
    color: var(--graphite-medium);
    font-size: 0.85rem;
    line-height: 1.4;
    flex-grow: 1;
    background: rgba(242, 221, 230, 0.1);
    padding: 12px;
    border-radius: 12px;
    border-bottom-left-radius: 25px;
    border-bottom-right-radius: 25px;
    width: 100%;
    max-height: 90px;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    text-overflow: ellipsis;
    margin-bottom: 15px;
    border: 1px solid rgba(242, 221, 230, 0.2);
    word-break: break-word;
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
}

        .category-card-footer {
            margin-top: 15px;
            color: var(--pastel-pink);
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }
        
        /* –ü–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Å–µ—Ö —É—Å–ª—É–≥ */
        .search-box {
            position: relative;
            margin-bottom: 20px;
            width: 100%;
        }

        .search-input {
            width: 100%;
            padding: 14px 20px 14px 50px;
            border: 2px solid rgba(242, 221, 230, 0.5);
            border-radius: 50px;
            font-size: 1rem;
            background: var(--ivory-light);
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--pastel-pink);
            box-shadow: 0 0 0 3px rgba(242, 221, 230, 0.3);
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--graphite-light);
            z-index: 1;
        }

        /* –ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –ø–æ–∏—Å–∫–∞ */
        .search-autocomplete {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            border: 1px solid rgba(61, 61, 61, 0.1);
        }

        .search-autocomplete-item {
            padding: 12px 20px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.1);
            cursor: pointer;
            transition: var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .search-autocomplete-item:hover {
            background: rgba(242, 221, 230, 0.1);
        }

        .search-autocomplete-item .service-image {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            overflow: hidden;
            flex-shrink: 0;
        }

        .search-autocomplete-item .service-info {
            flex: 1;
        }

        .search-autocomplete-item .service-name {
            font-weight: 600;
            color: var(--graphite-dark);
            margin-bottom: 4px;
        }

        .search-autocomplete-item .service-category {
            font-size: 0.8rem;
            color: var(--graphite-medium);
        }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ - –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å–≤—è–∑–∏ */
        .contact-type-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 8px;
            margin-top: 8px;
        }

        .contact-type-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px 5px;
            border: 2px solid rgba(61, 61, 61, 0.1);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition);
            background: white;
            text-align: center;
        }

        .contact-type-btn.selected {
            border-color: var(--gold-metallic);
            background: rgba(197, 168, 128, 0.1);
            transform: translateY(-2px);
        }

        .contact-type-btn i {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .contact-type-btn .btn-label {
            font-size: 0.7rem;
            font-weight: 500;
            line-height: 1.2;
        }
        
        /* –¶–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-new {
            background: rgba(21, 101, 192, 0.1);
            color: #1565C0;
        }

        .status-searching {
            background: rgba(33, 150, 243, 0.1);
            color: #2196F3;
        }

        .status-assigned {
            background: rgba(3, 169, 244, 0.1);
            color: #03A9F4;
        }

        .status-in_progress {
            background: rgba(0, 188, 212, 0.1);
            color: #00BCD4;
        }

        .status-completed {
            background: rgba(76, 175, 80, 0.1);
            color: #4CAF50;
        }

        .status-cancelled {
            background: rgba(244, 67, 54, 0.1);
            color: #F44336;
        }
        
        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏ */
        .notification.success {
            background: linear-gradient(135deg, var(--success), #2ECC71);
            color: white;
            border-left: 4px solid #27AE60;
        }
        
        @keyframes stayVisible {
            0%, 90% { opacity: 1; transform: translateX(0); }
            100% { opacity: 1; transform: translateX(0); }
        }
        
        /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ */
        .grid-2-main, .grid-3-main {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            margin: 0 auto;
        }
        
        /* –ü—Ä–æ—Ñ–∏–ª—å */
        .profile-header {
            background: var(--primary-gradient);
            color: white;
            padding: 30px 20px;
            border-radius: var(--radius-xl);
            margin-bottom: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .profile-avatar {
            width: 100px;
            height: 100px;
            background: white;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--pastel-pink);
            font-size: 2.5rem;
            font-weight: 700;
            border: 4px solid rgba(255, 255, 255, 0.3);
        }
        
        .profile-name {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .profile-email {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 16px;
        }
        
        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 20px;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.15);
            padding: 12px;
            border-radius: var(--radius);
            text-align: center;
            backdrop-filter: blur(10px);
        }
        
        .stat-value {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .stat-label {
            font-size: 0.8rem;
            opacity: 0.9;
        }
        
        /* –ü–æ–¥–ø–∏—Å–∫–∏ */
        .subscription-card {
            padding: 24px 20px;
            text-align: center;
            border: 2px solid rgba(61, 61, 61, 0.1);
            position: relative;
            cursor: pointer;
            height: 100%;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
        }
        
        .subscription-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow);
        }
        
        .subscription-card.popular {
            border-color: var(--pastel-pink);
        }
        
        .popular-badge {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--action-gradient);
            color: var(--graphite-dark);
            padding: 4px 16px;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .subscription-card h3 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--graphite-dark);
        }
        
        .subscription-price {
            font-size: 2rem;
            font-weight: 700;
            color: var(--pastel-pink);
            margin: 16px 0;
        }
        
        .subscription-price span {
            font-size: 0.9rem;
            color: var(--graphite-medium);
        }
        
        .subscription-features {
            text-align: left;
            margin: 20px 0;
            flex-grow: 1;
        }
        
        .subscription-features li {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--graphite-medium);
            font-size: 0.9rem;
        }
        
        .subscription-features i {
            color: var(--pastel-pink);
            font-size: 0.9rem;
        }
        
        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ */
        .service-stats {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: 40px 30px;
            margin: 40px 0;
            text-align: center;
            box-shadow: var(--shadow);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        
        .stat-card {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            /* –£–ë–ï–†–ò–¢–ï –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω */
        }

        .category-card-main-style:hover .category-image-main img {
            transform: scale(1.05);
        }

        .category-card-main-style h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 8px;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--graphite-dark);
            text-align: center;
            width: 100%;
        }

        .category-description-main {
            color: var(--graphite-medium);
            font-size: 0.85rem;
            margin-bottom: 16px;
            line-height: 1.4;
            flex-grow: 1;
            background: rgba(242, 221, 230, 0.1);
            padding: 10px;
            border-radius: 12px;
            border-bottom-left-radius: 25px;
            border-bottom-right-radius: 25px;
            width: 100%;
        }

        .category-card-footer {
            margin-top: 15px;
            color: var(--pastel-pink);
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }
        
        /* –ü–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Å–µ—Ö —É—Å–ª—É–≥ */
        .search-box {
            position: relative;
            margin-bottom: 20px;
            width: 100%;
        }

        .search-input {
            width: 100%;
            padding: 14px 20px 14px 50px;
            border: 2px solid rgba(242, 221, 230, 0.5);
            border-radius: 50px;
            font-size: 1rem;
            background: var(--ivory-light);
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--pastel-pink);
            box-shadow: 0 0 0 3px rgba(242, 221, 230, 0.3);
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--graphite-light);
            z-index: 1;
        }

        /* –ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –ø–æ–∏—Å–∫–∞ */
        .search-autocomplete {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            border: 1px solid rgba(61, 61, 61, 0.1);
        }

        .search-autocomplete-item {
            padding: 12px 20px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.1);
            cursor: pointer;
            transition: var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .search-autocomplete-item:hover {
            background: rgba(242, 221, 230, 0.1);
        }

        .search-autocomplete-item .service-image {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            overflow: hidden;
            flex-shrink: 0;
        }

        .search-autocomplete-item .service-info {
            flex: 1;
        }

        .search-autocomplete-item .service-name {
            font-weight: 600;
            color: var(--graphite-dark);
            margin-bottom: 4px;
        }

        .search-autocomplete-item .service-category {
            font-size: 0.8rem;
            color: var(--graphite-medium);
        }

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è –ª–æ–≥–æ—Ç–∏–ø–∞ –≤ —à–∞–ø–∫–µ */
.top-nav {
    height: var(--nav-height);
    background: rgba(249, 247, 243, 0.97);
    border-bottom: 1px solid var(--pastel-pink);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
    z-index: 1000;
    backdrop-filter: blur(10px);
}

/* –õ–æ–≥–æ—Ç–∏–ø –≤ —à–∞–ø–∫–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏ */
.top-nav .logo-container {
    display: flex;
    align-items: center;
    gap: 12px;
    text-decoration: none;
    position: relative;
    height: var(--nav-height); /* –í—ã—Å–æ—Ç–∞ –∫–∞–∫ —É —à–∞–ø–∫–∏ */
}

.top-nav .logo-frame {
    width: 80px !important; /* –ë—ã–ª–æ 40px */
    height: 80px !important; /* –ë—ã–ª–æ 40px */
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin: 0 !important; /* –£–±–∏—Ä–∞–µ–º –æ—Ç—Å—Ç—É–ø—ã */
    padding: 0 !important; /* –£–±–∏—Ä–∞–µ–º –æ—Ç—Å—Ç—É–ø—ã */
    border: none !important;
    box-shadow: none !important;
    background: none !important;
    position: relative;
}

.top-nav .logo-img {
    width: 80px !important; /* –ë—ã–ª–æ 40px */
    height: 80px !important; /* –ë—ã–ª–æ 40px */
    border-radius: 12px !important; /* –ë—ã–ª–æ 8px */
    object-fit: contain !important;
    display: block !important;
    margin: auto !important; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
    border: none !important;
    background: none !important;
    padding: 0 !important;
    box-shadow: none !important;
    position: relative;
    top: 0 !important;
    left: 0 !important;
    transform: none !important;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –ª–æ–≥–æ—Ç–∏–ø–∞ */
.top-nav .logo-text-container {
    display: flex;
    flex-direction: column;
    justify-content: center; /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
    height: 100%; /* –ó–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é –≤—ã—Å–æ—Ç—É */
    padding: 10px 0; /* –û—Ç—Å—Ç—É–ø—ã —Å–≤–µ—Ä—Ö—É –∏ —Å–Ω–∏–∑—É –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è */
}

.top-nav .logo-main-text {
    display: flex;
    align-items: center;
    gap: 4px;
    font-family: 'Playfair Display', serif;
    font-weight: 700;
    line-height: 1;
    margin: 0; /* –£–±–∏—Ä–∞–µ–º –æ—Ç—Å—Ç—É–ø—ã */
}

.top-nav .logo-woman {
    font-size: 1.8rem !important; /* –ë—ã–ª–æ 1.4rem */
    color: var(--graphite-dark);
    letter-spacing: -0.5px;
}

.top-nav .logo-help {
    font-size: 1.8rem !important; /* –ë—ã–ª–æ 1.4rem */
    color: var(--gold-metallic);
    letter-spacing: -0.5px;
}

.top-nav .logo-tagline {
    font-size: 0.85rem !important; /* –ë—ã–ª–æ 0.65rem */
    color: var(--graphite-medium);
    font-weight: 500;
    letter-spacing: 0.3px;
    margin-top: 2px !important; /* –£–º–µ–Ω—å—à–∞–µ–º –æ—Ç—Å—Ç—É–ø */
    white-space: nowrap;
    line-height: 1.2;
}

/* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∞–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ */
.user-avatar {
    width: 60px !important; /* –ë—ã–ª–æ 44px */
    height: 60px !important; /* –ë—ã–ª–æ 44px */
    border-radius: 50%;
    background: linear-gradient(135deg, var(--gold-metallic), var(--gold-dark));
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    font-size: 1.6rem !important; /* –ë—ã–ª–æ 1.2rem */
    cursor: pointer;
    margin-left: auto;
    margin-right: 5px;
    flex-shrink: 0;
    border: 3px solid white;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 
        0 4px 12px rgba(197, 168, 128, 0.25),
        inset 0 0 0 1px rgba(255, 255, 255, 0.3);
    position: relative;
    overflow: hidden;
}

/* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
@media (max-width: 768px) {
    .top-nav {
        padding: 0 15px;
    }
    
    .top-nav .logo-frame {
        width: 60px !important;
        height: 60px !important;
    }
    
    .top-nav .logo-img {
        width: 60px !important;
        height: 60px !important;
        border-radius: 10px !important;
    }
    
    .top-nav .logo-woman,
    .top-nav .logo-help {
        font-size: 1.4rem !important;
    }
    
    .top-nav .logo-tagline {
        font-size: 0.75rem !important;
    }
    
    .user-avatar {
        width: 52px !important;
        height: 52px !important;
        font-size: 1.4rem !important;
    }
}

@media (max-width: 480px) {
    .top-nav .logo-frame {
        width: 50px !important;
        height: 50px !important;
    }
    
    .top-nav .logo-img {
        width: 50px !important;
        height: 50px !important;
        border-radius: 8px !important;
    }
    
    .top-nav .logo-woman,
    .top-nav .logo-help {
        font-size: 1.2rem !important;
    }
    
    .top-nav .logo-tagline {
        font-size: 0.65rem !important;
    }
}
    
        /* –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ - –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å–≤—è–∑–∏ */
        .contact-type-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 8px;
            margin-top: 8px;
        }

        .contact-type-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px 5px;
            border: 2px solid rgba(61, 61, 61, 0.1);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition);
            background: white;
            text-align: center;
        }

        .contact-type-btn.selected {
            border-color: var(--gold-metallic);
            background: rgba(197, 168, 128, 0.1);
            transform: translateY(-2px);
        }

        .contact-type-btn i {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .contact-type-btn .btn-label {
            font-size: 0.7rem;
            font-weight: 500;
            line-height: 1.2;
        }
        
        /* –¶–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-new {
            background: rgba(21, 101, 192, 0.1);
            color: #1565C0;
        }

        .status-searching {
            background: rgba(33, 150, 243, 0.1);
            color: #2196F3;
        }

        .status-assigned {
            background: rgba(3, 169, 244, 0.1);
            color: #03A9F4;
        }

        .status-in_progress {
            background: rgba(0, 188, 212, 0.1);
            color: #00BCD4;
        }

        .status-completed {
            background: rgba(76, 175, 80, 0.1);
            color: #4CAF50;
        }

        .status-cancelled {
            background: rgba(244, 67, 54, 0.1);
            color: #F44336;
        }
        
        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏ */
        .notification.success {
            background: linear-gradient(135deg, var(--success), #2ECC71);
            color: white;
            border-left: 4px solid #27AE60;
        }
        
        @keyframes stayVisible {
            0%, 90% { opacity: 1; transform: translateX(0); }
            100% { opacity: 1; transform: translateX(0); }
        }
        
        /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ */
        .grid-2-main, .grid-3-main {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            margin: 0 auto;
        }
        
        /* –ü—Ä–æ—Ñ–∏–ª—å */
        .profile-header {
            background: var(--primary-gradient);
            color: white;
            padding: 30px 20px;
            border-radius: var(--radius-xl);
            margin-bottom: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .profile-avatar {
            width: 100px;
            height: 100px;
            background: white;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--pastel-pink);
            font-size: 2.5rem;
            font-weight: 700;
            border: 4px solid rgba(255, 255, 255, 0.3);
        }
        
        .profile-name {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .profile-email {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 16px;
        }
        
        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 20px;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.15);
            padding: 12px;
            border-radius: var(--radius);
            text-align: center;
            backdrop-filter: blur(10px);
        }
        
        .stat-value {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .stat-label {
            font-size: 0.8rem;
            opacity: 0.9;
        }
        
        /* –ü–æ–¥–ø–∏—Å–∫–∏ */
        .subscription-card {
            padding: 24px 20px;
            text-align: center;
            border: 2px solid rgba(61, 61, 61, 0.1);
            position: relative;
            cursor: pointer;
            height: 100%;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
        }
        
        .subscription-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow);
        }
        
        .subscription-card.popular {
            border-color: var(--pastel-pink);
        }
        
        .popular-badge {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--action-gradient);
            color: var(--graphite-dark);
            padding: 4px 16px;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .subscription-card h3 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--graphite-dark);
        }
        
        .subscription-price {
            font-size: 2rem;
            font-weight: 700;
            color: var(--pastel-pink);
            margin: 16px 0;
        }
        
        .subscription-price span {
            font-size: 0.9rem;
            color: var(--graphite-medium);
        }
        
        .subscription-features {
            text-align: left;
            margin: 20px 0;
            flex-grow: 1;
        }
        
        .subscription-features li {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--graphite-medium);
            font-size: 0.9rem;
        }
        
        .subscription-features i {
            color: var(--pastel-pink);
            font-size: 0.9rem;
        }
        
        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ */
        .service-stats {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: 40px 30px;
            margin: 40px 0;
            text-align: center;
            box-shadow: var(--shadow);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        
        .stat-card {
            padding: 20px;
            border-radius: var(--radius);
            background: linear-gradient(135deg, rgba(242, 221, 230, 0.05), rgba(232, 204, 217, 0.05));
            border: 1px solid rgba(242, 221, 230, 0.1);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--pastel-pink);
            margin-bottom: 10px;
        }
        
        .stat-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--graphite-dark);
            margin-bottom: 8px;
        }
        
        .stat-description {
            color: var(--graphite-medium);
            font-size: 0.9rem;
        }
        
        /* –ë–∞–Ω–Ω–µ—Ä —Å —Ä–µ–∫–ª–∞–º–æ–π */
        .promo-banner {
            background: linear-gradient(135deg, var(--gold-metallic), var(--pastel-pink));
            color: white;
            padding: 30px;
            border-radius: var(--radius-lg);
            margin: 30px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 3000;
            background: white;
            border-radius: var(--radius);
            padding: 16px 20px;
            box-shadow: var(--shadow-lg);
            border-left: 4px solid var(--pastel-pink);
            animation: slideInDown 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            max-width: 90%;
            width: 350px;
            backdrop-filter: blur(10px);
        }
        
        .notification.hiding {
            animation: slideOutUp 0.3s ease forwards;
        }
        
        .notification.error {
            border-left-color: var(--error);
        }
        
        .notification.warning {
            border-left-color: var(--warning);
        }
        
        .notification.info {
            border-left-color: var(--info);
        }
        
        /* –ó–∞–≥—Ä—É–∑–∫–∞ */
        .loader {
            text-align: center;
            padding: 40px;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(61, 61, 61, 0.1);
            border-top: 4px solid var(--pastel-pink);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }


        
        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 20px;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal.active .modal-content {
            animation: modalSlideIn 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: var(--radius-lg);
            max-width: 400px;
            width: 100%;
            animation: modalSlideIn 0.3s ease;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--graphite-dark);
        }
        
        .form-group {
            margin-bottom: 20px;
            width: 100%;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--graphite-dark);
        }
        
        .form-input {
            width: 100%;
            padding: 12px;
            border: 1.5px solid rgba(61, 61, 61, 0.1);
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
            background: var(--ivory-light);
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--pastel-pink);
            box-shadow: 0 0 0 3px rgba(242, 221, 230, 0.2);
            background: white;
        }
        
        /* –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ */
        .create-task-form {
            margin-top: 20px;
        }
        
        /* –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á */
        .task-list {
            margin-top: 20px;
        }
        
.task-item {
    margin-bottom: 16px;
    padding: 16px;
    background: var(--card-bg); /* –ò–∑–º–µ–Ω–µ–Ω–æ —Å white */
    border-radius: var(--radius);
    border: 1px solid rgba(61, 61, 61, 0.08);
    box-shadow: var(--shadow-sm);
    cursor: pointer;
    transition: var(--transition);
}

.task-item:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow);
    background: var(--card-hover-bg); /* –î–æ–±–∞–≤–∏—Ç—å —ç—Ç–æ—Ç —Å—Ç–∏–ª—å */
}
        
        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }
        
        .task-title {
            font-weight: 600;
            font-size: 1.1rem;
            flex: 1;
            color: var(--graphite-dark);
        }
        
        .task-status {
            padding: 4px 12px;
            border-radius: var(--radius-full);
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
            margin-left: 10px;
        }
        
        .task-status.new {
            background: linear-gradient(135deg, rgba(25, 118, 210, 0.15), rgba(33, 150, 243, 0.1));
            color: #1565C0;
            border: 1px solid rgba(25, 118, 210, 0.2);
        }
        
        .task-status.in_progress {
            background: linear-gradient(135deg, rgba(103, 58, 183, 0.15), rgba(124, 77, 255, 0.1));
            color: #512DA8;
            border: 1px solid rgba(103, 58, 183, 0.2);
        }
        
        .task-status.completed {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.15), rgba(102, 187, 106, 0.1));
            color: #2E7D32;
            border: 1px solid rgba(76, 175, 80, 0.2);
        }
        
        .task-status.cancelled {
            background: linear-gradient(135deg, rgba(244, 67, 54, 0.15), rgba(239, 83, 80, 0.1));
            color: #C62828;
            border: 1px solid rgba(244, 67, 54, 0.2);
        }
        
        .task-status.searching {
            background: linear-gradient(135deg, rgba(255, 152, 0, 0.15), rgba(255, 167, 38, 0.1));
            color: #EF6C00;
            border: 1px solid rgba(255, 152, 0, 0.2);
        }
        
        .task-status.assigned {
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.15), rgba(66, 165, 245, 0.1));
            color: #0277BD;
            border: 1px solid rgba(33, 150, 243, 0.2);
        }
        
        /* –ö–Ω–æ–ø–∫–∞ "–í—Å–µ —É—Å–ª—É–≥–∏" */
        .view-all-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            background: white;
            color: var(--graphite-dark);
            border: 2px solid var(--graphite-dark);
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            margin-top: 20px;
        }
        
        .view-all-btn:hover {
            background: var(--graphite-dark);
            color: white;
        }
        
        /* –ö–Ω–æ–ø–∫–∞ "–ì–∞–π–¥—ã" */
        .guides-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            background: var(--pastel-pink);
            color: var(--gold-metallic);
            border: none;
            border-radius: var(--radius);
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            box-shadow: 0 2px 8px rgba(242, 221, 230, 0.4);
        }

        .guides-btn:hover {
            background: var(--gold-metallic);
            color: var(--graphite-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(197, 168, 128, 0.4);
        }
        
        /* –°–µ–∫—Ü–∏—è –≥–∞–π–¥–æ–≤ */
        .guides-section {
            margin: 40px 0;
        }
        
        .guides-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .guide-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            border: 1px solid rgba(61, 61, 61, 0.08);
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            cursor: pointer;
            height: 100%;
        }
        
        .guide-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow);
        }
        
        .guide-icon {
            font-size: 2.5rem;
            color: var(--pastel-pink);
            margin-bottom: 15px;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideInDown {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes slideOutUp {
            from { transform: translateY(0); opacity: 1; }
            to { transform: translateY(-100%); opacity: 0; }
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes modalSlideIn {
            from { opacity: 0; transform: translateY(-20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes countUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(242, 221, 230, 0.3); }
            70% { box-shadow: 0 0 0 10px rgba(242, 221, 230, 0); }
            100% { box-shadow: 0 0 0 0 rgba(242, 221, 230, 0); }
        }
        
        /* –¢–∞–±—ã –¥–ª—è –∑–∞–¥–∞—á */
        .tabs {
            display: flex;
            border-bottom: 1px solid rgba(61, 61, 61, 0.1);
            margin-bottom: 20px;
            overflow-x: auto;
        }
        
        .tab {
            padding: 12px 20px;
            font-weight: 500;
            color: var(--graphite-medium);
            border-bottom: 3px solid transparent;
            cursor: pointer;
            white-space: nowrap;
            transition: var(--transition-fast);
        }
        
        .tab.active {
            color: var(--pastel-pink);
            border-bottom-color: var(--pastel-pink);
        }
        
        /* –ü—É—Å—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
        }
        
        .empty-state-icon {
            font-size: 4rem;
            color: rgba(61, 61, 61, 0.1);
            margin-bottom: 20px;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —á–∞—Ç–∞ */
        .chat-container {
            background: white;
            border-radius: var(--radius-lg);
            border: 1px solid rgba(61, 61, 61, 0.08);
            overflow: hidden;
            margin-top: 24px;
        }
        
        .chat-header {
            padding: 16px 20px;
            background: var(--pink-light);
            border-bottom: 1px solid rgba(61, 61, 61, 0.08);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-messages-container {
            height: 400px;
            overflow-y: auto;
            padding: 20px;
            background: rgba(249, 247, 243, 0.5);
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .chat-messages-container::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages-container::-webkit-scrollbar-track {
            background: rgba(242, 221, 230, 0.1);
            border-radius: 3px;
        }

        .chat-messages-container::-webkit-scrollbar-thumb {
            background: var(--pastel-pink);
            border-radius: 3px;
        }

        .chat-messages-container::-webkit-scrollbar-thumb:hover {
            background: var(--pink-medium);
        }
        
        .chat-message {
            display: flex;
            max-width: 80%;
            animation: fadeInMessage 0.3s ease;
        }
        
        .chat-message.sent {
            margin-left: auto;
            flex-direction: row-reverse;
        }
        
        .message-bubble {
            padding: 12px 16px;
            border-radius: 18px;
            position: relative;
            box-shadow: var(--shadow-sm);
            word-break: break-word;
        }
        
        .chat-message.sent .message-bubble {
            background: linear-gradient(135deg, var(--pastel-pink), var(--pink-medium));
            color: var(--graphite-dark);
            border-bottom-right-radius: 4px;
        }
        
        .chat-message.received .message-bubble {
            background: white;
            border: 1px solid rgba(61, 61, 61, 0.1);
            color: var(--graphite-dark);
            border-bottom-left-radius: 4px;
        }
        
        .message-sender {
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--graphite-medium);
        }
        
        .message-time {
            font-size: 0.7rem;
            color: var(--graphite-light);
            margin-top: 4px;
        }
        
        .chat-input-area {
            padding: 16px 20px;
            border-top: 1px solid rgba(61, 61, 61, 0.08);
            background: white;
            display: flex;
            gap: 10px;
            align-items: flex-end;
        }
        
        .chat-input {
            flex: 1;
            padding: 14px 18px;
            border: 1.5px solid rgba(242, 221, 230, 0.5);
            border-radius: 24px;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            resize: none;
            min-height: 56px;
            max-height: 150px;
            transition: var(--transition);
            background: var(--ivory-light);
            box-shadow: inset 0 2px 4px rgba(61, 61, 61, 0.03);
        }
        
        .chat-input:focus {
            outline: none;
            border-color: var(--pastel-pink);
            background: white;
            box-shadow: 0 0 0 3px rgba(242, 221, 230, 0.2), inset 0 2px 4px rgba(61, 61, 61, 0.03);
        }
        
.send-message-btn {
    background: var(--action-gradient) !important; /* –†–æ–∑–æ–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç */
    color: var(--graphite-dark) !important;
    border: none !important;
    border-radius: 50% !important;
    width: 56px !important;
    height: 56px !important;
    cursor: pointer !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    transition: var(--transition) !important;
    box-shadow: var(--shadow-sm) !important;
    margin-bottom: 4px !important;
    flex-shrink: 0 !important;
}

.send-message-btn:hover {
    transform: translateY(-2px) !important;
    box-shadow: var(--shadow) !important;
}

.send-message-btn i {
    font-size: 1.2rem !important;
}

        .send-message-btn::after {
            content: '–û—Ç–ø—Ä–∞–≤–∏—Ç—å';
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--graphite-dark);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            opacity: 0;
            transition: opacity 0.2s ease;
            white-space: nowrap;
            pointer-events: none;
        }

        .send-message-btn:hover::after {
            opacity: 1;
        }
        
        @keyframes fadeInMessage {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    .contact-type-btn[data-type="chat_wh"] i {
    color: var(--pastel-pink);
}

.contact-type-btn.selected[data-type="chat_wh"] i {
    color: var(--gold-metallic);
}
    /* ==================== –û–ë–ù–û–í–õ–ï–ù–ù–´–ï –°–¢–ò–õ–ò –î–õ–Ø –õ–û–ì–û–¢–ò–ü–ê ==================== */
    .logo-container {
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
        position: relative;
    }
    
 .logo-frame {
        border: none !important;
        box-shadow: none !important;
        background: none !important;
    }
    
.logo-img {
    width: 40px !important;
    height: 40px !important;
    border-radius: 8px !important;
    padding: 0 !important;
}
    
    /* –£–ø—Ä–æ—â–∞–µ–º –∞–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
    .user-avatar {
        border: 2px solid white !important;
        box-shadow: 0 2px 6px rgba(61, 61, 61, 0.1) !important;
    }
    
   .logo-frame,
.auth-logo-frame,
.logo-img,
.auth-logo-img {
    width: 60px !important;
    height: 60px !important;
    object-fit: contain !important;
    border-radius: var(--radius) !important;
    display: block !important;
}
    
.logo-img {
        width: 40px !important;
        height: 40px !important;
        border-radius: 8px !important;
        border: none !important;
        background: none !important;
        padding: 0 !important;
        box-shadow: none !important;
    }
    
    .logo-frame:hover .logo-img {
        transform: scale(1.1);
    }
    
    .logo-text-container {
        display: flex;
        flex-direction: column;
    }
    
    .logo-main-text {
        display: flex;
        align-items: center;
        gap: 4px;
        font-family: 'Playfair Display', serif;
        font-weight: 700;
        line-height: 1;
    }
    
    .logo-woman {
        font-size: 1.4rem;
        color: var(--graphite-dark);
        letter-spacing: -0.5px;
    }
    
    .logo-help {
        font-size: 1.4rem;
        color: var(--gold-metallic);
        letter-spacing: -0.5px;
    }
    
    .logo-tagline {
        font-size: 0.7rem;
        color: var(--graphite-medium);
        font-weight: 500;
        letter-spacing: 0.3px;
        margin-top: 1px;
        white-space: nowrap;
    }
    
    /* –î–ª—è —ç–∫—Ä–∞–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ */
    .auth-logo-container {
        text-align: center;
        margin-bottom: 25px;
    }
    
.auth-logo-frame {
    width: 80px !important;
    height: 80px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin: 0 auto 20px !important;
    background: var(--ivory-light) !important;
    border-radius: var(--radius-lg) !important;
    padding: 10px !important;
}
.auth-logo-img {
    width: 60px !important;
    height: 60px !important;
    object-fit: contain !important;
    border-radius: var(--radius) !important;
    display: block !important;
}
    .auth-logo-text-container {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .auth-logo-main-text {
        display: flex;
        align-items: center;
        gap: 6px;
        font-family: 'Playfair Display', serif;
        font-weight: 700;
        margin-bottom: 5px;
    }
    
    .auth-logo-woman {
        font-size: 2rem;
        color: var(--graphite-dark);
        letter-spacing: -1px;
    }
    
    .auth-logo-help {
        font-size: 2rem;
        color: var(--gold-metallic);
        letter-spacing: -1px;
    }
    
    .auth-logo-tagline {
        font-size: 0.9rem;
        color: var(--graphite-medium);
        font-weight: 500;
        max-width: 300px;
        line-height: 1.4;
        padding: 0 10px;
    }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á (–ø–æ–ø-–∞–ø –æ–∫–Ω–∞) */
        .tasks-popup-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 20px;
        }
        
        .tasks-popup-content {
            background: white;
            border-radius: var(--radius-lg);
            width: 100%;
            max-width: 500px;
            max-height: 80vh;
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            animation: popupSlideIn 0.3s ease;
        }
        
        @keyframes popupSlideIn {
            from { opacity: 0; transform: translateY(-20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        
        .tasks-popup-header {
            padding: 20px;
            background: var(--action-gradient);
            color: var(--graphite-dark);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .close-popup-btn {
            background: rgba(255, 255, 255, 0.5);
            border: none;
            color: var(--graphite-dark);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .tasks-popup-body {
            padding: 20px;
            max-height: calc(80vh - 80px);
            overflow-y: auto;
        }
        
        .task-quick-item {
            padding: 16px;
            border: 1px solid rgba(61, 61, 61, 0.08);
            border-radius: var(--radius);
            margin-bottom: 12px;
            cursor: pointer;
            transition: var(--transition);
        }

/* –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–æ–≥–æ—Ç–∏–ø–∞ –æ—Å—Ç–∞—é—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö */
.logo-img,
.auth-logo-img {
    max-width: 100% !important;
    max-height: 100% !important;
    object-fit: contain !important;
    display: block !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è SVG –ª–æ–≥–æ—Ç–∏–ø–æ–≤ */
.logo-img[src*="data:image/svg"],
.auth-logo-img[src*="data:image/svg"] {
    padding: 8px !important;
    background: linear-gradient(135deg, var(--gold-metallic), var(--gold-dark)) !important;
}

/* –£–±–∏—Ä–∞–µ–º –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±–≤–æ–¥–∫—É */
.logo-frame::before,
.logo-frame::after,
.auth-logo-frame::before,
.auth-logo-frame::after {
    display: none !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media (max-width: 768px) {
    .logo-frame,
    .auth-logo-frame {
        padding: 0 !important;
    }
    
    .logo-img {
        width: 35px !important;
        height: 35px !important;
    }
    
    .auth-logo-frame {
        width: 70px !important;
        height: 70px !important;
    }
    
    .auth-logo-img {
        width: 50px !important;
        height: 50px !important;
    }
}
    
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Å–µ—Ö —É—Å–ª—É–≥ */
        .all-services-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }
        
/* –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ */
.service-stats-compact {
    background: var(--white);
    border: 1px solid var(--pastel-pink);
    border-radius: var(--radius-lg);
    padding: 20px;
    box-shadow: var(--shadow-sm);
    margin-top: 30px;
    width: 100%;
}

/* –ò–∑–º–µ–Ω—è–µ–º —Å–µ—Ç–∫—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é */
.stats-grid-compact {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 10px;
    width: 100%;
}

/* –≠–ª–µ–º–µ–Ω—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ - —Ç–µ–ø–µ—Ä—å –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é —à–∏—Ä–∏–Ω—É */
.stat-item-compact {
    text-align: center;
    padding: 15px 12px;
    background: linear-gradient(135deg, rgba(242, 221, 230, 0.05), rgba(232, 204, 217, 0.05));
    border-radius: var(--radius);
    border: 1px solid rgba(242, 221, 230, 0.2);
    transition: var(--transition);
    width: 100%;
    box-sizing: border-box;
}

.stat-item-compact:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
    border-color: var(--pastel-pink);
}

/* –ß–∏—Å–ª–æ –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ */
.stat-number-compact {
    font-size: 1.6rem;
    font-weight: 700;
    color: var(--pastel-pink);
    margin-bottom: 8px;
    line-height: 1.2;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
.stat-title-compact {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--graphite-medium);
    line-height: 1.3;
    margin: 0;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
.stats-header {
    text-align: center;
    margin-bottom: 20px;
    width: 100%;
}

.stats-header h4 {
    font-size: 1rem;
    color: var(--graphite-dark);
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    white-space: nowrap;
}

/* –ö–Ω–æ–ø–∫–∏ –≤–Ω–∏–∑—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
.stats-footer {
    text-align: center;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid rgba(61, 61, 61, 0.1);
    width: 100%;
}

/* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
@media (max-width: 768px) {
    .service-stats-compact {
        padding: 15px;
        margin-top: 25px;
    }
    
    .stats-grid-compact {
        gap: 12px;
    }
    
    .stat-item-compact {
        padding: 12px 10px;
    }
    
    .stat-number-compact {
        font-size: 1.4rem;
    }
    
    .stat-title-compact {
        font-size: 0.85rem;
    }
    
    .stats-header h4 {
        font-size: 0.95rem;
    }
}

@media (max-width: 480px) {
    .service-stats-compact {
        padding: 12px;
        margin-top: 20px;
    }
    
    .stat-item-compact {
        padding: 10px 8px;
    }
    
    .stat-number-compact {
        font-size: 1.2rem;
    }
    
    .stat-title-compact {
        font-size: 0.8rem;
    }
}

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è */
        .compact-profile-header {
            background: var(--primary-gradient);
            color: white;
            padding: 20px;
            border-radius: var(--radius);
            margin-bottom: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .compact-profile-avatar {
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--pastel-pink);
            font-size: 2rem;
            font-weight: 700;
            border: 4px solid rgba(255, 255, 255, 0.3);
            box-shadow: var(--shadow);
            flex-shrink: 0;
            overflow: hidden;
        }

        .compact-profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            display: block;
        }

        .compact-profile-name {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .compact-profile-email {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 15px;
        }

        .compact-profile-stats {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }

        .compact-stat-item {
            text-align: center;
            min-width: 60px;
        }

        .compact-stat-value {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 3px;
        }

        .compact-stat-label {
            font-size: 0.7rem;
            opacity: 0.9;
        }

/* –°—Ç–∏–ª–∏ –¥–ª—è –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ —É—Å–ª—É–≥ */
.service-card-square {
    background: var(--card-bg); /* –ò–∑–º–µ–Ω–µ–Ω–æ —Å var(--ivory-light) */
    border-radius: var(--radius-lg);
    padding: 0;
    border: 1px solid rgba(242, 221, 230, 0.5);
    box-shadow: var(--shadow-sm);
    transition: var(--transition);
    cursor: pointer;
    overflow: hidden;
    height: 280px;
    display: flex;
    flex-direction: column;
    backdrop-filter: blur(10px);
}

.service-card-square:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow);
    border-color: var(--pastel-pink);
    background: var(--card-hover-bg); /* –ò–∑–º–µ–Ω–µ–Ω–æ —Å white */
}

        .service-image-container {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            margin: 20px auto 15px;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--pink-light);
        }

        .service-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .service-card-square:hover .service-image-container img {
            transform: scale(1.05);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —á–∞—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ */
        .support-message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 18px;
            margin-bottom: 8px;
            word-wrap: break-word;
            animation: fadeInMessage 0.3s ease;
        }

        .support-message.user {
            align-self: flex-end;
            background: linear-gradient(135deg, var(--pastel-pink), var(--pink-medium));
            color: var(--graphite-dark);
            border-bottom-right-radius: 4px;
        }

        .support-message.support {
            align-self: flex-start;
            background: white;
            border: 1px solid rgba(61, 61, 61, 0.1);
            color: var(--graphite-dark);
            border-bottom-left-radius: 4px;
        }

        .support-message-time {
            font-size: 0.7rem;
            color: var(--graphite-light);
            margin-top: 4px;
            text-align: right;
        }

        .support-message.support .support-message-time {
            text-align: left;
        }

        .support-message-sender {
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--graphite-medium);
        }

        /* –ö–Ω–æ–ø–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤ –≤–µ—Ä—Ö–Ω–µ–º –º–µ–Ω—é */
        .support-menu-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: var(--pastel-pink);
            color: var(--graphite-dark);
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            border: none;
            font-size: 0.9rem;
        }

        .support-menu-btn:hover {
            background: var(--pink-medium);
            transform: translateY(-1px);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ */
        .service-stats-compact {
            background: var(--white);
            border: 1px solid var(--pastel-pink);
            border-radius: var(--radius-lg);
            padding: 20px;
            box-shadow: var(--shadow-sm);
            margin-top: 30px;
        }

        .stats-grid-compact {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 10px;
    width: 100%;
}

        .stat-item-compact {
            text-align: center;
            padding: 12px 8px;
            background: linear-gradient(135deg, rgba(242, 221, 230, 0.05), rgba(232, 204, 217, 0.05));
            border-radius: var(--radius);
            border: 1px solid rgba(242, 221, 230, 0.2);
            transition: var(--transition);
        }

        .stat-item-compact:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
            border-color: var(--pastel-pink);
        }

        .stat-number-compact {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--pastel-pink);
            margin-bottom: 5px;
            line-height: 1.2;
        }

        .stat-title-compact {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--graphite-medium);
            line-height: 1.3;
        }

        /* –£—Ç–∏–ª–∏—Ç—ã */
        .text-center { text-align: center; }
        .mt-20 { margin-top: 20px; }
        .mb-20 { margin-bottom: 20px; }
        .w-100 { width: 100%; }
        .d-flex { display: flex; }
        .justify-between { justify-content: space-between; }
        .align-center { align-items: center; }
        .gap-10 { gap: 10px; }
        .gap-20 { gap: 20px; }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        .category-image img,
        .service-image img,
        .category-image-container img,
        .category-image-main img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
            -webkit-user-drag: none;
            user-select: none;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –∑–∞–¥–∞—á (—Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞) */
        @media (min-width: 769px) {
            .task-table-container {
                display: block;
                overflow-x: auto;
                margin-top: 20px;
            }
            
            .task-history-table {
                width: 100%;
                border-collapse: collapse;
                margin-top: 20px;
                display: table;
            }
            
            .task-history-table th {
                background: rgba(61, 61, 61, 0.05);
                padding: 12px;
                text-align: left;
                font-weight: 600;
                color: var(--graphite-dark);
                border-bottom: 2px solid rgba(61, 61, 61, 0.1);
            }
            
            .task-history-table td {
                padding: 12px;
                border-bottom: 1px solid rgba(61, 61, 61, 0.08);
                vertical-align: top;
            }
            
            .task-history-table tr:hover {
                background: rgba(61, 61, 61, 0.02);
            }
            
            .task-cards-container {
                display: none;
            }
            
            /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è "–í—Å–µ —É—Å–ª—É–≥–∏" –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ */
            #allServicesList {
                grid-template-columns: repeat(3, 1fr);
                gap: 25px;
            }
        }
        
        @media (max-width: 768px) {
            .task-table-container {
                display: none;
            }
            
            .task-cards-container {
                display: block;
            }

            .task-card {
                display: block;
                margin-bottom: 16px;
                padding: 16px;
                background: white;
                border-radius: var(--radius);
                border: 1px solid rgba(61, 61, 61, 0.08);
                box-shadow: var(--shadow-sm);
            }
            
            .task-card-row {
                display: flex;
                justify-content: space-between;
                margin-bottom: 8px;
                padding-bottom: 8px;
                border-bottom: 1px solid rgba(61, 61, 61, 0.05);
            }
            
            .task-card-label {
                font-size: 0.75rem;
                color: var(--graphite-medium);
                font-weight: 500;
            }
            
            .task-card-value {
                font-size: 0.9rem;
                color: var(--graphite-dark);
                font-weight: 500;
                text-align: right;
            }
            
            .task-card-actions {
                display: flex;
                gap: 8px;
                margin-top: 12px;
                justify-content: flex-end;
            }

/* –£–±–∏—Ä–∞–µ–º –æ–∫–∞–Ω—Ç–æ–≤–∫—É –ª–æ–≥–æ—Ç–∏–ø–∞ –≤ –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ */
@media (max-width: 768px) {
    .logo-frame {
        border: none !important;
        box-shadow: none !important;
        background: none !important;
    }
    
.logo-img {
    width: 40px !important;
    height: 40px !important;
    border-radius: 8px !important;
    padding: 0 !important;
}
    
    /* –£–±–∏—Ä–∞–µ–º –æ–∫–∞–Ω—Ç–æ–≤–∫—É –¥–ª—è –∞–≤–∞—Ç–∞—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
}
            
            /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –∫—Ä—É–≥–ª—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
            .category-image-main {
                width: 100px;
                height: 100px;
            }
            
            .category-card-main-style h3 {
                font-size: 1rem;
                min-height: 36px;
            }
            
            .category-description-main {
                font-size: 0.8rem;
            }
            
            .grid.grid-2,
            .grid.grid-3 {
                grid-template-columns: 1fr;
            }
            
            /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è "–í—Å–µ —É—Å–ª—É–≥–∏" –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            #allServicesList {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }
            
            #allServicesList .category-card-main-style {
                padding: 12px;
                min-height: 280px;
            }
            
            #allServicesList .category-image-main {
                width: 80px;
                height: 80px;
            }
            
            #allServicesList .category-card-main-style h3 {
                font-size: 0.9rem;
                min-height: 32px;
                -webkit-line-clamp: 2;
                display: -webkit-box;
                -webkit-box-orient: vertical;
                overflow: hidden;
            }
            
            #allServicesList .category-description-main {
                font-size: 0.75rem;
                padding: 6px;
                -webkit-line-clamp: 3;
                display: -webkit-box;
                -webkit-box-orient: vertical;
                overflow: hidden;
            }
            
            .contact-type-buttons {
                grid-template-columns: repeat(3, 1fr);
            }
        }
/* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —É—Å–ª—É–≥ */
.category-card-main-style {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px 15px;
    background: var(--card-bg);
    border-radius: var(--radius-lg);
    border: 1px solid rgba(242, 221, 230, 0.3);
    box-shadow: var(--shadow-sm);
    transition: var(--transition);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    height: 100%;
    text-align: center;
    animation: fadeIn 0.5s ease;
    min-height: 320px;
    max-height: 380px;
}

.category-card-main-style:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow);
    border-color: var(--pastel-pink);
    background: var(--card-hover-bg);
}
    
    .category-image-main {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        margin: 0 auto 15px;
        overflow: hidden;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }
    
    .category-image-main img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
        display: block;
        transition: transform 0.3s ease;
    }
    
    .category-card-main-style:hover .category-image-main img {
        transform: scale(1.08);
    }
    
    .category-card-main-style h3 {
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 10px;
        color: var(--graphite-dark);
        text-align: center;
        width: 100%;
        line-height: 1.3;
        height: 42px;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        padding: 0 5px;
    }
    
    .category-description-main {
        color: var(--graphite-medium);
        font-size: 0.85rem;
        line-height: 1.4;
        flex-grow: 1;
        background: rgba(242, 221, 230, 0.1);
        padding: 12px;
        border-radius: 12px;
        border-bottom-left-radius: 25px;
        border-bottom-right-radius: 25px;
        width: 100%;
        max-height: 90px;
        overflow: hidden;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        text-overflow: ellipsis;
        margin-bottom: 15px;
        border: 1px solid rgba(242, 221, 230, 0.2);
    }
    
/* –ü–æ–¥–ø–∏—Å—å —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —É—Å–ª—É–≥ - –ú–ï–ù–¨–®–ï –∏ –ó–û–õ–û–¢–û–ô */
.category-card-footer {
    margin-top: auto;
    color: var(--gold-metallic); /* –ó–æ–ª–æ—Ç–æ–π —Ü–≤–µ—Ç */
    font-weight: 600;
    font-size: 0.8rem !important; /* –£–º–µ–Ω—å—à–µ–Ω —Ä–∞–∑–º–µ—Ä */
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: 0 5px;
}

    /* –ò–∫–æ–Ω–∫–∞ —Å—Ç—Ä–µ–ª–æ—á–∫–∏ - –∑–æ–ª–æ—Ç–∞—è */
.category-card-footer .fa-arrow-right {
    color: var(--gold-metallic); /* –ó–æ–ª–æ—Ç–∞—è —Å—Ç—Ä–µ–ª–æ—á–∫–∞ */
    font-size: 0.75rem !important; /* –£–º–µ–Ω—å—à–µ–Ω —Ä–∞–∑–º–µ—Ä */
    margin-left: 4px;
}
/* –ù–∞–¥–ø–∏—Å—å "–í—ã–±—Ä–∞—Ç—å" - –∑–æ–ª–æ—Ç–∞—è */
.category-card-footer span:last-child {
    color: var(--gold-metallic); /* –ó–æ–ª–æ—Ç–æ–π —Ü–≤–µ—Ç */
    display: flex;
    align-items: center;
    gap: 4px;
}

/* –ò–∫–æ–Ω–∫–∞ –ø–∞–ø–∫–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ - –∑–æ–ª–æ—Ç–∞—è */
.category-card-footer .fa-folder,
.category-card-footer .fa-list {
    color: var(--gold-metallic); /* –ó–æ–ª–æ—Ç–∞—è –∏–∫–æ–Ω–∫–∞ */
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
@media (max-width: 768px) {
    .category-card-footer {
        font-size: 0.75rem !important; /* –ï—â–µ –º–µ–Ω—å—à–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
    }
    
    .category-card-footer .fa-arrow-right {
        font-size: 0.7rem !important;
    }
}

/* –î–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Å–µ—Ö —É—Å–ª—É–≥ - —Ç–µ –∂–µ —Å—Ç–∏–ª–∏ */
#allServicesList .category-card-footer {
    color: var(--gold-metallic); /* –ó–æ–ª–æ—Ç–æ–π —Ü–≤–µ—Ç */
    font-size: 0.8rem !important;
}

#allServicesList .category-card-footer span:last-child {
    color: var(--gold-metallic);
}

#allServicesList .category-card-footer .fa-folder,
#allServicesList .category-card-footer .fa-list {
    color: var(--gold-metallic);
}

/* –î–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã - —Ç–µ –∂–µ —Å—Ç–∏–ª–∏ */
.grid-2-main .category-card-footer,
.grid-3-main .category-card-footer {
    color: var(--gold-metallic); /* –ó–æ–ª–æ—Ç–æ–π —Ü–≤–µ—Ç */
    font-size: 0.8rem !important;
}

/* –î–ª—è —Å—Ç—Ä–µ–ª–æ—á–∫–∏ –≤–æ –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–∫–∞—Ö */
.category-card-footer .fa-arrow-right,
.service-card-square .fa-arrow-right {
    color: var(--gold-metallic) !important; /* –ó–æ–ª–æ—Ç–∞—è —Å—Ç—Ä–µ–ª–æ—á–∫–∞ */
    font-size: 0.75rem !important;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ —É—Å–ª—É–≥ */
.service-card-square .service-card-footer {
    margin-top: auto;
    color: var(--gold-metallic); /* –ó–æ–ª–æ—Ç–æ–π —Ü–≤–µ—Ç */
    font-weight: 600;
    font-size: 0.8rem !important; /* –£–º–µ–Ω—å—à–µ–Ω —Ä–∞–∑–º–µ—Ä */
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: 0 10px;
}

/* –î–ª—è —Ç–æ–ø —É—Å–ª—É–≥ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π */
#topServicesGrid .category-card-footer {
    color: var(--gold-metallic) !important; /* –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —Å—Ç–∏–ª–∏ */
}

#topServicesGrid .category-card-footer .fa-star {
    color: var(--gold-metallic) !important; /* –ó–æ–ª–æ—Ç–∞—è –∑–≤–µ–∑–¥–∞ */
}
    /* –î–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Å–µ—Ö —É—Å–ª—É–≥ */
    #allServicesList .category-card-main-style {
        min-height: 300px;
        max-height: 350px;
    }
    
    #allServicesList .category-card-main-style h3 {
        height: 38px;
        font-size: 1rem;
    }
    
 #allServicesList .category-description-main {
    font-size: 0.8rem;
    padding: 10px;
    max-height: 80px;
    -webkit-line-clamp: 3;
}

    
    /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
    @media (max-width: 768px) {
        .category-card-main-style {
            min-height: 280px;
            max-height: 320px;
            padding: 15px 10px;
        }
        
        .category-image-main {
            width: 80px;
            height: 80px;
            margin-bottom: 12px;
        }
        
        .category-card-main-style h3 {
            font-size: 1rem;
            height: 36px;
            margin-bottom: 8px;
        }
        
        .category-description-main {
            font-size: 0.8rem;
            padding: 10px;
            margin-bottom: 12px;
            -webkit-line-clamp: 3;
        }
        
        #allServicesList .category-card-main-style {
            min-height: 260px;
            max-height: 300px;
        }
    }
    
    @media (max-width: 480px) {
        .category-card-main-style {
            min-height: 250px;
            max-height: 280px;
        }
        
        .category-image-main {
            width: 70px;
            height: 70px;
        }
        
        .category-card-main-style h3 {
            font-size: 0.95rem;
            height: 34px;
        }
        
        .category-description-main {
            font-size: 0.75rem;
            padding: 8px;
            -webkit-line-clamp: 2;
        }
        @media (max-width: 480px) {
    .stats-grid-compact {
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
    }
    
    .stat-item-compact {
        padding: 10px 6px;
    }
    
    .stat-number-compact {
        font-size: 1.2rem;
    }
    
    .stat-title-compact {
        font-size: 0.7rem;
        -webkit-line-clamp: 2; /* 2 —Å—Ç—Ä–æ–∫–∏ –¥–∞–∂–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
    }
            .service-stats-compact > div:last-child {
    padding-top: 15px;
    border-top: 1px solid rgba(61, 61, 61, 0.1);
    margin-top: 15px;
    width: 100%;
    overflow: hidden;
}

.service-stats-compact > div:last-child button {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
    padding: 8px 16px;
    font-size: 0.85rem;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
.service-stats-compact .stats-header {
    text-align: center;
    margin-bottom: 15px;
    overflow: hidden;
}

.service-stats-compact .stats-header h4 {
    font-size: 1rem;
    color: var(--graphite-dark);
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
}
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ */
        @media (min-width: 481px) and (max-width: 768px) {
            #allServicesList {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            #allServicesList .category-card-main-style {
                min-height: 340px;
            }
            
            #allServicesList .category-image-main {
                width: 100px;
                height: 100px;
            }
            
            #allServicesList .category-card-main-style h3 {
                font-size: 1rem;
            }
            
            #allServicesList .category-description-main {
                font-size: 0.85rem;
            }
        }
        
        /* –î–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ (–º–µ–Ω–µ–µ 360px) */
        @media (max-width: 360px) {
            .container {
                padding: 0 8px !important;
            }
            
            .hero {
                padding: 20px;
            }
            
            .hero h1 {
                font-size: 1.6rem;
            }
            
            .hero .tagline {
                font-size: 1.2rem;
            }
            
            .section-title {
                font-size: 1.4rem !important;
            }
            
            .profile-stats {
                grid-template-columns: 1fr;
                gap: 8px !important;
            }
            
            .stat-item {
                padding: 10px !important;
            }
            
            .nav-item span {
                font-size: 0.7rem;
            }
            
            .nav-item i {
                font-size: 1rem !important;
                margin-bottom: 2px !important;
            }
            
            .notification {
                width: 90%;
                right: 5%;
            }
            
            .bottom-nav {
                height: 55px !important;
                padding: 0 5px !important;
            }
            
            .nav-item span {
                font-size: 0.65rem !important;
            }
            
            .service-card {
                min-height: 180px;
            }
            
            .service-header h4 {
                min-height: 40px;
                font-size: 0.9rem;
            }
            
            .service-description {
                font-size: 0.8rem;
                -webkit-line-clamp: 2;
            }
            
            .category-image,
            .service-image {
                height: 80px;
            }
            
            .chat-input {
                min-height: 50px;
                font-size: 0.9rem;
            }
            
            .send-message-btn {
                width: 50px;
                height: 50px;
            }
            
            .form-group > div[style*="grid-template-columns"] {
                grid-template-columns: 1fr !important;
            }
            
            .stats-grid-compact {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .stat-item-compact {
                padding: 15px 12px;
            }
            
            .stat-number-compact {
                font-size: 1.6rem;
            }
            
            .stat-title-compact {
                font-size: 0.85rem;
            }
            
            .service-stats-compact {
                padding: 15px;
            }
            
            #allServicesList {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
                padding: 0 4px;
            }
            
            #allServicesList .category-card-main-style {
                padding: 10px;
                min-height: 260px;
            }
            
            #allServicesList .category-image-main {
                width: 70px;
                height: 70px;
            }
            
            #allServicesList .category-card-main-style h3 {
                font-size: 0.85rem;
                min-height: 30px;
            }
        }
        
        /* –•–æ–≤–µ—Ä—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞ */
        @media (min-width: 1025px) {
            .category-card-main-style:hover {
                transform: translateY(-4px);
                box-shadow: var(--shadow);
            }
        }
        
        /* –ê–¥–º–∏–Ω –∫–Ω–æ–ø–∫–∞ */
        .admin-access-btn,
        .performer-access-btn,
        .quick-tasks-btn {
            position: fixed;
            z-index: 1000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
            animation: pulse 2s infinite;
        }
        
        .admin-access-btn {
            bottom: 80px;
            right: 20px;
            background: var(--primary-gradient);
            color: white;
        }
        
        .quick-tasks-btn {
            bottom: 80px;
            left: 20px;
            background: var(--action-gradient);
            color: var(--graphite-dark);
        }
        
        /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Ç–µ–∫—Å—Ç–∞ */
        a {
            text-decoration: none;
            color: inherit;
        }
        
        button {
            font-family: 'Inter', sans-serif;
        }
        
        /* –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã */
        ::placeholder {
            color: var(--graphite-light);
            opacity: 0.7;
        }
        
        /* –°–∫—Ä–æ–ª–ª–±–∞—Ä */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--ivory-bg);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--pastel-pink);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--pink-medium);
        }
        
        /* –ù–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
        .auth-screen {
            min-height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .auth-content {
            text-align: center;
            max-width: 400px;
            margin: 0 auto;
            width: 100%;
        }
        
        .auth-card {
            padding: 40px 30px;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--pastel-pink);
        }
        
        .auth-icon {
            font-size: 4rem;
            color: var(--pastel-pink);
            margin-bottom: 20px;
        }
        
        .auth-actions {
            margin-top: 30px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–µ–ª–æ–∞–¥–µ—Ä–∞ */
        img {
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        img.loaded {
            opacity: 1;
        }


        
/* –°—Ç–∏–ª–∏ –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–∞ */
.logo-img {
    width: 40px !important;
    height: 40px !important;
    border-radius: 8px !important;
    object-fit: contain !important;
    background: white !important;
    padding: 5px !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
    border: 2px solid var(--pastel-pink) !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è SVG –ª–æ–≥–æ—Ç–∏–ø–æ–≤ */
.logo-img[src*="data:image/svg"] {
    background: var(--gold-metallic) !important;
    padding: 8px !important;
}
        
        /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (max-width: 768px) {
            .top-nav {
                padding: 10px 15px;
            }
            
            .logo-woman, .logo-help {
                font-size: 1.2rem;
            }
            
            .grid-2-main, .grid-3-main {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                gap: 12px;
            }
            
            .category-card-main-style {
                padding: 15px 10px;
            }
            
            .category-image-main {
                width: 80px;
                height: 80px;
            }
            
            .contact-type-buttons {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .compact-profile-header {
                padding: 15px;
            }
            
            .compact-profile-avatar {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }
            
            .compact-profile-name {
                font-size: 1.1rem;
            }
            
            .compact-profile-email {
                font-size: 0.8rem;
            }
            
            .compact-profile-stats {
                gap: 10px;
            }
            
            .compact-stat-value {
                font-size: 1rem;
            }
            
            .compact-stat-label {
                font-size: 0.65rem;
            }
        }

/* ==================== –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –õ–û–ì–û–¢–ò–ü–ê –ë–ï–ó –û–ë–í–û–î–û–ö ==================== */

/* –£–±–∏—Ä–∞–µ–º –≤—Å–µ –æ–±–≤–æ–¥–∫–∏ –∏ —Ä–∞–º–∫–∏ —É –ª–æ–≥–æ—Ç–∏–ø–∞ */
.logo-frame,
.auth-logo-frame {
    border: none !important;
    box-shadow: none !important;
    background: none !important;
    padding: 0 !important;
    margin: 0 !important;
}

.logo-img,
.auth-logo-img {
    width: 40px !important;
    height: 40px !important;
    border-radius: 8px !important;
    border: none !important;
    background: none !important;
    padding: 0 !important;
    box-shadow: none !important;
    object-fit: contain !important;
    display: block !important;
}

/* –£–±–∏—Ä–∞–µ–º –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç –æ–±–≤–æ–¥–∫—É */
.logo-frame::before,
.logo-frame::after,
.auth-logo-frame::before,
.auth-logo-frame::after {
    display: none !important;
}

/* –î–ª—è —ç–∫—Ä–∞–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ */
.auth-logo-frame {
    width: 80px !important;
    height: 80px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin: 0 auto 20px !important;
    background: none !important;
    padding: 0 !important;
}

.auth-logo-img {
    width: 60px !important;
    height: 60px !important;
    object-fit: contain !important;
    border-radius: var(--radius) !important;
    display: block !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è SVG –ª–æ–≥–æ—Ç–∏–ø–æ–≤ */
.logo-img[src*="data:image/svg"],
.auth-logo-img[src*="data:image/svg"] {
    background: none !important;
    padding: 0 !important;
}

/* –£–±–∏—Ä–∞–µ–º –æ–±–≤–æ–¥–∫—É –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
.logo-frame:hover .logo-img {
    transform: scale(1.1);
    border: none !important;
    box-shadow: none !important;
}

/* –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
@media (max-width: 768px) {
    .logo-frame,
    .auth-logo-frame {
        padding: 0 !important;
    }
    
    .logo-img {
        width: 35px !important;
        height: 35px !important;
        border: none !important;
    }
    
    .auth-logo-frame {
        width: 70px !important;
        height: 70px !important;
    }
    
    .auth-logo-img {
        width: 50px !important;
        height: 50px !important;
        border: none !important;
    }
}
            @media (max-width: 768px) {
    /* –£–º–µ–Ω—å—à–∞–µ–º —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø –≤ —à–∞–ø–∫–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
    .top-nav .logo-frame {
        width: 60px !important;
        height: 60px !important;
    }
    
    .top-nav .logo-img {
        width: 60px !important;
        height: 60px !important;
    }
    
    .logo-woman, .logo-help {
        font-size: 1.4rem !important;
    }
    
    .logo-tagline {
        font-size: 0.7rem !important;
    }
    
    /* –£–º–µ–Ω—å—à–∞–µ–º —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
    .auth-logo-frame {
        width: 120px !important;
        height: 120px !important;
    }
    
    .auth-logo-img {
        width: 90px !important;
        height: 90px !important;
    }
    
    .auth-logo-woman,
    .auth-logo-help {
        font-size: 2.2rem !important;
    }
    
    .auth-logo-tagline {
        font-size: 0.95rem !important;
    }
}

@media (max-width: 480px) {
    /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –¥–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
    .top-nav .logo-frame {
        width: 50px !important;
        height: 50px !important;
    }
    
    .top-nav .logo-img {
        width: 50px !important;
        height: 50px !important;
    }
    
    .logo-woman, .logo-help {
        font-size: 1.2rem !important;
    }
    
    .logo-tagline {
        font-size: 0.65rem !important;
    }
    
    .auth-logo-frame {
        width: 100px !important;
        height: 100px !important;
    }
    
    .auth-logo-img {
        width: 75px !important;
        height: 75px !important;
    }
    
    .auth-logo-woman,
    .auth-logo-help {
        font-size: 1.8rem !important;
    }
    
    .auth-logo-tagline {
        font-size: 0.85rem !important;
    }
}
            .user-avatar {
    width: 52px !important; /* –ë—ã–ª–æ 44px */
    height: 52px !important; /* –ë—ã–ª–æ 44px */
    font-size: 1.4rem !important; /* –ë—ã–ª–æ 1.2rem */
}
            /* –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ 2 —Ä–∞–∑–∞ */
.auth-logo-frame {
    width: 160px !important; /* –ë—ã–ª–æ 80px */
    height: 160px !important; /* –ë—ã–ª–æ 80px */
    margin: 0 auto 25px !important; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ—Ç—Å—Ç—É–ø */
}

.auth-logo-img {
    width: 120px !important; /* –ë—ã–ª–æ 60px */
    height: 120px !important; /* –ë—ã–ª–æ 60px */
    border-radius: var(--radius-lg) !important;
}

/* –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
.auth-logo-woman,
.auth-logo-help {
    font-size: 2.8rem !important; /* –ë—ã–ª–æ 2rem */
}

.auth-logo-tagline {
    font-size: 1.1rem !important; /* –ë—ã–ª–æ 0.9rem */
    margin-top: 10px !important;
}
/* –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–∞ –≤ —à–∞–ø–∫–µ –≤ 2 —Ä–∞–∑–∞ */
.top-nav .logo-frame {
    width: 69px !important; /* –ë—ã–ª–æ 40px */
    height: 60px !important; /* –ë—ã–ª–æ 40px */
}

.top-nav .logo-img {
    width: 80px !important; /* –ë—ã–ª–æ 40px */
    height: 80px !important; /* –ë—ã–ª–æ 40px */
    border-radius: 12px !important; /* –ë—ã–ª–æ 8px */
}

/* –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Ä—è–¥–æ–º —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º */
.logo-woman, .logo-help {
    font-size: 1.8rem !important; /* –ë—ã–ª–æ 1.4rem */
}

.logo-tagline {
    font-size: 0.85rem !important; /* –ë—ã–ª–æ 0.65rem */
}
/* –£–±–∏—Ä–∞–µ–º –æ–±–≤–æ–¥–∫—É –≤ –ª–æ–≥–æ—Ç–∏–ø–µ —à–∞–ø–∫–∏ */
.top-nav .logo-frame {
    border: none !important;
    background: none !important;
    box-shadow: none !important;
}

/* –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º —á—Ç–æ –ª–æ–≥–æ—Ç–∏–ø –æ—Å—Ç–∞–µ—Ç—Å—è —á–∏—Å—Ç—ã–º */
.logo-container .logo-frame img {
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
    background: none !important;
}

/* –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∞–≤–∞—Ç–∞—Ä–∞ —Ç–æ–∂–µ —É–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–µ–µ */
.user-avatar {
    border: 2px solid rgba(255, 255, 255, 0.9) !important;
    box-shadow: 0 2px 6px rgba(61, 61, 61, 0.1) !important;
}

.user-avatar img {
    border: 2px solid rgba(255, 255, 255, 0.9) !important;
}

/* –û—Ç–∫–ª—é—á–∞–µ–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ —Ñ–æ–Ω—ã –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–∞ */
.logo-frame,
.auth-logo-frame {
    background: none !important;
    background-image: none !important;
}
        
        /* –î–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–∞ –≥–ª–∞–≤–Ω–æ–π –≤ grid-2 */
        .grid-2 .category-card .category-image {
            width: 100px;
            height: 100px;
        }

        /* –î–ª—è —É—Å–ª—É–≥ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π –≤ grid-3 */
        .grid-3 .service-card .service-image {
            width: 100px;
            height: 100px;
            margin: 0 auto 10px;
        }
    .rating-stars {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 20px 0;
    }
    
    .star {
        font-size: 2.5rem;
        color: #ddd;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    
    .star:hover,
    .star.active {
        color: #FFD700;
        transform: scale(1.1);
    }
    
    .star.selected {
        color: #FFD700;
    }
    
    .rating-value {
        text-align: center;
        font-size: 1.2rem;
        color: var(--graphite-dark);
        margin-bottom: 20px;
        font-weight: 600;
    }
    
    .comment-box {
        width: 100%;
        min-height: 100px;
        padding: 12px;
        border: 1px solid var(--pastel-pink);
        border-radius: var(--radius);
        font-family: 'Inter', sans-serif;
        font-size: 0.9rem;
        margin-bottom: 20px;
        resize: vertical;
    }
    
    .performer-info-rating {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 20px;
        padding: 15px;
        background: var(--pink-light);
        border-radius: var(--radius);
    }
    
    .performer-avatar-rating {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: var(--gold-metallic);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 700;
        font-size: 1.5rem;
    }
    
    .performer-details-rating {
        flex: 1;
    }
    
    .performer-name-rating {
        font-weight: 600;
        font-size: 1.1rem;
        color: var(--graphite-dark);
        margin-bottom: 5px;
    }
    
    .performer-rating-badge {
        display: inline-flex;
        align-items: center;
        gap: 5px;
        background: rgba(255, 215, 0, 0.1);
        color: #FFD700;
        padding: 4px 10px;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 600;
    }
</style>
</head>
<body>
    <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="loading-bar" style="position: fixed; top: 0; left: 0; width: 100%; height: 3px; background: var(--pastel-pink); z-index: 9999; transform: translateX(-100%);"></div>
    
    <!-- –û–≤–µ—Ä–ª–µ–π –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é -->
    <div id="mobile-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 999;"></div>
    
    <!-- –í–µ—Ä—Ö–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
<nav class="top-nav">
    <a href="#" class="logo-container" onclick="app.navigateToPage('home')">
        <div class="logo-frame">
            <img src="" 
                 alt="WOMAN HELP" 
                 class="logo-img" 
                 id="mainLogoImg"
                 loading="lazy">
        </div>
        <div class="logo-text-container">
            <div class="logo-main-text">
                <span class="logo-woman">WOMAN</span>
                <span class="logo-help">HELP</span>
            </div>
            <div class="logo-tagline">–†–µ—à–µ–Ω–∏–µ –µ—Å—Ç—å</div>
        </div>
    </a>
    
    <div class="user-avatar" id="userAvatar" onclick="app.toggleUserMenu()" style="display: none;">
        <img id="userAvatarImg" 
             alt="–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
             onerror="this.style.display='none'; this.parentElement.innerHTML=this.parentElement.textContent || '–ì';"
             style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">
    </div>
    
    <div class="user-menu" id="userMenu">
        <div style="padding: 10px; border-bottom: 1px solid rgba(61, 61, 61, 0.1);">
            <div style="font-weight: 600;" id="menuUserName">–ì–æ—Å—Ç—å</div>
            <div style="font-size: 0.9rem; color: var(--graphite-medium);" id="menuUserEmail"></div>
        </div>
        <div style="padding: 5px 0;">
            <a href="#" class="nav-menu-item" onclick="app.navigateToPage('profile')">
                <i class="fas fa-user"></i>–ü—Ä–æ—Ñ–∏–ª—å
            </a>
            <a href="#" class="nav-menu-item" onclick="app.showTasksPopup()">
                <i class="fas fa-tasks"></i>–ú–æ–∏ –∑–∞–¥–∞—á–∏
            </a>
            <a href="#" class="nav-menu-item" onclick="app.showSupportChat()" id="supportMenuBtn">
                <i class="fas fa-headset"></i>–ü–æ–¥–¥–µ—Ä–∂–∫–∞
            </a>
            <a href="#" class="nav-menu-item" onclick="app.showLoginModal()" id="loginMenuBtn">
                <i class="fas fa-sign-in-alt"></i>–í–æ–π—Ç–∏
            </a>
            <a href="#" class="nav-menu-item" onclick="app.logout()" id="logoutMenuBtn" style="display: none;">
                <i class="fas fa-sign-out-alt"></i>–í—ã–π—Ç–∏
            </a>
        </div>
    </div>
</nav>    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main>
        <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
<div id="auth-page" class="page active">
    <div class="container auth-screen">
        <div class="auth-content">
            <div class="card auth-card" style="padding: 40px 30px;">
                <!-- –û–ë–ù–û–í–õ–ï–ù–ù–´–ô –õ–û–ì–û–¢–ò–ü -->
                <!-- –û–ë–ù–û–í–õ–ï–ù–ù–´–ô –õ–û–ì–û–¢–ò–ü -->
<div class="auth-logo-container">
    <div class="auth-logo-frame">
        <img src="" 
             alt="WOMAN HELP" 
             class="auth-logo-img" 
             id="authLogoImg"
             loading="lazy"
             style="max-width: 100%; max-height: 100%;">
    </div>
    <div class="auth-logo-text-container">
        <div class="auth-logo-main-text">
            <span class="auth-logo-woman">WOMAN</span>
            <span class="auth-logo-help">HELP</span>
        </div>
        <div class="auth-logo-tagline">–†–µ—à–µ–Ω–∏–µ –µ—Å—Ç—å</div>
    </div>
</div>
                
                <!-- –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
                <div class="tagline" style="font-size: 1.2rem; color: var(--pastel-pink); font-weight: 600; margin-bottom: 10px; text-align: center;">
                    –†–µ—à–µ–Ω–∏–µ –µ—Å—Ç—å
                </div>
                
                <!-- –û–ü–ò–°–ê–ù–ò–ï -->
                <p class="section-subtitle" style="font-size: 0.9rem; margin-bottom: 25px; text-align: center;">
                    –ü—Ä–µ–º–∏—É–º —Å–µ—Ä–≤–∏—Å –ø–æ–º–æ—â–∏ –¥–ª—è –∂–µ–Ω—â–∏–Ω. –û—Å—Ç–∞–≤–ª—è–π—Ç–µ –±—ã—Ç–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∞–º –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —Å–≤–æ–±–æ–¥–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º.
                </p>
                
                <!-- –ö–ù–û–ü–ö–ò -->
                <div class="auth-actions">
                    <button class="btn btn-primary" onclick="app.showLoginModal()" style="padding: 12px 20px; font-size: 0.9rem;">
                        <i class="fas fa-sign-in-alt"></i>
                        –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
                    </button>
                    <button class="btn btn-secondary" onclick="app.showRegisterModal()" style="padding: 12px 20px; font-size: 0.9rem;">
                        <i class="fas fa-user-plus"></i>
                        –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                    </button>
                </div>

                <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
<div class="service-stats-compact" style="margin-top: 30px;">
    <div class="stats-header">
        <h4>
            <i class="fas fa-chart-line" style="color: var(--pastel-pink);"></i>
            –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
        </h4>
    </div>
    
    <!-- –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞ -->
    <div class="stats-grid-compact">
        <div class="stat-item-compact">
            <div class="stat-number-compact" id="usersCount">1356</div>
            <div class="stat-title-compact">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
        </div>
        <div class="stat-item-compact">
            <div class="stat-number-compact" id="tasksCount">3257</div>
            <div class="stat-title-compact">–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞—á</div>
        </div>
        <div class="stat-item-compact">
            <div class="stat-number-compact" id="hoursCount">10365</div>
            <div class="stat-title-compact">–ß–∞—Å–æ–≤ —ç–∫–æ–Ω–æ–º–∏–∏</div>
        </div>
    </div>
    
    <div class="stats-footer">
        <button class="btn btn-secondary btn-sm" onclick="app.showSupportChat()" style="padding: 8px 16px; font-size: 0.85rem;">
            <i class="fas fa-headset"></i>
            –ü–æ–¥–¥–µ—Ä–∂–∫–∞
        </button>
    </div>
</div>
            </div>
        </div>
    </div>
</div>
        
        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <div id="home-page" class="page">
            <div class="container">
                <!-- Hero —Å–µ–∫—Ü–∏—è -->
                <section class="hero">
                    <div class="hero-content">
                        <h1>WOMAN HELP</h1>
                        <div class="tagline">–†–µ—à–µ–Ω–∏–µ –µ—Å—Ç—å</div>
                        <p>–ü—Ä–µ–º–∏—É–º —Å–µ—Ä–≤–∏—Å –ø–æ–º–æ—â–∏ –¥–ª—è –∂–µ–Ω—â–∏–Ω. –û—Å—Ç–∞–≤–ª—è–π—Ç–µ –±—ã—Ç–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∞–º –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —Å–≤–æ–±–æ–¥–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º.</p>
                        <div class="hero-actions">
                            <button class="btn btn-primary" onclick="app.checkSubscription()">
                                <i class="fas fa-plus-circle"></i>
                                –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
                            </button>
                            <button class="btn btn-secondary" onclick="app.navigateToPage('all-categories')">
                                <i class="fas fa-list"></i>
                                –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
                            </button>
                            <button class="btn guides-btn" onclick="app.navigateToPage('guides')">
                                <i class="fas fa-book"></i>
                                –ì–∞–π–¥—ã
                            </button>
                        </div>
                    </div>
                </section>
                
                <!-- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                <section class="section">
                    <h2 class="section-title">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
                    <p class="section-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏</p>
                    
                    <div class="grid-2-main" id="categoriesGrid">
                        <div class="loader" style="grid-column: 1 / -1; text-align: center;">
                            <div class="spinner"></div>
                            <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π...</p>
                        </div>
                    </div>
                </section>
                
                <!-- –¢–æ–ø —É—Å–ª—É–≥ -->
                <section class="section">
                    <div class="d-flex justify-between align-center mb-20">
                        <h2 class="section-title">–¢–æ–ø —É—Å–ª—É–≥</h2>
                        <button class="view-all-btn" onclick="app.navigateToPage('all-services')">
                            <i class="fas fa-arrow-right"></i>
                            –í—Å–µ —É—Å–ª—É–≥–∏
                        </button>
                    </div>
                    
                    <div class="grid-2-main" id="topServicesGrid">
                        <!-- –¢–æ–ø —É—Å–ª—É–≥–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </section>
                
                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                <section class="section">
                    <div class="card">
                        <h2 class="section-title">–í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                        <div class="profile-stats" id="homeStats">
                            <div class="stat-item">
                                <div class="stat-value" id="statTasksHome">0</div>
                                <div class="stat-label">–°–æ–∑–¥–∞–Ω–æ –∑–∞–¥–∞—á</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="statAvailableHome">0</div>
                                <div class="stat-label">–î–æ—Å—Ç—É–ø–Ω–æ –∑–∞–¥–∞—á</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="statCompletedHome">0</div>
                                <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∏—Å–∫–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π -->
        <div id="search-performers-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('home')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π</h2>
                    </div>
                    
                    <div class="card">
                        <div style="text-align: center; padding: 30px;">
                            <i class="fas fa-search" style="font-size: 3rem; color: var(--pastel-pink); margin-bottom: 20px;"></i>
                            <h3 style="margin-bottom: 15px;">–ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</h3>
                            <p style="color: var(--graphite-medium); margin-bottom: 25px;">
                                –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü —Å –æ—Ç–∑—ã–≤–∞–º–∏ –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–º
                            </p>
                            
                            <div class="grid grid-2" id="performerCategories">
                                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π -->
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π -->
        <div id="performers-rating-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('home')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–†–µ–π—Ç–∏–Ω–≥ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π</h2>
                    </div>
                    
                    <div class="card">
                        <div id="performersRatingList">
                            <!-- –†–µ–π—Ç–∏–Ω–≥ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            <div class="loader" style="text-align: center; padding: 40px;">
                                <div class="spinner"></div>
                                <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞...</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∑—ã–≤–æ–≤ -->
        <div id="reviews-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('home')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>
                    </div>
                    
                    <div class="hero" style="margin-bottom: 40px;">
                        <div class="hero-content">
                            <h1>–ß—Ç–æ –≥–æ–≤–æ—Ä—è—Ç –Ω–∞—à–∏ –∫–ª–∏–µ–Ω—Ç—ã</h1>
                            <p>–†–µ–∞–ª—å–Ω—ã–µ –æ—Ç–∑—ã–≤—ã –æ—Ç –∂–µ–Ω—â–∏–Ω, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –Ω–∞—à–∏–º —Å–µ—Ä–≤–∏—Å–æ–º</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-3" id="reviewsList">
                        <!-- –û—Ç–∑—ã–≤—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        <div class="card" style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                            <div class="spinner"></div>
                            <p>–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∑—ã–≤–æ–≤...</p>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ FAQ -->
        <div id="faq-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('home')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
                    </div>
                    
                    <div class="hero" style="margin-bottom: 40px;">
                        <div class="hero-content">
                            <h1>–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h1>
                            <p>–û—Ç–≤–µ—Ç—ã –Ω–∞ —Å–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ –Ω–∞—à–µ–º —Å–µ—Ä–≤–∏—Å–µ</p>
                        </div>
                    </div>
                    
                    <div class="card" style="margin-bottom: 20px;">
                        <div id="faqList">
                            <!-- FAQ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            <div class="faq-item" style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid rgba(61,61,61,0.1);">
                                <div class="faq-question" style="font-weight: 600; margin-bottom: 8px; cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
                                    <span>–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É?</span>
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                                <div class="faq-answer" style="color: var(--graphite-medium); display: none;">
                                    <p>–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É, –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É, –ø–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª "–£—Å–ª—É–≥–∏", –≤—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —É—Å–ª—É–≥—É, –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É –∏ –Ω–∞–∂–∞—Ç—å "–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É".</p>
                                </div>
                            </div>
                            
                            <!-- –ï—â–µ 9 –ø–æ–¥–æ–±–Ω—ã—Ö –±–ª–æ–∫–æ–≤ FAQ -->
                        </div>
                    </div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
        <div id="settings-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('profile')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                    </div>
                    
                    <div class="card">
                        <div style="padding: 20px;">
                            <h3 style="margin-bottom: 20px; color: var(--graphite-dark);">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞</h3>
                            
                           <div class="form-group">
    <label class="form-label">–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏ *</label>
    <div class="contact-type-buttons">
        <label class="contact-type-btn" data-type="phone">
            <input type="radio" name="contactType" value="phone" checked style="display: none;">
            <i class="fas fa-phone" style="color: var(--gold-metallic);"></i>
            <span class="btn-label">–¢–µ–ª–µ—Ñ–æ–Ω</span>
        </label>
        <label class="contact-type-btn" data-type="chat_wh">
            <input type="radio" name="contactType" value="chat_wh" style="display: none;">
            <i class="fas fa-comment-alt" style="color: var(--pastel-pink);"></i>
            <span class="btn-label">–ß–∞—Ç WH</span>
        </label>
        <label class="contact-type-btn" data-type="telegram">
            <input type="radio" name="contactType" value="telegram" style="display: none;">
            <i class="fab fa-telegram" style="color: #0088cc;"></i>
            <span class="btn-label">Telegram</span>
        </label>
    </div>
</div>
                            
                            <div class="form-group">
                                <label class="form-label">–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</label>
                                <div style="display: flex; flex-direction: column; gap: 10px;">
                                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                        <input type="checkbox" id="privacyProfile" checked>
                                        <span>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –≤ –ø–æ–∏—Å–∫–µ</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                        <input type="checkbox" id="privacyTasks">
                                        <span>–°–∫—Ä—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div style="margin-top: 30px;">
                                <button class="btn btn-primary" onclick="app.saveSettings()" style="width: 100%;">
                                    <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å–µ—Ö —É—Å–ª—É–≥ -->
        <div id="all-services-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('home')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title" id="servicesPageTitle">–í—Å–µ —É—Å–ª—É–≥–∏</h2>
                    </div>
                    
                    <div class="all-services-header">
                        <div class="search-box" id="servicesSearchBox">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" id="serviceSearch" class="search-input" 
                                   placeholder="–ü–æ–∏—Å–∫ —É—Å–ª—É–≥ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." 
                                   oninput="app.filterServices()"
                                   onfocus="app.showSearchAutocomplete()">
                            <div class="search-autocomplete" id="searchAutocomplete">
                                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                            </div>
                        </div>
                        <div>
                            <button class="guides-btn" onclick="app.navigateToPage('guides')">
                                <i class="fas fa-book"></i>
                                –ì–∞–π–¥—ã
                            </button>
                        </div>
                    </div>
                    
                    <div class="grid-2-main" id="allServicesList">
                        <!-- –í—Å–µ —É—Å–ª—É–≥–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    
                    <div style="text-align: center; margin-top: 30px; display: none;" id="backToCategoriesBtn">
    <button class="btn btn-secondary" onclick="app.navigateToPage('all-categories')">
        <i class="fas fa-arrow-left"></i>
        –ù–∞–∑–∞–¥ –∫–æ –≤—Å–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
    </button>
</div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
        <div id="all-categories-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('home')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
                    </div>
                    
                    <div class="search-box" style="margin-bottom: 30px;">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" id="categorySearch" class="search-input" placeholder="–ü–æ–∏—Å–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π..." oninput="app.filterCategories()">
                    </div>
                    
                    <div class="grid-2-main" id="allCategoriesList">
                        <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≥–∞–π–¥–æ–≤ -->
        <div id="guides-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('home')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–ì–∞–π–¥—ã –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</h2>
                    </div>
                    
                    <div class="hero" style="margin-bottom: 40px;">
                        <div class="hero-content">
                            <h1>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∑–Ω–∞–Ω–∏–π</h1>
                            <p>–ü–æ–ª–µ–∑–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –∏ —Å–æ–≤–µ—Ç—ã –ø–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–µ—Ä–≤–∏—Å–∞</p>
                        </div>
                    </div>
                    
                    <div class="guides-grid" id="guidesList">
                        <div class="guide-card" onclick="app.showGuide('getting-started')">
                            <i class="fas fa-play-circle guide-icon"></i>
                            <h3>–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã</h3>
                            <p>–ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –ø–µ—Ä–≤–æ–π –∑–∞–¥–∞—á–∏ –∏ —Ä–∞–±–æ—Ç–µ —Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏</p>
                            <div style="color: var(--graphite-light); font-size: 0.9rem;">
                                <i class="far fa-clock"></i> 5 –º–∏–Ω —á—Ç–µ–Ω–∏—è
                            </div>
                        </div>
                        
                        <div class="guide-card" onclick="app.showGuide('tips')">
                            <i class="fas fa-lightbulb guide-icon"></i>
                            <h3>–°–æ–≤–µ—Ç—ã –ø–æ –∑–∞–¥–∞—á–∞–º</h3>
                            <p>–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø–∏—Å–∞—Ç—å –∑–∞–¥–∞—á—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</p>
                            <div style="color: var(--graphite-light); font-size: 0.9rem;">
                                <i class="far fa-clock"></i> 7 –º–∏–Ω —á—Ç–µ–Ω–∏—è
                            </div>
                        </div>
                        
                        <div class="guide-card" onclick="app.showGuide('safety')">
                            <i class="fas fa-shield-alt guide-icon"></i>
                            <h3>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
                            <p>–ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏ –∏ –ø–µ—Ä–µ–¥–∞—á–µ –¥–æ—Å—Ç—É–ø–∞</p>
                            <div style="color: var(--graphite-light); font-size: 0.9rem;">
                                <i class="far fa-clock"></i> 10 –º–∏–Ω —á—Ç–µ–Ω–∏—è
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        
       <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ -->
<div id="create-task-page" class="page">
    <div class="container">
        <section class="section">
            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                <button class="btn btn-secondary" onclick="app.cancelTask()" style="padding: 8px 16px;">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 class="section-title">–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</h2>
            </div>
            
            <div class="card">
                <form id="createTaskForm" class="create-task-form">
                    <div class="form-group">
                        <label class="form-label">–£—Å–ª—É–≥–∞</label>
                        <div class="form-input" style="background: rgba(242, 221, 230, 0.1); padding: 12px; border-radius: var(--radius-sm); border-left: 4px solid var(--gold-metallic); font-weight: 600; color: var(--graphite-dark);" id="selectedServiceDisplay">
                            –ù–µ –≤—ã–±—Ä–∞–Ω–∞
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="taskTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ *</label>
                        <input type="text" id="taskTitle" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –£–±–æ—Ä–∫–∞ 2-–∫–æ–º–Ω–∞—Ç–Ω–æ–π –∫–≤–∞—Ä—Ç–∏—Ä—ã" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="taskDescription">–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="taskDescription" class="form-input" rows="4" placeholder="–û–ø–∏—à–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏..." required></textarea>
                    </div>
                    
                    <!-- –û–°–û–ë–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ü–ï–†–ï–ú–ï–©–ï–ù–´ –°–Æ–î–ê -->
                    <div class="form-group">
                        <label class="form-label" for="additionalRequirements">–û—Å–æ–±—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</label>
                        <textarea id="additionalRequirements" class="form-input" rows="2" 
                                  placeholder="–û—Å–æ–±—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–ª–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="taskAddress">–ê–¥—Ä–µ—Å *</label>
                        <input type="text" id="taskAddress" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤. 25, 3 —ç—Ç–∞–∂, –∫–æ–¥ –¥–æ–º–æ—Ñ–æ–Ω–∞ 25" required>
                        <div style="font-size: 0.85rem; color: var(--graphite-medium); margin-top: 6px; display: flex; align-items: center; gap: 6px;">
                            <i class="fas fa-info-circle" style="color: var(--pastel-pink);"></i>
                            –£–∫–∞–∂–∏—Ç–µ —É–ª–∏—Ü—É, –¥–æ–º, –∫–≤–∞—Ä—Ç–∏—Ä—É, —ç—Ç–∞–∂ –∏ –∫–æ–¥ –¥–æ–º–æ—Ñ–æ–Ω–∞ –µ—Å–ª–∏ –µ—Å—Ç—å
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="taskDeadline">–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è *</label>
                        <input type="date" id="taskDeadline" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="taskContact">–ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è —Å–≤—è–∑–∏ *</label>
                        <input type="text" id="taskContact" class="form-input" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ Telegram" required>
                    </div>
                    
                   <div class="form-group">
    <label class="form-label">–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏ *</label>
    <div class="contact-type-buttons">
        <label class="contact-type-btn" data-type="phone">
            <input type="radio" name="contactType" value="phone" checked style="display: none;">
            <i class="fas fa-phone"></i>
            <span class="btn-label">–¢–µ–ª–µ—Ñ–æ–Ω</span>
        </label>
        <label class="contact-type-btn" data-type="chat_wh">
            <input type="radio" name="contactType" value="chat_wh" style="display: none;">
            <i class="fas fa-comment-alt"></i>
            <span class="btn-label">–ß–∞—Ç WH</span>
        </label>
        <label class="contact-type-btn" data-type="telegram">
            <input type="radio" name="contactType" value="telegram" style="display: none;">
            <i class="fab fa-telegram"></i>
            <span class="btn-label">Telegram</span>
        </label>
    </div>
</div>
                    
                    <div style="display: flex; gap: 12px; margin-top: 30px;">
                        <button type="button" class="btn btn-secondary" onclick="app.cancelTask()" style="flex: 1;">
                            –û—Ç–º–µ–Ω–∞
                        </button>
                        <button type="submit" class="btn btn-primary" style="flex: 1;">
                            –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
                        </button>
                    </div>
                </form>
            </div>
        </section>
    </div>
</div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–¥–∞—á –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div id="tasks-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('home')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–ú–æ–∏ –∑–∞–¥–∞—á–∏</h2>
                    </div>
                    
                    <!-- –¢–∞–±—ã -->
                    <div class="tabs" id="tasksTabs">
                        <div class="tab active" onclick="app.loadUserTasks('all')">–í—Å–µ</div>
                        <div class="tab" onclick="app.loadUserTasks('new')">–ù–æ–≤—ã–µ</div>
                        <div class="tab" onclick="app.loadUserTasks('searching')">–í –ø–æ–∏—Å–∫–µ</div>
                        <div class="tab" onclick="app.loadUserTasks('in_progress')">–í —Ä–∞–±–æ—Ç–µ</div>
                        <div class="tab" onclick="app.loadUserTasks('completed')">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ</div>
                        <div class="tab" onclick="app.loadUserTasks('cancelled')">–û—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ</div>
                    </div>
                    
                    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∑–∞–¥–∞—á (–¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö) -->
                    <div class="task-cards-container" id="userTasksCards">
                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–¥–∞—á –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    
                    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –∑–∞–¥–∞—á (–¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞) -->
                    <div class="task-table-container" id="userTasksTable">
                        <!-- –¢–∞–±–ª–∏—Ü–∞ –∑–∞–¥–∞—á –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–µ–π –∑–∞–¥–∞—á–∏ -->
        <div id="task-details-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('tasks')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏</h2>
                    </div>
                    
                    <!-- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏ -->
                    <div class="card" style="margin-bottom: 20px;">
                        <div id="taskCompactDetails">
                            <!-- –î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                    
                    <!-- –ß–∞—Ç –≤—Å—Ç—Ä–æ–µ–Ω –ø—Ä—è–º–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ -->
                    <div class="card" id="taskChatSection" style="display: none;">
                        <div class="chat-header">
                            <h3 style="margin: 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-comments"></i>
                                <span id="chatHeaderTitle">–ß–∞—Ç –ø–æ –∑–∞–¥–∞—á–µ</span>
                            </h3>
                        </div>
                        
                        <div class="chat-messages-container" id="inlineChatMessages">
                            <!-- –°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞ -->
                        </div>
                        
                       <div class="chat-input-area">
    <textarea id="inlineChatMessage" class="chat-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." rows="1"></textarea>
    <button class="send-message-btn" onclick="app.sendInlineChatMessage()">
        <i class="fas fa-paper-plane"></i>
    </button>
</div>
                    </div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
        <div id="profile-page" class="page">
            <div class="container">
                <!-- –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è —à–∞–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
                <section class="section">
                    <div class="card" style="padding: 20px; background: white; margin-bottom: 20px;">
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <div class="compact-profile-avatar" id="profileAvatar">
                                <img id="profileAvatarImg"
                                     alt="–ê–≤–∞—Ç–∞—Ä –ø—Ä–æ—Ñ–∏–ª—è"
                                     onerror="this.style.display='none'; this.parentElement.innerHTML=this.parentElement.textContent || '–ì';"
                                     style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">
                            </div>
                            <div style="flex: 1;">
                                <div class="compact-profile-name" id="profileName">–ì–æ—Å—Ç—å</div>
                                <div class="compact-profile-email" id="profileEmail" style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç</div>
                                <div class="compact-profile-stats" id="profileStats">
                                    <div class="compact-stat-item">
                                        <div class="compact-stat-value" id="statTasks">0</div>
                                        <div class="compact-stat-label">–ó–∞–¥–∞—á</div>
                                    </div>
                                    <div class="compact-stat-item">
                                        <div class="compact-stat-value" id="statRating">0</div>
                                        <div class="compact-stat-label">–†–µ–π—Ç–∏–Ω–≥</div>
                                    </div>
                                    <div class="compact-stat-item">
                                        <div class="compact-stat-value" id="statBalance">0‚ÇΩ</div>
                                        <div class="compact-stat-label">–ë–∞–ª–∞–Ω—Å</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- –ü–æ–¥–ø–∏—Å–∫–∞ -->
                <section class="section">
                    <h2 class="section-title">–ü–æ–¥–ø–∏—Å–∫–∞</h2>
                    <div class="card" id="profileSubscriptionCard">
                        <div class="empty-state">
                            <i class="fas fa-crown empty-state-icon"></i>
                            <h3 class="empty-state-title">–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞</h3>
                            <p class="empty-state-description">–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º</p>
                            <button class="btn btn-primary" onclick="app.navigateToPage('subscription')">
                                <i class="fas fa-crown"></i>
                                –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
                            </button>
                        </div>
                    </div>
                </section>
                
                
                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è -->
                <section class="section">
                    <h2 class="section-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                    <div class="card">
                        <div style="padding: 10px 0;" id="profileSettingsList">
                            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥–ø–∏—Å–æ–∫ -->
        <div id="subscription-page" class="page">
            <div class="container subscription-screen">
                <div class="subscription-content">
                    <div class="card" style="padding: 40px 20px;">
                        <div style="text-align: center; margin-bottom: 30px;">
                            <i class="fas fa-crown" style="font-size: 3.5rem; color: var(--pastel-pink); margin-bottom: 20px;"></i>
                            <h2 class="section-title">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É</h2>
                            <p class="section-subtitle">–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É</p>
                        </div>
                        
                        <div class="grid grid-2" id="subscriptionSelection">
                            <!-- –ü–æ–¥–ø–∏—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                        
                        <div style="text-align: center; margin-top: 30px;">
                            <p style="color: var(--graphite-medium); font-size: 0.9rem;">
                                <i class="fas fa-info-circle"></i> –í—Å–µ —É—Å–ª—É–≥–∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ –ø–æ–¥–ø–∏—Å–∫—É, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
                            </p>
                        </div>
                        
                        <!-- –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –±–ª–æ–∫ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ -->
                        <div style="margin-top: 40px; padding-top: 30px; border-top: 1px solid rgba(61, 61, 61, 0.1);">
                            <div style="text-align: center;">
                                <p style="color: var(--graphite-medium); font-size: 0.9rem; margin-bottom: 20px;">
                                    <i class="fas fa-file-contract"></i> –ü—Ä–∏–æ–±—Ä–µ—Ç–∞—è –ø–æ–¥–ø–∏—Å–∫—É, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏:
                                </p>
                                <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
                                    <button class="btn btn-secondary" onclick="app.showDocumentModal('offer')" style="padding: 10px 20px; font-size: 0.9rem;">
                                        <i class="fas fa-file-alt"></i>
                                        –û—Ñ–µ—Ä—Ç–∞
                                    </button>
                                    <button class="btn btn-secondary" onclick="app.showDocumentModal('privacy')" style="padding: 10px 20px; font-size: 0.9rem;">
                                        <i class="fas fa-shield-alt"></i>
                                        –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å
                                    </button>
                                    <button class="btn btn-secondary" onclick="app.showDocumentModal('refund')" style="padding: 10px 20px; font-size: 0.9rem;">
                                        <i class="fas fa-undo-alt"></i>
                                        –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="bottom-nav" id="bottomNav" style="display: none;">
        <a href="#" class="nav-item active" onclick="app.navigateToPage('home')" data-page="home">
            <i class="fas fa-home"></i>
            <span>–ì–ª–∞–≤–Ω–∞—è</span>
        </a>
        <a href="#" class="nav-item" onclick="app.navigateToPage('all-services')" data-page="all-services">
            <i class="fas fa-list"></i>
            <span>–í—Å–µ —É—Å–ª—É–≥–∏</span>
        </a>
        <a href="#" class="nav-item" onclick="app.showTasksPopup()" id="quickTasksBtn">
            <i class="fas fa-tasks"></i>
            <span>–ó–∞–¥–∞—á–∏</span>
        </a>
        <a href="#" class="nav-item" onclick="app.navigateToPage('profile')" data-page="profile">
            <i class="fas fa-user"></i>
            <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
        </a>
    </nav>
    
    <!-- –ö–Ω–æ–ø–∫–∞ –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–¥–∞—á -->
    <a href="#" class="quick-tasks-btn" onclick="app.showTasksPopup()" id="floatingTasksBtn" style="display: none;">
        <i class="fas fa-tasks"></i>
    </a>
    
    <!-- –ü–æ–ø-–∞–ø –æ–∫–Ω–æ —Å–æ —Å–ø–∏—Å–∫–æ–º –∑–∞–¥–∞—á -->
    <div class="tasks-popup-modal" id="tasksPopupModal" style="display: none;">
        <div class="tasks-popup-content">
            <div class="tasks-popup-header">
                <h3>–ú–æ–∏ –∑–∞–¥–∞—á–∏</h3>
                <button class="close-popup-btn" onclick="app.closeTasksPopup()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="tasks-popup-body">
                <div id="popupTasksList">
                    <!-- –ó–∞–¥–∞—á–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —á–∞—Ç–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π -->
    <div class="modal" id="supportChatModal">
        <div class="modal-content" style="max-width: 600px; max-height: 80vh; display: flex; flex-direction: column;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-shrink: 0;">
                <h3 class="modal-title">
                    <i class="fas fa-headset" style="color: var(--pastel-pink); margin-right: 10px;"></i>
                    –ß–∞—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
                </h3>
                <button class="close-popup-btn" onclick="app.closeSupportChat()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div id="supportChatMessages" style="flex: 1; overflow-y: auto; padding: 15px; background: var(--ivory-bg); border-radius: var(--radius); margin-bottom: 15px; display: flex; flex-direction: column; gap: 10px;">
                <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
            
            <div style="display: flex; gap: 10px; flex-shrink: 0;">
                <textarea id="supportMessageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." style="flex: 1; padding: 14px 18px; min-height: 60px; border: 1.5px solid rgba(242, 221, 230, 0.5); border-radius: 20px; background: var(--ivory-light); font-family: 'Inter', sans-serif; font-size: 1rem; resize: none; transition: var(--transition);"></textarea>
                <button class="btn btn-primary" onclick="app.sendSupportMessage()" style="align-self: flex-end; padding: 12px 20px;">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
            
            <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(61, 61, 61, 0.1); flex-shrink: 0;">
                <p style="color: var(--graphite-medium); font-size: 0.85rem; text-align: center;">
                    <i class="fas fa-info-circle" style="margin-right: 5px;"></i>
                    –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏: –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è (9:00-21:00)
                </p>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ -->
    <div class="modal" id="documentModal">
        <div class="modal-content" style="max-width: 800px; max-height: 80vh; display: flex; flex-direction: column;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-shrink: 0;">
                <h3 class="modal-title" id="documentTitle"></h3>
                <button class="close-popup-btn" onclick="app.closeDocumentModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div id="documentContent" style="flex: 1; overflow-y: auto; padding: 20px; background: var(--ivory-bg); border-radius: var(--radius); line-height: 1.6;">
                <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∑–¥–µ—Å—å -->
            </div>
            
            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(61, 61, 61, 0.1); text-align: center; flex-shrink: 0;">
                <button class="btn btn-primary" onclick="app.closeDocumentModal()">
                    <i class="fas fa-check"></i>
                    –ó–∞–∫—Ä—ã—Ç—å
                </button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <h3 class="modal-title">–í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç</h3>
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="text" id="loginPhoneInput" class="form-input" placeholder="+79991234567" required>
                    <small style="color: var(--graphite-light); font-size: 0.8rem;">–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω, —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</small>
                </div>
                <div class="form-group">
                    <label class="form-label">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="loginPasswordInput" class="form-input" placeholder="–í–∞—à –ø–∞—Ä–æ–ª—å" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 10px;">
                    –í–æ–π—Ç–∏
                </button>
            </form>
            <div style="text-align: center; margin-top: 20px;">
                <p style="color: var(--graphite-medium); font-size: 0.9rem;">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? 
                    <a href="#" onclick="app.showRegisterModal()" style="color: var(--pastel-pink); text-decoration: none; font-weight: 600;">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
                </p>
                <p style="color: var(--graphite-medium); font-size: 0.9rem; margin-top: 10px;">
                    –ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å? 
                    <a href="#" onclick="app.showForgotPasswordModal()" style="color: var(--pastel-pink); text-decoration: none; font-weight: 600;">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</a>
                </p>
            </div>
        </div>
    </div>
    
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <h3 class="modal-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
            <form id="registerForm">
                <div class="form-group">
                    <label class="form-label">–ò–º—è *</label>
                    <input type="text" id="registerFirstName" class="form-input" placeholder="–í–∞—à–µ –∏–º—è" required>
                </div>
                <div class="form-group">
                    <label class="form-label">–§–∞–º–∏–ª–∏—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <input type="text" id="registerLastName" class="form-input" placeholder="–í–∞—à–∞ —Ñ–∞–º–∏–ª–∏—è">
                </div>
                <div class="form-group">
                    <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                    <input type="tel" id="registerPhone" class="form-input" placeholder="+7 (999) 123-45-67" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <input type="email" id="registerEmail" class="form-input" placeholder="–≤–∞—à@email.com">
                </div>
                <div class="form-group">
                    <label class="form-label">–ü–∞—Ä–æ–ª—å *</label>
                    <input type="password" id="registerPassword" class="form-input" placeholder="–ù–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 10px;">
                    –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                </button>
            </form>
        </div>
    </div>
    
    <div class="modal" id="forgotPasswordModal">
        <div class="modal-content">
            <h3 class="modal-title">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</h3>
            <div id="forgotPasswordContent">
                <p style="color: var(--graphite-medium); margin-bottom: 20px;">
                    –í–≤–µ–¥–∏—Ç–µ email –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è
                </p>
                <div class="form-group">
                    <label class="form-label">Email –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="text" id="forgotPasswordInput" class="form-input" placeholder="–≤–∞—à@email.com –∏–ª–∏ +7(999)123-45-67" required>
                </div>
                <button type="button" class="btn btn-primary" onclick="app.sendPasswordResetCode()" style="width: 100%; margin-top: 10px;">
                    –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
                </button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="resetPasswordModal">
        <div class="modal-content">
            <h3 class="modal-title">–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è</h3>
            <div id="resetPasswordContent">
                <p style="color: var(--graphite-medium); margin-bottom: 20px;">
                    –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ –ø–∏—Å—å–º–∞ –∏ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
                </p>
                <div class="form-group">
                    <label class="form-label">–ö–æ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è</label>
                    <input type="text" id="resetCodeInput" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥" maxlength="6" required>
                </div>
                <div class="form-group">
                    <label class="form-label">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" id="newPasswordInput" class="form-input" placeholder="–ù–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤" required>
                </div>
                <div class="form-group">
                    <label class="form-label">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" id="confirmPasswordInput" class="form-input" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                </div>
                <button type="button" class="btn btn-primary" onclick="app.resetPassword()" style="width: 100%; margin-top: 10px;">
                    –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
                </button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="verifyPhoneModal">
        <div class="modal-content">
            <h3 class="modal-title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞</h3>
            <div id="verifyPhoneContent">
                <p style="color: var(--graphite-medium); margin-bottom: 20px;">
                    –î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
                </p>
                <div class="form-group">
                    <label class="form-label">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                    <input type="text" id="verifyPhoneNumber" class="form-input" readonly style="background: #f5f5f5;">
                </div>
                <div class="form-group">
                    <label class="form-label">–ö–æ–¥ –∏–∑ SMS</label>
                    <input type="text" id="verifyPhoneCode" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥" maxlength="6">
                </div>
                <button type="button" class="btn btn-primary" onclick="app.verifyPhoneCode()" style="width: 100%; margin-top: 10px;">
                    –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
                </button>
                <button type="button" class="btn btn-secondary" onclick="app.sendVerificationCode()" style="width: 100%; margin-top: 10px;">
                    <i class="fas fa-redo"></i> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –µ—â–µ —Ä–∞–∑
                </button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="sendCodeModal">
        <div class="modal-content">
            <h3 class="modal-title">–û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</h3>
            <div id="sendCodeContent">
                <p style="color: var(--graphite-medium); margin-bottom: 20px;">
                    –í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
                </p>
                <div class="form-group">
                    <label class="form-label">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                    <input type="tel" id="sendCodePhone" class="form-input" placeholder="+7 (999) 123-45-67">
                </div>
                <button type="button" class="btn btn-primary" onclick="app.sendVerificationCode(true)" style="width: 100%; margin-top: 10px;">
                    –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥
                </button>
            </div>
        </div>
    </div>

    <div class="modal" id="ratePerformerModal">
    <div class="modal-content" style="max-width: 500px;">
        <h3 class="modal-title">–û—Ü–µ–Ω–∏—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</h3>
        
        <div id="ratePerformerContent">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
        
        <div class="modal-actions">
            <button class="btn btn-secondary" onclick="app.closeModal('ratePerformerModal')">
                –û—Ç–º–µ–Ω–∞
            </button>
        </div>
    </div>
</div>
    
<script>
    const app = {
        currentCategoryId: null,
        currentUser: JSON.parse(localStorage.getItem('currentUser')) || null,
        currentToken: localStorage.getItem('token') || null,
        categories: [],
        services: [],
        allServices: [],
        subscriptions: [],
        userTasks: [],
        selectedCategory: null,
        selectedService: null,
        currentTaskFilter: 'all',
        currentChatTaskId: null,
        chatMessages: [],
        chatPollingInterval: null,
        API_BASE_URL: window.location.origin,
        serviceStats: {
            users: 1356,
            tasks: 3257,
            hours: 10365
        },

        // ==================== –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô ====================
createSvgFallback: function(type) {
    let svgContent = '';
    let width = 100;
    let height = 100;
    
    switch(type) {
        case 'logo':
    svgContent = `<svg xmlns="http://www.w3.org/2000/svg" width="${width}" height="${height}" viewBox="0 0 ${width} ${height}">
        <rect width="${width}" height="${height}" rx="12" fill="white"/>
        <rect width="${width}" height="${height}" rx="12" fill="url(#logoGradient)" opacity="0.9"/>
        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#C5A880;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#A78B65;stop-opacity:1" />
        </linearGradient>
        <text x="${width/2}" y="${height/2 + 12}" font-family="Arial, sans-serif" font-size="36" font-weight="bold" text-anchor="middle" fill="white">WH</text>
    </svg>`;
    break;
                case 'category':
                    svgContent = `<svg xmlns="http://www.w3.org/2000/svg" width="${width}" height="${height}" viewBox="0 0 ${width} ${height}">
                        <circle cx="${width/2}" cy="${height/2}" r="${width/2}" fill="#F2DDE6"/>
                        <text x="${width/2}" y="${height/2 + 15}" font-family="Arial, sans-serif" font-size="40" font-weight="bold" text-anchor="middle" fill="#3D3D3D">C</text>
                    </svg>`;
                    break;
                case 'service':
                    svgContent = `<svg xmlns="http://www.w3.org/2000/svg" width="${width}" height="${height}" viewBox="0 0 ${width} ${height}">
                        <circle cx="${width/2}" cy="${height/2}" r="${width/2}" fill="#B9AFFF"/>
                        <text x="${width/2}" y="${height/2 + 15}" font-family="Arial, sans-serif" font-size="40" font-weight="bold" text-anchor="middle" fill="white">S</text>
                    </svg>`;
                    break;
                case 'user':
                    svgContent = `<svg xmlns="http://www.w3.org/2000/svg" width="${width}" height="${height}" viewBox="0 0 ${width} ${height}">
                        <circle cx="${width/2}" cy="${height/2}" r="${width/2}" fill="#C5A880"/>
                        <circle cx="${width/2}" cy="${height/3}" r="${height/6}" fill="white"/>
                        <path d="M${width/4},${height*2/3} Q${width/2},${height*0.9} ${width*3/4},${height*2/3}" fill="white"/>
                        <text x="${width/2}" y="${height/2 + 5}" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#3D3D3D">U</text>
                    </svg>`;
                    break;
                default:
                    svgContent = `<svg xmlns="http://www.w3.org/2000/svg" width="${width}" height="${height}" viewBox="0 0 ${width} ${height}">
                        <rect width="${width}" height="${height}" fill="#F2DDE6" rx="10"/>
                        <text x="${width/2}" y="${height/2 + 5}" font-family="Arial" font-size="30" fill="#C5A880" text-anchor="middle">?</text>
                    </svg>`;
            }
            
            return 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgContent)));
        },

        getImageUrl: function(imageUrl, type) {
            if (!imageUrl || imageUrl.trim() === '') {
                return this.createSvgFallback(type);
            }
            
            if (imageUrl.includes('/api/images/test/')) {
                return this.API_BASE_URL + imageUrl + '?t=' + Date.now();
            }
            
            if (type === 'logo') {
                if (imageUrl.startsWith('/uploads/logo/')) {
                    return this.API_BASE_URL + imageUrl + '?t=' + Date.now();
                } else if (imageUrl.startsWith('/uploads/') && !imageUrl.startsWith('/uploads/logo/')) {
                    const filename = imageUrl.split('/').pop();
                    return this.API_BASE_URL + '/uploads/logo/' + filename + '?t=' + Date.now();
                } else if (!imageUrl.startsWith('/')) {
                    return this.API_BASE_URL + '/uploads/logo/' + imageUrl + '?t=' + Date.now();
                }
            }
            
            if (type === 'service') {
                if (imageUrl.startsWith('/uploads/services/')) {
                    return this.API_BASE_URL + imageUrl + '?t=' + Date.now();
                } else if (imageUrl.startsWith('/uploads/') && !imageUrl.startsWith('/uploads/services/')) {
                    const filename = imageUrl.split('/').pop();
                    return this.API_BASE_URL + '/uploads/services/' + filename + '?t=' + Date.now();
                } else if (!imageUrl.startsWith('/')) {
                    return this.API_BASE_URL + '/uploads/services/' + imageUrl + '?t=' + Date.now();
                }
            }
            
            if (type === 'category') {
                if (imageUrl.startsWith('/uploads/categories/')) {
                    return this.API_BASE_URL + imageUrl + '?t=' + Date.now();
                } else if (imageUrl.startsWith('/uploads/') && !imageUrl.startsWith('/uploads/categories/')) {
                    const filename = imageUrl.split('/').pop();
                    return this.API_BASE_URL + '/uploads/categories/' + filename + '?t=' + Date.now();
                } else if (!imageUrl.startsWith('/')) {
                    return this.API_BASE_URL + '/uploads/categories/' + imageUrl + '?t=' + Date.now();
                }
            }
            
            if (imageUrl.startsWith('/')) {
                return this.API_BASE_URL + imageUrl + '?t=' + Date.now();
            }
            
            if (imageUrl.startsWith('http://') || imageUrl.startsWith('https://')) {
                return imageUrl + '?t=' + Date.now();
            }
            
            return this.API_BASE_URL + '/api/images/test/' + type + '?t=' + Date.now();
        },

 loadLogo: async function() {
    try {
        console.log('–ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–∞...');
        
        const response = await fetch(this.API_BASE_URL + '/api/logo');
        
        if (response.ok) {
            const result = await response.json();
            if (result.success && result.data && result.data.logo_url) {
                const logoUrl = this.getImageUrl(result.data.logo_url, 'logo');
                console.log('–õ–æ–≥–æ—Ç–∏–ø –∏–∑ API:', logoUrl);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –ª–æ–≥–æ—Ç–∏–ø—ã
                const logos = document.querySelectorAll('.logo-img, .auth-logo-img');
                logos.forEach(function(img) {
                    img.src = logoUrl;
                    img.style.objectFit = 'contain'; // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ
                    img.onerror = function() {
                        console.log('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ª–æ–≥–æ—Ç–∏–ø–∞ –∏–∑ API, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–æ–ª–±—ç–∫');
                        this.src = app.createSvgFallback('logo');
                        this.style.objectFit = 'contain';
                        this.onerror = null;
                    };
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å loaded –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è
                    setTimeout(() => {
                        img.classList.add('loaded');
                    }, 100);
                });
                return true;
            }
        }
    } catch (error) {
        console.log('–û—à–∏–±–∫–∞ API –ª–æ–≥–æ—Ç–∏–ø–∞:', error.message);
    }
    
    const svgFallback = this.createSvgFallback('logo');
    console.log('–ò—Å–ø–æ–ª—å–∑—É–µ–º SVG —Ñ–æ–ª–±—ç–∫ –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–∞');
    
    const logos = document.querySelectorAll('.logo-img, .auth-logo-img');
    logos.forEach(function(img) {
        img.src = svgFallback;
        img.style.objectFit = 'contain'; // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ
        img.onerror = null;
        img.classList.add('loaded');
    });
    return false;
},

        setupDefaultImages: function() {
            const handleImageError = function() {
                let type = 'default';
                if (this.classList.contains('logo-img') || this.id.includes('Logo') || this.src.includes('logo')) {
                    type = 'logo';
                } else if (this.closest('.category-image') || this.closest('.category-image-container') || this.src.includes('category')) {
                    type = 'category';
                } else if (this.closest('.service-image') || this.closest('.service-image-container') || this.src.includes('service')) {
                    type = 'service';
                } else if (this.classList.contains('user-avatar') || this.closest('.profile-avatar') || this.src.includes('user')) {
                    type = 'user';
                }
                
                this.src = app.createSvgFallback(type);
                this.onerror = null;
            };
            
            document.querySelectorAll('img').forEach(function(img) {
                img.onerror = handleImageError;
                
                if (!img.src || img.src === '' || img.src === window.location.href) {
                    let type = 'default';
                    if (img.classList.contains('logo-img') || img.id.includes('Logo')) {
                        type = 'logo';
                    } else if (img.closest('.category-image') || img.closest('.category-image-container')) {
                        type = 'category';
                    } else if (img.closest('.service-image') || img.closest('.service-image-container')) {
                        type = 'service';
                    } else if (img.classList.contains('user-avatar') || img.closest('.profile-avatar')) {
                        type = 'user';
                    }
                    img.src = app.createSvgFallback(type);
                }
            });
            
            this.loadLogo();
        },

        // ==================== –ü–û–ò–°–ö –£–°–õ–£–ì –° –ê–í–¢–û–ö–û–ú–ü–õ–ò–¢–û–ú ====================
        filterServices: function() {
            const searchInput = document.getElementById('serviceSearch');
            const autocomplete = document.getElementById('searchAutocomplete');
            
            if (!searchInput || !autocomplete) return;
            
            const searchTerm = searchInput.value.toLowerCase().trim();
            
            if (searchTerm.length < 2) {
                autocomplete.style.display = 'none';
                this.renderAllServices();
                return;
            }
            
            const filteredServices = this.allServices.filter(service => {
                return service.name.toLowerCase().includes(searchTerm) || 
                       service.description.toLowerCase().includes(searchTerm) ||
                       (service.category_name && service.category_name.toLowerCase().includes(searchTerm));
            });
            
            this.renderSearchAutocomplete(filteredServices);
        },

        renderSearchAutocomplete: function(services) {
            const autocomplete = document.getElementById('searchAutocomplete');
            if (!autocomplete) return;
            
            if (!services || services.length === 0) {
                autocomplete.innerHTML = '<div class="search-autocomplete-item" style="color: var(--graphite-medium);">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>';
                autocomplete.style.display = 'block';
                return;
            }
            
            let html = '';
            services.slice(0, 10).forEach(service => {
                const imageUrl = this.getImageUrl(service.image_url, 'service');
                
                html += `
                    <div class="search-autocomplete-item" onclick="app.selectServiceFromSearch(${service.id})">
                        <div class="service-image">
                            <img src="${imageUrl}" 
                                 alt="${service.name}"
                                 loading="lazy"
                                 onerror="this.src='${this.createSvgFallback('service')}'">
                        </div>
                        <div class="service-info">
                            <div class="service-name">${service.name}</div>
                            <div class="service-category">${service.category_name || '–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏'}</div>
                        </div>
                    </div>
                `;
            });
            
            autocomplete.innerHTML = html;
            autocomplete.style.display = 'block';
        },

        showSearchAutocomplete: function() {
            const searchInput = document.getElementById('serviceSearch');
            const autocomplete = document.getElementById('searchAutocomplete');
            
            if (!searchInput || !autocomplete || searchInput.value.trim() === '') {
                if (autocomplete) autocomplete.style.display = 'none';
                return;
            }
            
            this.filterServices();
        },

        selectServiceFromSearch: function(serviceId) {
            const service = this.allServices.find(s => s.id === serviceId);
            if (service) {
                this.selectService(service);
                
                const autocomplete = document.getElementById('searchAutocomplete');
                if (autocomplete) autocomplete.style.display = 'none';
                
                const searchInput = document.getElementById('serviceSearch');
                if (searchInput) searchInput.value = '';
            }
        },

        // ==================== –û–ë–†–ê–ë–û–¢–ö–ê –í–´–ë–û–†–ê –¢–ò–ü–ê –°–í–Ø–ó–ò ====================
        setupContactTypeButtons: function() {
            const buttons = document.querySelectorAll('.contact-type-btn');
            buttons.forEach(btn => {
                btn.addEventListener('click', function() {
                    buttons.forEach(b => {
                        b.classList.remove('selected');
                        const icon = b.querySelector('i');
                        if (icon.classList.contains('fa-phone')) {
                            icon.style.color = 'var(--pastel-pink)';
                        } else if (icon.classList.contains('fa-whatsapp')) {
                            icon.style.color = '#25D366';
                        } else if (icon.classList.contains('fa-telegram')) {
                            icon.style.color = '#0088cc';
                        }
                    });
                    
                    this.classList.add('selected');
                    const icon = this.querySelector('i');
                    icon.style.color = 'var(--gold-metallic)';
                    
                    const input = this.querySelector('input[type="radio"]');
                    if (input) input.checked = true;
                });
            });
            
            if (buttons.length > 0) {
                buttons[0].click();
            }
        },

        // ==================== –ò–°–ü–†–ê–í–õ–ï–ù–ù–û–ï –°–û–ó–î–ê–ù–ò–ï –ó–ê–î–ê–ß–ò ====================
        updateTaskForm: function() {
            if (this.selectedService) {
                const serviceDisplay = document.getElementById('selectedServiceDisplay');
                if (serviceDisplay) {
                    serviceDisplay.textContent = this.selectedService.name;
                    serviceDisplay.style.color = 'var(--graphite-dark)';
                    serviceDisplay.style.fontWeight = '600';
                    serviceDisplay.style.background = 'rgba(242, 221, 230, 0.1)';
                    serviceDisplay.style.padding = '12px';
                    serviceDisplay.style.borderRadius = 'var(--radius-sm)';
                    serviceDisplay.style.borderLeft = '4px solid var(--gold-metallic)';
                }
            }
            
            const contactInput = document.getElementById('taskContact');
            if (contactInput && this.currentUser && this.currentUser.phone) {
                contactInput.value = this.currentUser.phone;
            }
            
            const deadlineInput = document.getElementById('taskDeadline');
            if (deadlineInput) {
                const tomorrow = new Date();
                tomorrow.setDate(tomorrow.getDate() + 1);
                deadlineInput.value = tomorrow.toISOString().split('T')[0];
            }
            
            setTimeout(() => {
                this.setupContactTypeButtons();
            }, 100);
        },

        // ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        fetchWithAuth: async function(url, options) {
            if (!this.currentToken && !url.includes('/api/auth/')) {
                return Promise.resolve({
                    ok: false,
                    status: 401,
                    json: async () => ({ success: false, error: '–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è' })
                });
            }
            
            const headers = {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            };
            
            if (this.currentToken) {
                headers['Authorization'] = 'Bearer ' + this.currentToken;
            }
            
            if (options && options.headers) {
                Object.assign(headers, options.headers);
            }
            
            try {
                const response = await fetch(url, Object.assign({}, options, { headers: headers }));
                
                if (response.status === 401 || response.status === 403) {
                    if (this.currentToken) {
                        localStorage.removeItem('token');
                        localStorage.removeItem('currentUser');
                        this.currentToken = null;
                        this.currentUser = null;
                        this.showNotification('–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞. –í–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
                        setTimeout(() => { this.navigateToPage('auth'); }, 1000);
                    }
                    return response;
                }
                
                return response;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:', error);
                this.showNotification('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.', 'error');
                return { 
                    ok: false, 
                    status: 0,
                    json: async () => ({ success: false, error: '–û—à–∏–±–∫–∞ —Å–µ—Ç–∏' })
                };
            }
        },

        animateCounters: function() {
            this.updateServiceStats();
            const counters = ['usersCount', 'tasksCount', 'hoursCount'];
            counters.forEach((id) => {
                const element = document.getElementById(id);
                if (element) {
                    element.textContent = this.serviceStats[id.replace('Count', '')].toLocaleString();
                }
            });
        },

        updateServiceStats: async function() {
            try {
                const response = await fetch(this.API_BASE_URL + '/api/admin/dashboard-stats');
                if (response.ok) {
                    const result = await response.json();
                    if (result.success) {
                        this.serviceStats.users = result.data.users.total_users || 1356;
                        this.serviceStats.tasks = result.data.tasks.total_tasks || 3257;
                        this.serviceStats.hours = Math.floor((result.data.tasks.total_tasks || 3257) * 3);
                    }
                }
            } catch (error) {
                console.log('–ò—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–∫–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É');
            }
        },

        determineInitialScreen: function() {
            const storedUser = localStorage.getItem('currentUser');
            const storedToken = localStorage.getItem('token');
            
            if (storedUser && storedToken) {
                try {
                    this.currentUser = JSON.parse(storedUser);
                    this.currentToken = storedToken;
                    
                    if (!this.currentUser.phone_verified) {
                        this.openVerifyPhoneModal(this.currentUser.phone);
                        return;
                    }
                    
                    if (this.currentUser.subscription_status !== 'active' || !this.currentUser.initial_fee_paid) {
                        this.navigateToPage('subscription');
                        return;
                    }
                    
                    this.navigateToPage('home');
                } catch (error) {
                    localStorage.clear();
                    this.currentUser = null;
                    this.currentToken = null;
                }
            }
        },

        setupEventListeners: function() {
            const loginForm = document.getElementById('loginForm');
            if (loginForm) {
                loginForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.login();
                });
            }
            
            const registerForm = document.getElementById('registerForm');
            if (registerForm) {
                registerForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.register();
                });
            }
            
            const taskForm = document.getElementById('createTaskForm');
            if (taskForm) {
                taskForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.createTask();
                });
            }
            
            const searchInput = document.getElementById('serviceSearch');
            if (searchInput) {
                searchInput.addEventListener('input', () => {
                    this.filterServices();
                });
            }
            
            const categorySearch = document.getElementById('categorySearch');
            if (categorySearch) {
                categorySearch.addEventListener('input', () => {
                    this.filterCategories();
                });
            }
            
            document.querySelectorAll('input[type="tel"], input[id*="Phone"]:not([id*="Code"])').forEach((input) => {
                input.addEventListener('input', (e) => {
                    this.formatPhoneInput(e.target);
                });
            });
            
            document.addEventListener('click', (event) => {
                const userMenu = document.getElementById('userMenu');
                const userAvatar = document.getElementById('userAvatar');
                if (userMenu && userMenu.style.display === 'block' && userAvatar) {
                    if (!userMenu.contains(event.target) && !userAvatar.contains(event.target)) {
                        userMenu.style.display = 'none';
                    }
                }
                
                document.querySelectorAll('.modal.active').forEach((modal) => {
                    if (event.target === modal) {
                        this.closeModal(modal.id);
                    }
                });
                
                const popupModal = document.getElementById('tasksPopupModal');
                if (popupModal && event.target === popupModal) {
                    this.closeTasksPopup();
                }
            });
            
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    this.closeAllModals();
                    this.closeUserMenu();
                    this.closeTasksPopup();
                }
            });
            
            const chatInput = document.getElementById('inlineChatMessage');
            if (chatInput) {
                chatInput.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.sendInlineChatMessage();
                    }
                });
            }
            
            const supportInput = document.getElementById('supportMessageInput');
            if (supportInput) {
                supportInput.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.sendSupportMessage();
                    }
                });
            }
        },

        formatPhoneInput: function(input) {
            let value = input.value.replace(/\D/g, '');
            
            if (value.length > 0) {
                if (value.startsWith('7') || value.startsWith('8')) {
                    if (value.length === 1) {
                        input.value = '+7';
                    } else if (value.length <= 4) {
                        input.value = '+7 (' + value.substring(1, 4);
                    } else if (value.length <= 7) {
                        input.value = '+7 (' + value.substring(1, 4) + ') ' + value.substring(4, 7);
                    } else if (value.length <= 9) {
                        input.value = '+7 (' + value.substring(1, 4) + ') ' + value.substring(4, 7) + '-' + value.substring(7, 9);
                    } else {
                        input.value = '+7 (' + value.substring(1, 4) + ') ' + value.substring(4, 7) + '-' + value.substring(7, 9) + '-' + value.substring(9, 11);
                    }
                } else if (value.startsWith('9')) {
                    if (value.length <= 3) {
                        input.value = '+7 (' + value.substring(0, 3);
                    } else if (value.length <= 6) {
                        input.value = '+7 (' + value.substring(0, 3) + ') ' + value.substring(3, 6);
                    } else if (value.length <= 8) {
                        input.value = '+7 (' + value.substring(0, 3) + ') ' + value.substring(3, 6) + '-' + value.substring(6, 8);
                    } else {
                        input.value = '+7 (' + value.substring(0, 3) + ') ' + value.substring(3, 6) + '-' + value.substring(6, 8) + '-' + value.substring(8, 10);
                    }
                }
            }
        },

        normalizePhone: function(phone) {
            if (!phone) return '';
            const cleaned = phone.replace(/[^\d]/g, '');
            
            if (/^[78]\d{10}$/.test(cleaned)) {
                return '+7' + cleaned.substring(1);
            } else if (/^9\d{9}$/.test(cleaned)) {
                return '+7' + cleaned;
            } else if (cleaned.startsWith('7') || cleaned.startsWith('8')) {
                return '+' + cleaned;
            }
            return phone;
        },

        // ==================== –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–• ====================
        loadCategories: async function() {
            try {
                const response = await fetch(this.API_BASE_URL + '/api/categories');
                if (response.ok) {
                    const result = await response.json();
                    if (result.success) {
                        this.categories = result.data.categories;
                        return this.categories;
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:', error);
                this.categories = [
                    { 
                        id: 1, 
                        name: "home", 
                        display_name: "–î–æ–º –∏ –±—ã—Ç", 
                        description: "–£–±–æ—Ä–∫–∞, —Ä–µ–º–æ–Ω—Ç, –ø–æ–º–æ—â—å –ø–æ —Ö–æ–∑—è–π—Å—Ç–≤—É", 
                        icon: "fas fa-home", 
                        services_count: 8,
                        image_url: null 
                    }
                ];
            }
            return this.categories;
        },

        renderHomeCategories: function() {
            const container = document.getElementById('categoriesGrid');
            if (!container || !this.categories) return;
            
            console.log('–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:', this.categories);
            
            if (this.categories.length === 0) {
                container.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 40px;">' +
                    '<i class="fas fa-exclamation-circle" style="font-size: 3rem; color: var(--graphite-light); margin-bottom: 20px;"></i>' +
                    '<p style="color: var(--graphite-medium);">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>' +
                '</div>';
                return;
            }
            
            container.innerHTML = '';
            this.categories.slice(0, 4).forEach((category) => {
                const card = document.createElement('div');
                card.className = 'category-card-main-style';
                card.onclick = () => { this.selectCategoryForServices(category); };
                
                const imageUrl = category.image_url ? 
                    this.getImageUrl(category.image_url, 'category') : 
                    this.createSvgFallback('category');
                
                const svgFallback = this.createSvgFallback('category');
                
                card.innerHTML = `
                    <div class="category-image-main">
                        <img src="${imageUrl}" 
                             alt="${category.display_name}"
                             loading="lazy"
                             onerror="this.onerror=null; this.src='${svgFallback}';"
                             style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%; position: relative; z-index: 2;">
                        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: var(--pink-light); border-radius: 50%; z-index: 1;"></div>
                    </div>
                    <h3>${category.display_name}</h3>
                    <div class="category-description-main">${category.description}</div>
                    <div class="category-card-footer">
                        <span>${category.services_count || '0'} —É—Å–ª—É–≥</span>
                        <span>–í—ã–±—Ä–∞—Ç—å <i class="fas fa-arrow-right"></i></span>
                    </div>
                `;
                
                container.appendChild(card);
                
                setTimeout(() => {
                    const img = card.querySelector('img');
                    if (img) {
                        img.src = imageUrl;
                    }
                }, 100);
            });
        },
        
        loadAllServices: async function() {
            try {
                const response = await fetch(this.API_BASE_URL + '/api/services');
                if (response.ok) {
                    const result = await response.json();
                    if (result.success) {
                        this.allServices = result.data.services;
                        return this.allServices;
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —É—Å–ª—É–≥:', error);
                this.allServices = [];
            }
            return this.allServices;
        },

        loadAllServicesPage: async function() {
            try {
                this.currentCategoryId = null;
                this.selectedCategory = null;
                this.services = null;
                
                await this.loadAllServices();
                this.renderAllServices();
                
                const pageTitle = document.getElementById('servicesPageTitle');
                if (pageTitle) pageTitle.textContent = '–í—Å–µ —É—Å–ª—É–≥–∏';
                
                const backBtn = document.getElementById('backToCategoriesBtn');
                if (backBtn) backBtn.style.display = 'none';
                
                const searchBox = document.getElementById('servicesSearchBox');
                if (searchBox) searchBox.style.display = 'block';
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —É—Å–ª—É–≥:', error);
                this.showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —É—Å–ª—É–≥', 'error');
            }
        },

        renderAllServices: function() {
            const container = document.getElementById('allServicesList');
            const pageTitle = document.getElementById('servicesPageTitle');
            
            if (!container) return;
            
            if (!this.allServices || this.allServices.length === 0) {
                container.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 40px;">' +
                    '<i class="fas fa-exclamation-circle" style="font-size: 3rem; color: var(--graphite-light); margin-bottom: 20px;"></i>' +
                    '<p style="color: var(--graphite-medium);">–£—Å–ª—É–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>' +
                    '</div>';
                return;
            }
            
            if (pageTitle) {
                pageTitle.textContent = '–í—Å–µ —É—Å–ª—É–≥–∏';
            }
            
            container.innerHTML = '';
            
            this.allServices.forEach((service) => {
                const card = document.createElement('div');
                card.className = 'category-card-main-style';
                card.onclick = () => { 
                    this.selectService(service);
                };
                
                const imageUrl = service.image_url ? 
                    this.getImageUrl(service.image_url, 'service') : 
                    this.createSvgFallback('service');
                
                const svgFallback = this.createSvgFallback('service');
                
                card.innerHTML = `
                    <div class="category-image-main">
                        <img src="${imageUrl}" 
                             alt="${service.name}"
                             loading="lazy"
                             onerror="this.onerror=null; this.src='${svgFallback}';"
                             style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                    </div>
                    <h3>${service.name}</h3>
                    <div class="category-description-main">${service.description}</div>
                    <div class="category-card-footer">
                        <span style="display: flex; align-items: center; gap: 4px;">
                            <i class="fas fa-folder" style="color: var(--graphite-light);"></i>
                            ${service.category_name || '–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏'}
                        </span>
                        <span style="display: flex; align-items: center; gap: 4px;">
                            –í—ã–±—Ä–∞—Ç—å <i class="fas fa-arrow-right"></i>
                        </span>
                    </div>
                `;
                container.appendChild(card);
            });
            
            const backBtn = document.getElementById('backToCategoriesBtn');
            if (backBtn) backBtn.style.display = 'none';
        },

        loadAllCategoriesPage: async function() {
            try {
                await this.loadCategories();
                this.renderAllCategories();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π:', error);
                this.showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π', 'error');
            }
        },

        renderAllCategories: function() {
            const container = document.getElementById('allCategoriesList');
            if (!container) return;
            
            if (!this.categories || this.categories.length === 0) {
                container.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 40px;">' +
                    '<i class="fas fa-exclamation-circle" style="font-size: 3rem; color: var(--graphite-light); margin-bottom: 20px;"></i>' +
                    '<p style="color: var(--graphite-medium);">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>' +
                '</div>';
                return;
            }
            
            container.innerHTML = '<div style="grid-column: 1 / -1; margin-bottom: 20px;">' +
                '<h3 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 10px;">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥</h3>' +
                '<p style="color: var(--graphite-medium);">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —É—Å–ª—É–≥</p>' +
            '</div>';
            
            this.categories.forEach((category) => {
                const card = document.createElement('div');
                card.className = 'category-card-main-style';
                card.onclick = () => { 
                    this.selectCategoryForServices(category);
                };
                
                const imageUrl = this.getImageUrl(category.image_url, 'category');
                
                card.innerHTML = `
                    <div class="category-image-main">
                        <img src="${imageUrl}" 
                             alt="${category.display_name}"
                             loading="lazy"
                             onerror="this.onerror=null; this.src='${this.createSvgFallback('category')}';"
                             style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                    </div>
                    <h3>${category.display_name}</h3>
                    <div class="category-description-main">${category.description}</div>
                    <div class="category-card-footer">
                        <span style="display: flex; align-items: center; gap: 4px;">
                            <i class="fas fa-list"></i>
                            ${category.services_count || 0} —É—Å–ª—É–≥
                        </span>
                        <span style="display: flex; align-items: center; gap: 4px;">
                            –í—ã–±—Ä–∞—Ç—å <i class="fas fa-arrow-right"></i>
                        </span>
                    </div>
                `;
                
                container.appendChild(card);
            });
        },

        selectCategoryForServices: async function(category) {
            if (!this.currentUser) {
                this.showNotification('–î–ª—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É', 'warning');
                this.showLoginModal();
                return;
            }
            
            if (this.currentUser.subscription_status !== 'active' || !this.currentUser.initial_fee_paid) {
                this.showNotification('–î–ª—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞', 'warning');
                this.navigateToPage('subscription');
                return;
            }
            
            this.selectedCategory = category;
            
            if (category.admin_description && category.admin_description.trim() !== '') {
                this.showCategoryDescriptionModal(category);
            } else {
                this.loadServicesForCategory(category);
            }
        },

        showCategoryDescriptionModal: function(category) {
            const modalHtml = `
                <div class="modal active" id="categoryDescriptionModal">
                    <div class="modal-content" style="max-width: 500px;">
                        <h3 class="modal-title">${category.display_name}</h3>
                        <div style="text-align: center; margin: 20px 0;">
                            <div style="width: 80px; height: 80px; background: var(--pastel-pink); border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 15px;">
                                <i class="${category.icon || 'fas fa-folder'}" style="font-size: 2rem; color: white;"></i>
                            </div>
                            <p style="color: var(--graphite-medium); line-height: 1.5; margin-bottom: 25px;">
                                ${category.description}
                            </p>
                            ${category.admin_description ? `
                                <div style="background: var(--pink-light); padding: 15px; border-radius: var(--radius); margin: 15px 0; border-left: 3px solid var(--pastel-pink);">
                                    <p style="color: var(--graphite-dark); font-style: italic; margin: 0;">
                                        ${category.admin_description}
                                    </p>
                                </div>
                            ` : ''}
                        </div>
                        <div style="display: flex; gap: 10px; margin-top: 20px;">
                            <button class="btn btn-secondary" onclick="app.closeCategoryDescriptionModal()" style="flex: 1;">
                                –û—Ç–º–µ–Ω–∞
                            </button>
                            <button class="btn btn-primary" onclick="app.continueToCategoryServices(${category.id})" style="flex: 1;">
                                –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                                <i class="fas fa-arrow-right" style="margin-left: 8px;"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            const modalDiv = document.createElement('div');
            modalDiv.innerHTML = modalHtml;
            document.body.appendChild(modalDiv);
            
            const modal = document.getElementById('categoryDescriptionModal');
            if (modal) {
                modal.style.display = 'flex';
            }
        },

        closeCategoryDescriptionModal: function() {
            const modal = document.getElementById('categoryDescriptionModal');
            if (modal) {
                modal.remove();
            }
        },

        continueToCategoryServices: function(categoryId) {
            this.closeCategoryDescriptionModal();
            
            const category = this.categories.find(cat => cat.id === categoryId);
            if (category) {
                this.loadServicesForCategory(category);
            } else {
                const tempCategory = {
                    id: categoryId,
                    display_name: '–ö–∞—Ç–µ–≥–æ—Ä–∏—è',
                    description: ''
                };
                this.loadServicesForCategory(tempCategory);
            }
        },

        loadServicesForCategory: async function(category) {
            if (!category) return;
            
            this.currentCategoryId = category.id;
            this.selectedCategory = category;
            
            try {
                this.showLoading('–ó–∞–≥—Ä—É–∑–∫–∞ —É—Å–ª—É–≥...');
                
                const response = await fetch(this.API_BASE_URL + '/api/categories/' + category.id + '/services');
                if (response.ok) {
                    const result = await response.json();
                    if (result.success) {
                        this.services = result.data.services;
                        this.renderServicesForCategory(category);
                        this.navigateToPage('all-services');
                        return;
                    }
                }
                throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —É—Å–ª—É–≥–∏');
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —É—Å–ª—É–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:', error);
                this.services = [];
                this.renderServicesForCategory(category);
                this.navigateToPage('all-services');
                this.showNotification('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —É—Å–ª—É–≥–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', 'warning');
            } finally {
                this.hideLoading();
            }
        },

        renderServicesForCategory: function(category) {
            const container = document.getElementById('allServicesList');
            const pageTitle = document.getElementById('servicesPageTitle');
            const backBtn = document.getElementById('backToCategoriesBtn');
            const searchBox = document.querySelector('.search-box');
            
            if (!container) return;
            
            if (searchBox) searchBox.style.display = 'block';
            if (backBtn) backBtn.style.display = 'block';
            
            if (!this.services || this.services.length === 0) {
                container.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 40px;">' +
                    '<i class="fas fa-exclamation-circle" style="font-size: 3rem; color: var(--graphite-light); margin-bottom: 20px;"></i>' +
                    '<p style="color: var(--graphite-medium);">–í —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–∫–∞ –Ω–µ—Ç —É—Å–ª—É–≥</p>' +
                    '<div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">' +
                        '<button class="btn btn-secondary" onclick="app.loadAllServicesPage()">' +
                            '<i class="fas fa-list"></i>' +
                            '–í—Å–µ —É—Å–ª—É–≥–∏' +
                        '</button>' +
                        '<button class="btn btn-primary" onclick="app.navigateToPage(\'all-categories\')">' +
                            '<i class="fas fa-arrow-left"></i>' +
                            '–ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º' +
                        '</button>' +
                    '</div>' +
                '</div>';
                
                if (pageTitle) {
                    pageTitle.textContent = category.display_name + ' (–Ω–µ—Ç —É—Å–ª—É–≥)';
                }
                return;
            }
            
            if (pageTitle) {
                pageTitle.textContent = category.display_name + ' (' + this.services.length + ' —É—Å–ª—É–≥)';
            }
            
            container.innerHTML = '<div style="grid-column: 1 / -1; margin-bottom: 20px;">' +
                '<div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">' +
                    '<div>' +
                        '<h3 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 5px;">' + category.display_name + '</h3>' +
                        '<p style="color: var(--graphite-medium);">' + this.services.length + ' —É—Å–ª—É–≥</p>' +
                    '</div>' +
                    '<div style="display: flex; gap: 10px;">' +
                        '<button class="btn btn-secondary" onclick="app.loadAllServicesPage()">' +
                            '<i class="fas fa-list"></i>' +
                            '–í—Å–µ —É—Å–ª—É–≥–∏' +
                        '</button>' +
                        '<button class="btn btn-secondary" onclick="app.navigateToPage(\'all-categories\')">' +
    '<i class="fas fa-arrow-left"></i>' +
    '–ö–∞—Ç–µ–≥–æ—Ä–∏–∏' +
'</button>'
                    '</div>' +
                '</div>' +
                '<p style="color: var(--graphite-medium); margin-top: 10px;">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏</p>' +
            '</div>';
            
            this.services.forEach((service) => {
                const card = document.createElement('div');
                card.className = 'category-card-main-style';
                card.onclick = () => { 
                    this.selectService(service);
                };
                
                const imageUrl = service.image_url ? 
                    this.getImageUrl(service.image_url, 'service') : 
                    this.createSvgFallback('service');
                
                const svgFallback = this.createSvgFallback('service');
                
                card.innerHTML = `
                    <div class="category-image-main">
                        <img src="${imageUrl}" 
                             alt="${service.name}"
                             loading="lazy"
                             onerror="this.onerror=null; this.src='${svgFallback}'; this.style.objectFit='cover';"
                             style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%; display: block;">
                    </div>
                    <h3>${service.name}</h3>
                    <div class="category-description-main">${service.description}</div>
                    <div class="category-card-footer">
                        <span style="display: flex; align-items: center; gap: 4px;">
                            <i class="fas fa-folder" style="color: var(--graphite-light);"></i>
                            ${category.display_name}
                        </span>
                        <span style="display: flex; align-items: center; gap: 4px;">
                            –í—ã–±—Ä–∞—Ç—å <i class="fas fa-arrow-right"></i>
                        </span>
                    </div>
                `;
                container.appendChild(card);
            });
        },

        selectCategory: function(category) {
            if (!this.currentUser) {
                this.showNotification('–î–ª—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É', 'warning');
                this.showLoginModal();
                return;
            }
            
            if (this.currentUser.subscription_status !== 'active' || !this.currentUser.initial_fee_paid) {
                this.showNotification('–î–ª—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞', 'warning');
                this.navigateToPage('subscription');
                return;
            }
            
            this.selectedCategory = category;
            this.navigateToPage('all-services');
            this.selectCategoryForServices(category);
        },

        loadHomePage: async function() {
            try {
                await this.loadCategories();
                this.renderHomeCategories();
                await this.loadTopServices();
                this.updateHomeStats();
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:', error);
                this.showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã', 'error');
            }
        },

        // ==================== –£–°–õ–£–ì–ò ====================
        loadTopServices: async function() {
            try {
                const response = await this.fetchWithAuth(this.API_BASE_URL + '/api/services/top');
                if (response.ok) {
                    const result = await response.json();
                    if (result.success) {
                        this.renderTopServices(result.data.services);
                        return;
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–ø —É—Å–ª—É–≥:', error);
            }
            
            const topServicesData = [
                { id: 1, name: "–£–±–æ—Ä–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã", description: "–ü–æ–ª–Ω–∞—è —É–±–æ—Ä–∫–∞ 2-–∫–æ–º–Ω–∞—Ç–Ω–æ–π –∫–≤–∞—Ä—Ç–∏—Ä—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ö–∏–º–∏–∏", category_name: "–î–æ–º –∏ –±—ã—Ç", icon: "fas fa-broom" }
            ];
            this.renderTopServices(topServicesData);
        },

        renderTopServices: function(services) {
            const container = document.getElementById('topServicesGrid');
            if (!container) return;
            
            if (!services || services.length === 0) {
                container.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 40px;">' +
                    '<i class="fas fa-exclamation-circle" style="font-size: 3rem; color: var(--graphite-light); margin-bottom: 20px;"></i>' +
                    '<p style="color: var(--graphite-medium);">–£—Å–ª—É–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>' +
                '</div>';
                return;
            }
            
            container.innerHTML = '';
            services.forEach((service) => {
                const card = document.createElement('div');
                card.className = 'category-card-main-style';
                card.onclick = () => { this.selectService(service); };
                
                const imageUrl = this.getImageUrl(service.image_url, 'service');
                
                card.innerHTML = `
                    <div class="category-image-main">
                        <img src="${imageUrl}" 
                             alt="${service.name}"
                             loading="lazy"
                             onerror="this.onerror=null; this.src='${this.createSvgFallback('service')}';"
                             style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                    </div>
                    <h3>${service.name}</h3>
                    <div class="category-description-main">${service.description}</div>
                    <div class="category-card-footer">
                        <span style="color: var(--gold-metallic); display: flex; align-items: center; gap: 4px;">
                            <i class="fas fa-star"></i>
                            –¢–æ–ø —É—Å–ª—É–≥–∞
                        </span>
                        <span style="display: flex; align-items: center; gap: 4px;">
                            –í—ã–±—Ä–∞—Ç—å
                        </span>
                    </div>
                `;
                container.appendChild(card);
            });
        },

        selectService: function(service) {
            if (!this.currentUser) {
                this.showNotification('–î–ª—è –≤—ã–±–æ—Ä–∞ —É—Å–ª—É–≥–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É', 'warning');
                this.showLoginModal();
                return;
            }
            
            if (this.currentUser.subscription_status !== 'active' || !this.currentUser.initial_fee_paid) {
                this.showNotification('–î–ª—è –≤—ã–±–æ—Ä–∞ —É—Å–ª—É–≥–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞', 'warning');
                this.navigateToPage('subscription');
                return;
            }
            
            const tasksUsed = this.currentUser.tasks_used || 0;
            const tasksLimit = this.currentUser.tasks_limit || 0;
            const availableTasks = tasksLimit - tasksUsed;
            
            if (availableTasks <= 0) {
                this.showNotification('–£ –≤–∞—Å –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ —Ç–µ–∫—É—â–µ–º –º–µ—Å—è—Ü–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –¥–æ–∂–¥–∏—Ç–µ—Å—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.', 'warning');
                return;
            }
            
            this.selectedService = service;
            this.navigateToPage('create-task');
            this.updateTaskForm();
        },

        // ==================== –°–¢–ê–¢–ò–°–¢–ò–ö–ê ====================
        updateHomeStats: function() {
            if (!this.currentUser) return;
            
            const statTasksHome = document.getElementById('statTasksHome');
            const statAvailableHome = document.getElementById('statAvailableHome');
            const statCompletedHome = document.getElementById('statCompletedHome');
            
            if (statTasksHome) statTasksHome.textContent = this.currentUser.tasks_used || '0';
            if (statAvailableHome) {
                const available = (this.currentUser.tasks_limit || 0) - (this.currentUser.tasks_used || 0);
                statAvailableHome.textContent = available > 0 ? available : '0';
            }
            if (statCompletedHome) statCompletedHome.textContent = this.currentUser.completed_tasks || '0';
        },

        // ==================== –°–û–ó–î–ê–ù–ò–ï –ó–ê–î–ê–ß–ò ====================
        checkSubscription: function() {
            if (!this.currentUser) {
                this.showNotification('–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É', 'warning');
                this.showLoginModal();
                return;
            }
            
            if (this.currentUser.subscription_status !== 'active' || !this.currentUser.initial_fee_paid) {
                this.navigateToPage('subscription');
            } else {
                const tasksUsed = this.currentUser.tasks_used || 0;
                const tasksLimit = this.currentUser.tasks_limit || 0;
                const availableTasks = tasksLimit - tasksUsed;
                
                if (availableTasks <= 0) {
                    this.showNotification('–£ –≤–∞—Å –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ —Ç–µ–∫—É—â–µ–º –º–µ—Å—è—Ü–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –¥–æ–∂–¥–∏—Ç–µ—Å—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.', 'warning');
                    return;
                }
                
                this.navigateToPage('all-services');
            }
        },

        cancelTask: function() {
            this.selectedCategory = null;
            this.selectedService = null;
            
            const taskForm = document.getElementById('createTaskForm');
            if (taskForm) taskForm.reset();
            
            const serviceDisplay = document.getElementById('selectedServiceDisplay');
            if (serviceDisplay) {
                serviceDisplay.textContent = '–ù–µ –≤—ã–±—Ä–∞–Ω–∞';
                serviceDisplay.style.color = 'var(--graphite-medium)';
                serviceDisplay.style.fontWeight = '400';
                serviceDisplay.style.background = '#f9f9f9';
                serviceDisplay.style.borderLeft = 'none';
            }
            
            this.navigateToPage('home');
        },

        createTask: async function() {
            if (!this.currentUser) {
                this.showNotification('–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É', 'error');
                return;
            }
            
            if (this.currentUser.subscription_status !== 'active' || !this.currentUser.initial_fee_paid) {
                this.showNotification('–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞', 'error');
                this.navigateToPage('subscription');
                return;
            }
            
            const tasksUsed = this.currentUser.tasks_used || 0;
            const tasksLimit = this.currentUser.tasks_limit || 0;
            const availableTasks = tasksLimit - tasksUsed;
            
            if (availableTasks <= 0) {
                this.showNotification('–£ –≤–∞—Å –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ —Ç–µ–∫—É—â–µ–º –º–µ—Å—è—Ü–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –¥–æ–∂–¥–∏—Ç–µ—Å—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.', 'error');
                return;
            }
            
            const taskTitle = document.getElementById('taskTitle')?.value;
            const taskDescription = document.getElementById('taskDescription')?.value;
            const taskAddress = document.getElementById('taskAddress')?.value;
            const taskDeadline = document.getElementById('taskDeadline')?.value;
            const taskContact = document.getElementById('taskContact')?.value;
            const additionalRequirements = document.getElementById('additionalRequirements')?.value;
            const contactType = document.querySelector('input[name="contactType"]:checked')?.value || 'phone';
            
            if (!taskTitle || !taskDescription || !taskAddress || !taskDeadline || !taskContact) {
                this.showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è', 'error');
                return;
            }
            
            try {
                this.showLoading('–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏...');
                
                console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä:', {
                    title: taskTitle,
                    category_id: this.selectedCategory?.id,
                    service_id: this.selectedService?.id,
                    contact_type: contactType
                });
                
                const response = await this.fetchWithAuth(this.API_BASE_URL + '/api/tasks', {
                    method: 'POST',
                    body: JSON.stringify({
                        title: taskTitle,
                        description: taskDescription,
                        category_id: this.selectedCategory?.id || 1,
                        service_id: this.selectedService?.id || null,
                        priority: 'medium',
                        deadline: taskDeadline,
                        address: taskAddress,
                        contact_info: taskContact,
                        contact_type: contactType,
                        additional_requirements: additionalRequirements || ''
                    })
                });
                
                console.log('–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:', response.status, response.statusText);
                
                if (!response.ok) {
                    const errorText = await response.text();
                    console.error('–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:', errorText);
                    throw new Error(`HTTP –æ—à–∏–±–∫–∞! —Å—Ç–∞—Ç—É—Å: ${response.status}. ${errorText}`);
                }
                
                const result = await response.json();
                console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏:', result);
                
                if (!result.success) {
                    throw new Error(result.error || '–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏');
                }
                
                this.showNotification('‚úÖ –ó–∞–¥–∞—á–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞! –° –≤–∞–º–∏ —Å–≤—è–∂–µ—Ç—Å—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç.', 'success');
                
                if (result.data.user) {
                    this.currentUser.tasks_used = result.data.user.tasks_used;
                    this.currentUser.tasks_limit = result.data.user.tasks_limit;
                    localStorage.setItem('currentUser', JSON.stringify(this.currentUser));
                }
                
                this.updateUserInterface();
                this.updateHomeStats();
                
                this.cancelTask();
                
                setTimeout(() => {
                    this.showNotification('üìû –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª "–ú–æ–∏ –∑–∞–¥–∞—á–∏".', 'info');
                }, 1500);
                
                setTimeout(() => {
                    this.loadUserTasks('all');
                    this.navigateToPage('tasks');
                }, 2000);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏:', error);
                this.showNotification(error.message || '–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏', 'error');
            } finally {
                this.hideLoading();
            }
        },
// –í –æ–±—ä–µ–∫—Ç app –¥–æ–±–∞–≤–ª—è–µ–º:
showRatePerformerModal: function(taskId) {
    this.loadTaskForRating(taskId);
},

loadTaskForRating: async function(taskId) {
    try {
        this.showLoading('–ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏...');
        
        const response = await this.fetchWithAuth(this.API_BASE_URL + '/api/tasks/' + taskId + '/rate-info');
        if (response.ok) {
            const result = await response.json();
            if (result.success) {
                this.renderRatePerformerModal(result.data);
                return;
            }
        }
        throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –æ—Ü–µ–Ω–∫–∏');
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏:', error);
        this.showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏', 'error');
        this.closeModal('ratePerformerModal');
    } finally {
        this.hideLoading();
    }
},

renderRatePerformerModal: function(data) {
    const modal = document.getElementById('ratePerformerModal');
    const content = document.getElementById('ratePerformerContent');
    
    if (!modal || !content) return;
    
    const performer = data.performer;
    const task = data.task;
    
    content.innerHTML = `
        <div class="performer-info-rating">
            <div class="performer-avatar-rating" id="ratePerformerAvatar">
                ${performer.first_name ? performer.first_name.charAt(0).toUpperCase() : '–ò'}
            </div>
            <div class="performer-details-rating">
                <div class="performer-name-rating">
                    ${performer.first_name || ''} ${performer.last_name || ''}
                </div>
                <div style="display: flex; align-items: center; gap: 10px; flex-wrap: wrap;">
                    <span class="performer-rating-badge">
                        <i class="fas fa-star"></i>
                        ${performer.user_rating || '–ù–µ—Ç –æ—Ü–µ–Ω–æ–∫'}
                    </span>
                    <span style="font-size: 0.85rem; color: var(--graphite-medium);">
                        ${performer.completed_tasks || 0} –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
                    </span>
                </div>
            </div>
        </div>
        
        <div style="margin-bottom: 15px;">
            <div style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">
                –ó–∞–¥–∞—á–∞: <strong>${task.title}</strong>
            </div>
        </div>
        
        <div class="rating-value" id="ratingValueDisplay">
            –û—Ü–µ–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É (0/5)
        </div>
        
        <div class="rating-stars" id="ratingStars">
            ${Array(5).fill().map((_, i) => `
                <div class="star" data-rating="${i + 1}" onclick="app.setRating(${i + 1})">
                    <i class="fas fa-star"></i>
                </div>
            `).join('')}
        </div>
        
        <div style="margin: 20px 0;">
            <textarea 
                class="comment-box" 
                id="ratingComment" 
                placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –æ—Ç–∑—ã–≤ –æ —Ä–∞–±–æ—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)..."
                maxlength="500"></textarea>
            <div style="text-align: right; font-size: 0.8rem; color: var(--graphite-light);">
                <span id="commentLength">0</span>/500 —Å–∏–º–≤–æ–ª–æ–≤
            </div>
        </div>
        
        <button class="btn btn-primary" id="submitRatingBtn" style="width: 100%;" onclick="app.submitRating(${task.id})" disabled>
            <i class="fas fa-star"></i>
            –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É
        </button>
    `;
    
    // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
    setTimeout(() => {
        const stars = document.querySelectorAll('.star');
        stars.forEach(star => {
            star.addEventListener('mouseenter', (e) => {
                const rating = parseInt(e.currentTarget.dataset.rating);
                this.highlightStars(rating);
            });
            
            star.addEventListener('mouseleave', () => {
                if (!this.currentRating) {
                    this.resetStars();
                } else {
                    this.highlightStars(this.currentRating);
                }
            });
        });
        
        const commentBox = document.getElementById('ratingComment');
        if (commentBox) {
            commentBox.addEventListener('input', () => {
                const length = commentBox.value.length;
                const counter = document.getElementById('commentLength');
                if (counter) counter.textContent = length;
                
                if (length > 500) {
                    commentBox.value = commentBox.value.substring(0, 500);
                }
            });
        }
    }, 100);
    
    this.currentRating = null;
    this.currentTaskForRating = task.id;
    
    modal.classList.add('active');
},

setRating: function(rating) {
    this.currentRating = rating;
    this.highlightStars(rating);
    
    const ratingValue = document.getElementById('ratingValueDisplay');
    if (ratingValue) {
        ratingValue.textContent = `–í–∞—à–∞ –æ—Ü–µ–Ω–∫–∞: ${rating}/5`;
    }
    
    const submitBtn = document.getElementById('submitRatingBtn');
    if (submitBtn) {
        submitBtn.disabled = false;
    }
},

highlightStars: function(rating) {
    const stars = document.querySelectorAll('.star');
    stars.forEach((star, index) => {
        const starRating = parseInt(star.dataset.rating);
        if (starRating <= rating) {
            star.classList.add('active');
        } else {
            star.classList.remove('active');
        }
    });
},

resetStars: function() {
    const stars = document.querySelectorAll('.star');
    stars.forEach(star => {
        star.classList.remove('active');
    });
    
    const ratingValue = document.getElementById('ratingValueDisplay');
    if (ratingValue) {
        ratingValue.textContent = '–û—Ü–µ–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É (0/5)';
    }
    
    const submitBtn = document.getElementById('submitRatingBtn');
    if (submitBtn) {
        submitBtn.disabled = true;
    }
},

submitRating: async function(taskId) {
    if (!this.currentRating) {
        this.showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ü–µ–Ω–∫—É', 'error');
        return;
    }
    
    const comment = document.getElementById('ratingComment')?.value || '';
    
    try {
        this.showLoading('–û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ü–µ–Ω–∫–∏...');
        
        const response = await this.fetchWithAuth(this.API_BASE_URL + '/api/tasks/' + taskId + '/rate', {
            method: 'POST',
            body: JSON.stringify({
                rating: this.currentRating,
                comment: comment.trim()
            })
        });
        
        if (response.ok) {
            const result = await response.json();
            if (result.success) {
                this.showNotification('‚úÖ –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à—É –æ—Ü–µ–Ω–∫—É!', 'success');
                this.closeModal('ratePerformerModal');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
                setTimeout(() => {
                    if (this.currentChatTaskId === taskId) {
                        this.showTaskDetailsCompact(taskId);
                    }
                    this.loadUserTasks('all');
                }, 1000);
            }
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ü–µ–Ω–∫–∏:', error);
        this.showNotification('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ü–µ–Ω–∫–∏', 'error');
    } finally {
        this.hideLoading();
    }
},
        // ==================== –ü–û–î–ü–ò–°–ö–ò ====================
        loadSubscriptions: async function() {
            try {
                const response = await fetch(this.API_BASE_URL + '/api/subscriptions');
                if (response.ok) {
                    const result = await response.json();
                    if (result.success) {
                        this.subscriptions = result.data.subscriptions;
                        return this.subscriptions;
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫:', error);
            }
            
            this.subscriptions = [
                {
                    id: 1, name: "essential", display_name: "–≠—Å—Å–µ–Ω—à–ª", description: "–ë–∞–∑–æ–≤—ã–π –Ω–∞–±–æ—Ä —É—Å–ª—É–≥ –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á",
                    price_monthly: 2990, initial_fee: 2000, is_popular: false,
                    features: ["10 –∑–∞–¥–∞—á –≤ –º–µ—Å—è—Ü", "–ë–∞–∑–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥", "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ —á–∞—Ç–µ", "–†–µ–π—Ç–∏–Ω–≥ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π"]
                }
            ];
            return this.subscriptions;
        },

        loadSubscriptionPage: async function() {
            try {
                await this.loadSubscriptions();
                this.renderSubscriptions();
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–¥–ø–∏—Å–æ–∫:', error);
                this.showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫', 'error');
            }
        },

        renderSubscriptions: function() {
            const subscriptionContainer = document.getElementById('subscriptionSelection');
            if (!subscriptionContainer) return;
            
            if (!this.subscriptions || this.subscriptions.length === 0) {
                subscriptionContainer.innerHTML = '<div class="card" style="grid-column: 1 / -1; text-align: center; padding: 40px;">' +
                    '<i class="fas fa-exclamation-circle" style="font-size: 3rem; color: var(--graphite-light); margin-bottom: 20px;"></i>' +
                    '<p style="color: var(--graphite-medium);">–ü–æ–¥–ø–∏—Å–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>' +
                '</div>';
                return;
            }
            
            subscriptionContainer.innerHTML = '';
            this.subscriptions.forEach((sub) => {
                const card = document.createElement('div');
                card.className = 'card subscription-card ' + (sub.is_popular ? 'popular' : '');
                
                if (sub.is_popular) {
                    card.innerHTML += '<div class="popular-badge">–ü–æ–ø—É–ª—è—Ä–Ω—ã–π</div>';
                }
                
                card.innerHTML += '<h3>' + sub.display_name + '</h3>' +
                    '<p style="color: var(--graphite-medium); margin-bottom: 15px;">' + sub.description + '</p>' +
                    '<div class="subscription-price">' + this.formatNumber(sub.price_monthly) + '<span>‚ÇΩ/–º–µ—Å</span></div>' +
                    '<div style="color: var(--graphite-light); font-size: 0.9rem; margin-bottom: 15px;">' +
                        '–í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å: ' + this.formatNumber(sub.initial_fee) + '‚ÇΩ' +
                    '</div>' +
                    '<ul class="subscription-features">' +
                        sub.features.map((feature) => {
                            return '<li><i class="fas fa-check"></i> ' + feature + '</li>';
                        }).join('') +
                    '</ul>' +
                    '<button class="btn ' + (sub.is_popular ? 'btn-primary' : 'btn-secondary') + '" style="width: 100%; margin-top: 20px;" onclick="app.selectSubscription(\'' + sub.name + '\')">' +
                        (this.currentUser && this.currentUser.subscription_plan === sub.name ? '–¢–µ–∫—É—â–∏–π —Ç–∞—Ä–∏—Ñ' : '–í—ã–±—Ä–∞—Ç—å —Ç–∞—Ä–∏—Ñ') +
                    '</button>';
                
                subscriptionContainer.appendChild(card);
            });
        },

        selectSubscription: async function(subscriptionName) {
            if (!this.currentUser) {
                this.showNotification('–î–ª—è –≤—ã–±–æ—Ä–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É', 'error');
                this.showLoginModal();
                return;
            }
            
            if (!this.currentToken) {
                this.showNotification('–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è. –í–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
                this.showLoginModal();
                return;
            }
            
            if (!this.currentUser.phone_verified) {
                this.showNotification('–°–Ω–∞—á–∞–ª–∞ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω', 'error');
                this.openVerifyPhoneModal(this.currentUser.phone);
                return;
            }
            
            try {
                this.showLoading('–ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏...');
                
                const response = await this.fetchWithAuth(this.API_BASE_URL + '/api/subscriptions/select', {
                    method: 'POST',
                    body: JSON.stringify({
                        subscription_plan: subscriptionName
                    })
                });
                
                if (!response) return;
                if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏');
                
                const result = await response.json();
                if (!result.success) throw new Error(result.error || '–û—à–∏–±–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏');
                
                if (result.data.user) {
                    this.currentUser = result.data.user;
                    localStorage.setItem('currentUser', JSON.stringify(this.currentUser));
                    
                    if (result.data.demo_mode) {
                        this.showNotification('–ü–æ–¥–ø–∏—Å–∫–∞ —É—Å–ø–µ—à–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞!', 'success');
                        setTimeout(() => {
                            this.navigateToPage('home');
                            this.showNotification('–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏!', 'success');
                        }, 1000);
                        return;
                    }
                }
                
                this.showNotification('–ü–æ–¥–ø–∏—Å–∫–∞ —É—Å–ø–µ—à–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞!', 'success');
                this.updateUserInterface();
                
                setTimeout(() => {
                    this.navigateToPage('home');
                }, 1000);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –≤—ã–±–æ—Ä–∞ –ø–æ–¥–ø–∏—Å–∫–∏:', error);
                this.showNotification(error.message, 'error');
            } finally {
                this.hideLoading();
            }
        },

        // ==================== –ü–†–û–§–ò–õ–¨ ====================
        updateUserInterface: function() {
            const userAvatar = document.getElementById('userAvatar');
            const profileAvatar = document.getElementById('profileAvatar');
            const profileName = document.getElementById('profileName');
            const profileEmail = document.getElementById('profileEmail');
            const menuUserName = document.getElementById('menuUserName');
            const menuUserEmail = document.getElementById('menuUserEmail');
            const loginMenuBtn = document.getElementById('loginMenuBtn');
            const logoutMenuBtn = document.getElementById('logoutMenuBtn');
            const bottomNav = document.getElementById('bottomNav');
            const floatingBtn = document.getElementById('floatingTasksBtn');
            const supportMenuBtn = document.getElementById('supportMenuBtn');
            
            if (this.currentUser) {
                const firstLetter = this.currentUser.first_name ? this.currentUser.first_name.charAt(0).toUpperCase() : '–ì';
                
                if (userAvatar) {
                    userAvatar.style.display = 'flex';
                    userAvatar.textContent = firstLetter;
                }
                if (profileAvatar) profileAvatar.textContent = firstLetter;
                if (profileName) profileName.textContent = this.currentUser.first_name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
                if (profileEmail) profileEmail.textContent = this.currentUser.email || '';
                if (menuUserName) menuUserName.textContent = this.currentUser.first_name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
                if (menuUserEmail) menuUserEmail.textContent = this.currentUser.email || '';
                
                if (loginMenuBtn) loginMenuBtn.style.display = 'none';
                if (logoutMenuBtn) logoutMenuBtn.style.display = 'block';
                if (supportMenuBtn) supportMenuBtn.style.display = 'block';
                
                const shouldShowNav = this.currentUser && 
                                      this.currentUser.phone_verified && 
                                      this.currentUser.subscription_status === 'active' && 
                                      this.currentUser.initial_fee_paid;
                
                if (bottomNav) bottomNav.style.display = shouldShowNav ? 'flex' : 'none';
                if (floatingBtn) floatingBtn.style.display = shouldShowNav ? 'flex' : 'none';
                
                this.updateProfileStats();
                this.updateProfileSubscriptionCard();
                this.updateProfileSettings();
                
            } else {
                if (userAvatar) userAvatar.style.display = 'none';
                if (profileAvatar) profileAvatar.textContent = '–ì';
                if (profileName) profileName.textContent = '–ì–æ—Å—Ç—å';
                if (profileEmail) profileEmail.textContent = '–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç';
                if (menuUserName) menuUserName.textContent = '–ì–æ—Å—Ç—å';
                if (menuUserEmail) menuUserEmail.textContent = '';
                
                if (loginMenuBtn) loginMenuBtn.style.display = 'block';
                if (logoutMenuBtn) logoutMenuBtn.style.display = 'none';
                if (supportMenuBtn) supportMenuBtn.style.display = 'none';
                if (bottomNav) bottomNav.style.display = 'none';
                if (floatingBtn) floatingBtn.style.display = 'none';
                
                const statTasks = document.getElementById('statTasks');
                const statRating = document.getElementById('statRating');
                const statBalance = document.getElementById('statBalance');
                
                if (statTasks) statTasks.textContent = '0';
                if (statRating) statRating.textContent = '0';
                if (statBalance) statBalance.textContent = '0‚ÇΩ';
                
                const container = document.getElementById('profileTasksList');
                if (container) {
                    container.innerHTML = '<div class="empty-state">' +
                        '<i class="fas fa-user empty-state-icon"></i>' +
                        '<h3 class="empty-state-title">–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç</h3>' +
                        '<p class="empty-state-description">–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏</p>' +
                        '<button class="btn btn-primary" onclick="app.showLoginModal()">' +
                            '<i class="fas fa-sign-in-alt"></i>' +
                            '–í–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç' +
                        '</button>' +
                    '</div>';
                }
            }
        },

        updateProfileStats: function() {
            if (!this.currentUser) return;
            
            const statTasks = document.getElementById('statTasks');
            const statRating = document.getElementById('statRating');
            const statBalance = document.getElementById('statBalance');
            
            if (statTasks) statTasks.textContent = this.currentUser.tasks_used || '0';
            if (statRating) statRating.textContent = this.currentUser.rating || '0';
            if (statBalance) statBalance.textContent = (this.currentUser.balance || '0') + '‚ÇΩ';
        },

        updateProfileSubscriptionCard: function() {
            if (!this.currentUser) return;
            
            const card = document.getElementById('profileSubscriptionCard');
            if (!card) return;
            
            const tasksUsed = this.currentUser.tasks_used || 0;
            const tasksLimit = this.currentUser.tasks_limit || 0;
            const availableTasks = tasksLimit - tasksUsed;
            const isLimitReached = availableTasks <= 0;
            
            if (this.currentUser.subscription_status === 'active' && this.currentUser.initial_fee_paid) {
                const planName = this.subscriptions.find((sub) => {
                    return sub.name === this.currentUser.subscription_plan;
                })?.display_name || this.currentUser.subscription_plan;
                const expiresDate = this.currentUser.subscription_expires ? new Date(this.currentUser.subscription_expires) : null;
                
                card.innerHTML = '<div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">' +
                    '<div>' +
                        '<h3 style="font-size: 1.3rem; font-weight: 600; margin-bottom: 5px;">' + planName + '</h3>' +
                        '<p style="color: var(--graphite-medium); font-size: 0.9rem;">' +
                            (expiresDate ? '–ê–∫—Ç–∏–≤–Ω–∞ –¥–æ ' + expiresDate.toLocaleDateString('ru-RU') : '–ê–∫—Ç–∏–≤–Ω–∞') +
                        '</p>' +
                    '</div>' +
                    '<span style="background: rgba(56, 178, 172, 0.1); color: var(--success); padding: 6px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600;">–ê–∫—Ç–∏–≤–Ω–∞</span>' +
                '</div>' +
                
                (isLimitReached ? 
                    '<div style="background: rgba(237, 137, 54, 0.1); padding: 12px; border-radius: var(--radius-sm); margin-bottom: 15px; border: 1px solid rgba(237, 137, 54, 0.2);">' +
                        '<div style="display: flex; align-items: center; gap: 8px; margin-bottom: 5px;">' +
                            '<i class="fas fa-exclamation-triangle" style="color: var(--warning);"></i>' +
                            '<span style="font-size: 0.9rem; color: var(--warning); font-weight: 600;">–õ–∏–º–∏—Ç –∑–∞–¥–∞—á –∏—Å—á–µ—Ä–ø–∞–Ω</span>' +
                        '</div>' +
                        '<div style="font-size: 0.85rem; color: var(--graphite-dark); margin-left: 24px;">' +
                            '–í—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤—Å–µ ' + tasksLimit + ' –∑–∞–¥–∞—á –∏–∑ –≤–∞—à–µ–π –ø–æ–¥–ø–∏—Å–∫–∏. –ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞.' +
                        '</div>' +
                    '</div>' 
                : 
                    '<div style="background: rgba(56, 178, 172, 0.05); padding: 12px; border-radius: var(--radius-sm); margin-bottom: 15px; border: 1px solid rgba(56, 178, 172, 0.1);">' +
                        '<div style="display: flex; align-items: center; gap: 8px; margin-bottom: 5px;">' +
                            '<i class="fas fa-tasks" style="color: var(--success);"></i>' +
                            '<span style="font-size: 0.9rem; color: var(--graphite-dark); font-weight: 500;">–î–æ—Å—Ç—É–ø–Ω–æ –∑–∞–¥–∞—á:</span>' +
                        '</div>' +
                        '<div style="font-size: 0.95rem; color: var(--graphite-dark); margin-left: 24px;">' +
                            '<span style="font-weight: 700; color: ' + (availableTasks < 3 ? 'var(--warning)' : 'var(--success)') + ';">' + availableTasks + '</span> –∏–∑ ' + tasksLimit + ' (' + tasksUsed + ' –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ)' +
                        '</div>' +
                    '</div>'
                ) +
                
                (expiresDate ? '<div style="background: rgba(61,61,61,0.03); padding: 12px; border-radius: var(--radius-sm); margin-bottom: 15px; border: 1px solid rgba(61,61,61,0.08);">' +
                    '<div style="display: flex; align-items: center; gap: 8px; margin-bottom: 5px;">' +
                        '<i class="fas fa-calendar-alt" style="color: var(--graphite-medium);"></i>' +
                        '<span style="font-size: 0.9rem; color: var(--graphite-dark); font-weight: 500;">–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è:</span>' +
                    '</div>' +
                    '<div style="font-size: 0.85rem; color: var(--graphite-dark); margin-left: 24px;">' +
                        expiresDate.toLocaleDateString('ru-RU', { day: 'numeric', month: 'long', year: 'numeric' }) +
                    '</div>' +
                '</div>' : '') +
                
                '<button class="btn btn-secondary" style="flex: 1;" onclick="app.navigateToPage(\'subscription\')">' +
    '<i class="fas fa-file-contract"></i>' +
    '–¢–∞—Ä–∏—Ñ –∏ –¥–æ–ø.—Å–æ–≥–ª–∞—à–µ–Ω–∏—è' +
'</button>' +
                    '<button class="btn btn-secondary" style="flex: 1;" onclick="app.showSupportChat()">' +
                        '<i class="fas fa-question-circle"></i>' +
                        '–ü–æ–¥–¥–µ—Ä–∂–∫–∞' +
                    '</button>' +
                '</div>';
            } else {
                card.innerHTML = '<div class="empty-state">' +
                    '<i class="fas fa-crown empty-state-icon"></i>' +
                    '<h3 class="empty-state-title">–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞</h3>' +
                    '<p class="empty-state-description">–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º</p>' +
                    '<button class="btn btn-primary" onclick="app.navigateToPage(\'subscription\')">' +
                        '<i class="fas fa-crown"></i>' +
                        '–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É' +
                    '</button>' +
                '</div>';
            }
        },

        updateProfileSettings: function() {
            if (!this.currentUser) return;
            
            const settingsContainer = document.getElementById('profileSettingsList');
            if (!settingsContainer) return;
            
            let settingsHTML = '<a href="#" class="nav-menu-item" onclick="app.navigateToPage(\'subscription\')" style="display: block; padding: 12px; text-decoration: none; color: var(--graphite-dark); border-radius: var(--radius-sm); transition: var(--transition-fast); margin-bottom: 8px;">' +
                '<i class="fas fa-crown" style="margin-right: 12px; color: var(--pastel-pink);"></i>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π' +
            '</a>';
            
            if (!this.currentUser.phone_verified) {
                settingsHTML += '<a href="#" class="nav-menu-item" onclick="app.openSendCodeModal()" style="display: block; padding: 12px; text-decoration: none; color: var(--graphite-dark); border-radius: var(--radius-sm); transition: var(--transition-fast); margin-bottom: 8px;">' +
                    '<i class="fas fa-mobile-alt" style="margin-right: 12px; color: var(--pastel-pink);"></i>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω' +
                '</a>';
            }
            
            settingsHTML += '<a href="#" class="nav-menu-item" onclick="app.navigateToPage(\'guides\')" style="display: block; padding: 12px; text-decoration: none; color: var(--graphite-dark); border-radius: var(--radius-sm); transition: var(--transition-fast); margin-bottom: 8px;">' +
                '<i class="fas fa-book" style="margin-right: 12px; color: var(--pastel-pink);"></i>–ì–∞–π–¥—ã' +
            '</a>' +
            '<a href="#" class="nav-menu-item" onclick="app.navigateToPage(\'all-categories\')" style="display: block; padding: 12px; text-decoration: none; color: var(--graphite-dark); border-radius: var(--radius-sm); transition: var(--transition-fast); margin-bottom: 8px;">' +
                '<i class="fas fa-folder" style="margin-right: 12px; color: var(--pastel-pink);"></i>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏' +
            '</a>' +
            '<a href="#" class="nav-menu-item" onclick="app.navigateToPage(\'all-services\')" style="display: block; padding: 12px; text-decoration: none; color: var(--graphite-dark); border-radius: var(--radius-sm); transition: var(--transition-fast); margin-bottom: 8px;">' +
                '<i class="fas fa-list" style="margin-right: 12px; color: var(--pastel-pink);"></i>–í—Å–µ —É—Å–ª—É–≥–∏' +
            '</a>' +
            '<a href="#" class="nav-menu-item" onclick="app.showSupportChat()" style="display: block; padding: 12px; text-decoration: none; color: var(--graphite-dark); border-radius: var(--radius-sm); transition: var(--transition-fast); margin-bottom: 8px;">' +
                '<i class="fas fa-headset" style="margin-right: 12px; color: var(--pastel-pink);"></i>–ü–æ–º–æ—â—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞' +
            '</a>' +
            '<a href="#" class="nav-menu-item" onclick="app.logout()" style="display: block; padding: 12px; text-decoration: none; color: var(--graphite-dark); border-radius: var(--radius-sm); transition: var(--transition-fast);">' +
                '<i class="fas fa-sign-out-alt" style="margin-right: 12px; color: var(--error);"></i>–í—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã' +
            '</a>';
            
            settingsContainer.innerHTML = settingsHTML;
        },

        loadUserProfile: async function() {
            if (!this.currentUser) {
                const container = document.getElementById('profileTasksList');
                if (container) {
                    container.innerHTML = '<div class="empty-state">' +
                        '<i class="fas fa-user empty-state-icon"></i>' +
                        '<h3 class="empty-state-title">–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç</h3>' +
                        '<p class="empty-state-description">–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏</p>' +
                        '<button class="btn btn-primary" onclick="app.showLoginModal()">' +
                            '<i class="fas fa-sign-in-alt"></i>' +
                            '–í–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç' +
                        '</button>' +
                    '</div>';
                }
                return;
            }
            
            try {
                this.updateUserInterface();
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è:', error);
            }
        },

        loadProfileTasks: async function() {
            try {
                const response = await this.fetchWithAuth(this.API_BASE_URL + '/api/tasks/user');
                if (response.ok) {
                    const result = await response.json();
                    if (result.success) {
                        this.userTasks = result.data.tasks;
                        this.renderProfileTasks();
                        return;
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞—á:', error);
            }
            
            this.userTasks = [];
            this.renderProfileTasks();
        },

renderProfileTasks: function() {
    const container = document.getElementById('profileTasksList');
    if (!container) return;
    
    if (!this.userTasks || this.userTasks.length === 0) {
        container.innerHTML = '<div class="empty-state">' +
            '<i class="fas fa-tasks empty-state-icon"></i>' +
            '<h3 class="empty-state-title">–ó–∞–¥–∞—á –ø–æ–∫–∞ –Ω–µ—Ç</h3>' +
            '<p class="empty-state-description">–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É</p>' +
            '<button class="btn btn-primary" onclick="app.checkSubscription()">' +
                '<i class="fas fa-plus"></i>' +
                '–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É' +
            '</button>' +
        '</div>';
        return;
    }
    
    const sortedTasks = [...this.userTasks].sort((a, b) => {
        return new Date(b.created_at) - new Date(a.created_at);
    });
    
    container.innerHTML = '<h4 style="margin-bottom: 15px; color: var(--graphite-dark); font-size: 1.1rem;">–í—Å–µ –∑–∞–¥–∞—á–∏ (' + sortedTasks.length + ')</h4>';
    
    sortedTasks.slice(0, 5).forEach((task) => {
        const taskElement = document.createElement('div');
        taskElement.className = 'card task-item';
        taskElement.onclick = () => { this.showTaskDetailsCompact(task.id); };
        
        const statusInfo = this.getStatusInfo(task.status);
        
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å: —É—Å–ª—É–≥—É –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
        const serviceOrCategory = task.service_name ? 
            task.service_name : 
            (task.category_name ? task.category_name : '-');
        
        taskElement.innerHTML = '<div class="task-header">' +
            '<div class="task-title">' + task.title + '</div>' +
            '<span class="task-status ' + task.status + '" style="background: ' + (statusInfo.color ? statusInfo.color + '15' : 'rgba(61,61,61,0.1)') + '; color: ' + (statusInfo.color || 'var(--graphite-dark)') + '; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; display: inline-flex; align-items: center; gap: 4px;">' +
                '<i class="' + statusInfo.icon + '"></i>' +
                statusInfo.name +
            '</span>' +
        '</div>' +
        '<div style="color: var(--graphite-medium); font-size: 0.9rem; margin-bottom: 8px; display: flex; align-items: center; gap: 12px;">' +
            (serviceOrCategory ? '<span><i class="fas fa-briefcase"></i> ' + serviceOrCategory + '</span>' : '') +
            '<span><i class="fas fa-hashtag"></i> ' + task.task_number + '</span>' +
        '</div>' +
        '<div style="color: var(--graphite-light); font-size: 0.8rem; display: flex; justify-content: space-between;">' +
            '<span>' +
                '<i class="far fa-calendar"></i> ' + new Date(task.created_at).toLocaleDateString('ru-RU') +
            '</span>' +
            '<span onclick="event.stopPropagation(); app.showTaskDetailsCompact(' + task.id + ')" style="color: var(--pastel-pink); cursor: pointer;">' +
                '–ü–æ–¥—Ä–æ–±–Ω–µ–µ <i class="fas fa-arrow-right"></i>' +
            '</span>' +
        '</div>';
        container.appendChild(taskElement);
    });
    
    if (sortedTasks.length > 5) {
        const moreButton = document.createElement('div');
        moreButton.style.textAlign = 'center';
        moreButton.style.marginTop = '15px';
        moreButton.innerHTML = '<button class="btn btn-secondary" onclick="app.navigateToPage(\'tasks\')">' +
            '<i class="fas fa-list"></i>' +
            '–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ (' + sortedTasks.length + ')' +
        '</button>';
        container.appendChild(moreButton);
    }
},

        // ==================== –ó–ê–î–ê–ß–ò ====================
        loadUserTasks: async function(filter) {
            try {
                this.currentTaskFilter = filter;
                
                document.querySelectorAll('.tab').forEach((tab) => {
                    tab.classList.remove('active');
                });
                
                const tabTexts = {
                    'all': '–í—Å–µ',
                    'new': '–ù–æ–≤—ã–µ', 
                    'searching': '–í –ø–æ–∏—Å–∫–µ',
                    'in_progress': '–í —Ä–∞–±–æ—Ç–µ',
                    'completed': '–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ',
                    'cancelled': '–û—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ'
                };
                
                const tabs = document.querySelectorAll('.tab');
                tabs.forEach(tab => {
                    if (tab.textContent.includes(tabTexts[filter])) {
                        tab.classList.add('active');
                    }
                });
                
                const response = await this.fetchWithAuth(this.API_BASE_URL + '/api/tasks/user');
                
                if (!response || !response.ok) {
                    if (response.status === 404) {
                        throw new Error('–ú–∞—Ä—à—Ä—É—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞.');
                    }
                    throw new Error(`HTTP –æ—à–∏–±–∫–∞: ${response.status}`);
                }
                
                const result = await response.json();
                
                if (!result.success) {
                    throw new Error(result.error || '–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–¥–∞—á');
                }
                
                this.userTasks = this.filterTasksByStatus(result.data.tasks || [], filter);
                this.renderUserTasks();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞—á:', error);
                this.showNotification(error.message || '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞—á', 'error');
                
                this.userTasks = this.filterTasksByStatus([
                    {
                        id: 1,
                        task_number: "TASK-001",
                        title: "–£–±–æ—Ä–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã",
                        category_name: "–î–æ–º –∏ –±—ã—Ç",
                        status: "new",
                        created_at: new Date().toISOString(),
                        price: 0
                    },
                    {
                        id: 2,
                        task_number: "TASK-002", 
                        title: "–ü–æ–º–æ—â—å —Å –¥–µ—Ç—å–º–∏",
                        category_name: "–°–µ–º—å—è –∏ –¥–µ—Ç–∏",
                        status: "completed",
                        created_at: new Date(Date.now() - 86400000).toISOString(),
                        price: 0
                    }
                ], filter);
                
                this.renderUserTasks();
            }
        },

        filterTasks: function(filter) {
            this.loadUserTasks(filter);
        },
        
renderUserTasks: function() {
    const cardsContainer = document.getElementById('userTasksCards');
    const tableContainer = document.getElementById('userTasksTable');
    
    if (!cardsContainer || !tableContainer) return;
    
    cardsContainer.innerHTML = '';
    tableContainer.innerHTML = '';
    
    if (!this.userTasks || this.userTasks.length === 0) {
        const noTasksHtml = `
            <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                <i class="fas fa-tasks" style="font-size: 3rem; color: var(--graphite-light); margin-bottom: 20px;"></i>
                <h3 style="color: var(--graphite-dark); margin-bottom: 10px;">–ó–∞–¥–∞—á –ø–æ–∫–∞ –Ω–µ—Ç</h3>
                <p style="color: var(--graphite-medium); margin-bottom: 25px;">
                    –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–º–æ—â—å –æ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–æ–º–æ—â–Ω–∏—Ü
                </p>
                <button class="btn btn-primary" onclick="app.checkSubscription()">
                    <i class="fas fa-plus"></i> –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
                </button>
            </div>`;
        
        cardsContainer.innerHTML = noTasksHtml;
        tableContainer.innerHTML = '<p style="text-align: center; padding: 20px; color: var(--graphite-medium);">–ó–∞–¥–∞—á –ø–æ–∫–∞ –Ω–µ—Ç</p>';
        return;
    }
    
    const sortedTasks = [...this.userTasks].sort((a, b) => {
        return new Date(b.created_at) - new Date(a.created_at);
    });
    
    sortedTasks.forEach(task => {
        const statusInfo = this.getStatusInfo(task.status);
        
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å: —É—Å–ª—É–≥—É –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
        const serviceOrCategory = task.service_name ? 
            task.service_name : 
            (task.category_name ? task.category_name : '–ù–µ —É–∫–∞–∑–∞–Ω–æ');
        
        const taskCard = document.createElement('div');
        taskCard.className = 'task-card';
        taskCard.onclick = () => { 
            this.showTaskDetailsCompact(task.id);
        };
        
        taskCard.innerHTML = `
            <div class="task-card-content">
                <div class="task-card-row">
                    <div class="task-card-label">–ù–æ–º–µ—Ä:</div>
                    <div class="task-card-value">${task.task_number || 'N/A'}</div>
                </div>
                <div class="task-card-row">
                    <div class="task-card-label">–ó–∞–¥–∞—á–∞:</div>
                    <div class="task-card-value"><strong>${task.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'}</strong></div>
                </div>
                <div class="task-card-row">
                    <div class="task-card-label">–£—Å–ª—É–≥–∞:</div>
                    <div class="task-card-value">${serviceOrCategory}</div>
                </div>
                <div class="task-card-row">
                    <div class="task-card-label">–°—Ç–∞—Ç—É—Å:</div>
                    <div class="task-card-value">
                        <span class="status-badge" style="background: ${statusInfo.color ? statusInfo.color + '15' : 'rgba(61,61,61,0.1)'}; 
                              color: ${statusInfo.color || 'var(--graphite-dark)'}; 
                              padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; 
                              font-weight: 600; display: inline-flex; align-items: center; gap: 4px;">
                            <i class="${statusInfo.icon}"></i>
                            ${statusInfo.name}
                        </span>
                    </div>
                </div>
                <div class="task-card-row">
                    <div class="task-card-label">–°–æ–∑–¥–∞–Ω–∞:</div>
                    <div class="task-card-value">${new Date(task.created_at).toLocaleDateString('ru-RU')}</div>
                </div>
                <div class="task-card-actions">
                    <button class="btn btn-secondary btn-sm" onclick="event.stopPropagation(); app.showTaskDetailsCompact(${task.id})">
                        <i class="fas fa-eye"></i> –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </button>
                </div>
            </div>
        `;
        
        cardsContainer.appendChild(taskCard);
    });
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É —Ç–æ–∂–µ
    const tableHtml = `
        <table class="task-history-table">
            <thead>
                <tr>
                    <th>–ù–æ–º–µ—Ä –∑–∞–¥–∞—á–∏</th>
                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                    <th>–£—Å–ª—É–≥–∞</th>
                    <th>–°—Ç–∞—Ç—É—Å</th>
                    <th>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
            </thead>
            <tbody>
                ${sortedTasks.map(task => {
                    const statusInfo = this.getStatusInfo(task.status);
                    const serviceOrCategory = task.service_name ? 
                        task.service_name : 
                        (task.category_name ? task.category_name : '–ù–µ —É–∫–∞–∑–∞–Ω–æ');
                    
                    return `
                        <tr>
                            <td>${task.task_number}</td>
                            <td><strong>${task.title}</strong></td>
                            <td>${serviceOrCategory}</td>
                            <td>
                                <span class="task-status ${task.status}" 
                                      style="background: ${statusInfo.color ? statusInfo.color + '15' : 'rgba(61,61,61,0.1)'}; 
                                             color: ${statusInfo.color || 'var(--graphite-dark)'}; 
                                             padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; 
                                             font-weight: 600; display: inline-flex; align-items: center; gap: 4px;">
                                    <i class="${statusInfo.icon}"></i>
                                    ${statusInfo.name}
                                </span>
                            </td>
                            <td>${new Date(task.created_at).toLocaleDateString('ru-RU')}</td>
                            <td>
                                <button class="btn btn-secondary btn-sm" onclick="app.showTaskDetailsCompact(${task.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </td>
                        </tr>
                    `;
                }).join('')}
            </tbody>
        </table>
    `;
    
    tableContainer.innerHTML = tableHtml;
},

        filterTasksByStatus: function(tasks, filter) {
            if (!tasks || tasks.length === 0) return [];
            
            const statusMap = {
                'all': () => tasks,
                'new': () => tasks.filter(task => task.status === 'new'),
                'searching': () => tasks.filter(task => task.status === 'searching'),
                'in_progress': () => tasks.filter(task => 
                    task.status === 'in_progress' || task.status === 'assigned'
                ),
                'completed': () => tasks.filter(task => task.status === 'completed'),
                'cancelled': () => tasks.filter(task => task.status === 'cancelled')
            };
            
            return statusMap[filter] ? statusMap[filter]() : tasks;
        },
        
        showTaskDetailsCompact: async function(taskId) {
            try {
                this.showLoading('–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞—á–∏...');
                
                const response = await this.fetchWithAuth(this.API_BASE_URL + '/api/tasks/' + taskId);
                if (response.ok) {
                    const result = await response.json();
                    if (result.success) {
                        const task = result.data.task;
                        
                        await this.loadTaskMessages(taskId);
                        
                        this.renderTaskDetailsCompact(task, this.chatMessages);
                        this.navigateToPage('task-details');
                        return;
                    }
                }
                throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–¥–∞—á—É');
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞—á–∏:', error);
                
                this.renderTaskDetailsCompact({
                    id: taskId,
                    task_number: 'TASK-XXXX',
                    title: '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞—á–∏',
                    description: '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–¥–∞—á–µ',
                    status: 'error',
                    created_at: new Date().toISOString(),
                    category_name: '–û—à–∏–±–∫–∞'
                }, []);
                
                this.navigateToPage('task-details');
                this.showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞—á–∏', 'error');
            } finally {
                this.hideLoading();
            }
        },

// –í —Ñ—É–Ω–∫—Ü–∏–∏ renderTaskDetailsCompact –æ–±–Ω–æ–≤–∏—Ç–µ —ç—Ç–æ—Ç –±–ª–æ–∫:

renderTaskDetailsCompact: function(task, messages) {
    const container = document.getElementById('taskCompactDetails');
    const statusInfo = this.getStatusInfo(task.status);
    
    const canCancel = task.status === 'new' || task.status === 'searching' || task.status === 'assigned';
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å: —É—Å–ª—É–≥—É –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
    const serviceOrCategory = task.service_name ? 
        `–£—Å–ª—É–≥–∞: ${task.service_name}` : 
        (task.category_name ? `–ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${task.category_name}` : '-');
    
    container.innerHTML = `
        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
            <div>
                <h3 style="color: var(--graphite-dark); margin-bottom: 8px; font-size: 1.2rem;">${task.title}</h3>
                <div style="display: flex; align-items: center; gap: 12px; flex-wrap: wrap;">
                    <span class="status-badge status-${task.status}" style="display: inline-flex; align-items: center; gap: 4px; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; background: ${statusInfo.color ? statusInfo.color + '15' : 'rgba(61,61,61,0.1)'}; color: ${statusInfo.color || 'var(--graphite-dark)'}">
                        <i class="${statusInfo.icon || 'fas fa-circle'}"></i>
                        ${statusInfo.name}
                    </span>
                    <span style="font-size: 0.9rem; color: var(--graphite-medium);">
                        <i class="far fa-calendar"></i> ${new Date(task.created_at).toLocaleDateString('ru-RU')}
                    </span>
                    <span style="font-size: 0.9rem; color: var(--graphite-medium);">
                        <i class="fas fa-hashtag"></i> ${task.task_number}
                    </span>
                </div>
            </div>
            <div style="text-align: right;">
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--pastel-pink);">
                    ${task.price ? this.formatNumber(task.price) + ' ‚ÇΩ' : '<i class="fas fa-crown"></i> –í–∫–ª—é—á–µ–Ω–æ –≤ –ø–æ–¥–ø–∏—Å–∫—É'}
                </div>
            </div>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 20px;">
            <div>
                <div style="font-size: 0.8rem; color: var(--graphite-medium); margin-bottom: 4px;">–£—Å–ª—É–≥–∞</div>
                <div style="font-weight: 500;">${serviceOrCategory}</div>
            </div>
            <div>
                <div style="font-size: 0.8rem; color: var(--graphite-medium); margin-bottom: 4px;">–ê–¥—Ä–µ—Å</div>
                <div style="font-weight: 500;">${task.address || '-'}</div>
            </div>
            <div>
                <div style="font-size: 0.8rem; color: var(--graphite-medium); margin-bottom: 4px;">–î–µ–¥–ª–∞–π–Ω</div>
                <div style="font-weight: 500;">${new Date(task.deadline).toLocaleDateString('ru-RU')}</div>
            </div>
        </div>
        
        <div style="margin-bottom: 20px;">
            <div style="font-size: 0.8rem; color: var(--graphite-medium); margin-bottom: 8px;">–û–ø–∏—Å–∞–Ω–∏–µ</div>
            <div style="background: rgba(61,61,61,0.02); padding: 12px; border-radius: 8px; border: 1px solid rgba(61,61,61,0.05);">
                ${task.description}
            </div>
        </div>
        
        ${task.additional_requirements ? `
            <div style="margin-bottom: 20px;">
                <div style="font-size: 0.8rem; color: var(--graphite-medium); margin-bottom: 8px;">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</div>
                <div style="background: rgba(61,61,61,0.02); padding: 12px; border-radius: 8px; border: 1px solid rgba(61,61,61,0.05); font-size: 0.9rem;">
                    ${task.additional_requirements}
                </div>
            </div>
        ` : ''}
        
        <div style="display: flex; gap: 10px; margin-top: 24px; flex-wrap: wrap;">
            <button class="btn btn-primary" onclick="app.toggleTaskChat(${task.id})" id="toggleChatBtn" style="flex: 1;">
                <i class="fas fa-comments"></i>
                ${messages.length > 0 ? '–ß–∞—Ç (' + messages.length + ')' : '–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç'}
            </button>
            ${canCancel ? 
                `<button class="btn btn-secondary" onclick="app.cancelUserTask(${task.id})" style="flex: 1; background: var(--error); color: white;">
                    <i class="fas fa-times"></i> –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–¥–∞—á—É
                </button>` 
            : ''}
        </div>
    `;
    
    this.currentChatTaskId = task.id;
    this.chatMessages = messages;
},

        cancelUserTask: async function(taskId) {
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–¥–∞—á—É?')) return;
            
            try {
                this.showLoading('–û—Ç–º–µ–Ω–∞ –∑–∞–¥–∞—á–∏...');
                
                const response = await this.fetchWithAuth(this.API_BASE_URL + '/api/tasks/' + taskId + '/cancel', {
                    method: 'POST'
                });
                
                if (response && response.ok) {
                    const result = await response.json();
                    if (result.success) {
                        this.showNotification('–ó–∞–¥–∞—á–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–º–µ–Ω–µ–Ω–∞', 'success');
                        setTimeout(() => {
                            this.navigateToPage('tasks');
                        }, 1000);
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–º–µ–Ω—ã –∑–∞–¥–∞—á–∏:', error);
                this.showNotification(error.message || '–û—à–∏–±–∫–∞ –æ—Ç–º–µ–Ω—ã –∑–∞–¥–∞—á–∏', 'error');
            } finally {
                this.hideLoading();
            }
        },

        toggleTaskChat: function(taskId) {
            const chatSection = document.getElementById('taskChatSection');
            const toggleBtn = document.getElementById('toggleChatBtn');
            
            if (chatSection.style.display === 'none' || chatSection.style.display === '') {
                chatSection.style.display = 'block';
                if (toggleBtn) {
                    toggleBtn.innerHTML = '<i class="fas fa-times"></i> –°–∫—Ä—ã—Ç—å —á–∞—Ç';
                }
            } else {
                chatSection.style.display = 'none';
                if (toggleBtn) {
                    toggleBtn.innerHTML = '<i class="fas fa-comments"></i> –ü–æ–∫–∞–∑–∞—Ç—å —á–∞—Ç';
                }
            }
        },

        sendInlineChatMessage: async function() {
            if (!this.currentChatTaskId) return;
            
            const input = document.getElementById('inlineChatMessage');
            const message = input.value.trim();
            if (!message) return;
            
            try {
                const response = await this.fetchWithAuth(this.API_BASE_URL + '/api/tasks/' + this.currentChatTaskId + '/messages', {
                    method: 'POST',
                    body: JSON.stringify({ message: message })
                });
                
                if (response.ok) {
                    const result = await response.json();
                    if (result.success) {
                        this.chatMessages.push(result.data.message);
                        input.value = '';
                        this.renderInlineChatMessages();
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è:', error);
                this.showNotification('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è', 'error');
            }
        },

        loadTaskMessages: async function(taskId) {
            try {
                const response = await this.fetchWithAuth(this.API_BASE_URL + '/api/tasks/' + taskId + '/messages');
                if (response.ok) {
                    const result = await response.json();
                    if (result.success) {
                        this.chatMessages = result.data.messages || [];
                        this.renderInlineChatMessages();
                        return;
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π:', error);
            }
            
            this.chatMessages = [];
            this.renderInlineChatMessages();
        },

        renderInlineChatMessages: function() {
            const container = document.getElementById('inlineChatMessages');
            if (!container) return;
            
            if (this.chatMessages.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 40px 20px; color: var(--graphite-medium);">' +
                    '<i class="fas fa-comments" style="font-size: 2rem; opacity: 0.3; margin-bottom: 16px;"></i>' +
                    '<p>–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π</p>' +
                '</div>';
                return;
            }
            
            container.innerHTML = this.chatMessages.map((msg) => {
                const isCurrentUser = msg.user_id === this.currentUser?.id;
                return `
                    <div style="display: flex; ${isCurrentUser ? 'justify-content: flex-end;' : ''} margin-bottom: 12px;">
                        <div style="max-width: 70%; ${isCurrentUser ? 'background: linear-gradient(135deg, var(--pastel-pink), var(--pink-medium));' : 'background: white; border: 1px solid rgba(61,61,61,0.1)'}; 
                             padding: 10px 14px; border-radius: 18px; ${isCurrentUser ? 'border-bottom-right-radius: 4px;' : 'border-bottom-left-radius: 4px;'} box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                            <div style="margin-bottom: 4px; font-size: 0.9rem; line-height: 1.4;">${msg.message}</div>
                            <div style="font-size: 0.7rem; color: var(--graphite-light); text-align: ${isCurrentUser ? 'right' : 'left'}">
                                ${new Date(msg.created_at).toLocaleTimeString('ru-RU', {hour: '2-digit', minute:'2-digit'})}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        },

        getStatusText: function(status) {
            const statusMap = {
                'new': '–ù–æ–≤–∞—è',
                'searching': '–í –ø–æ–∏—Å–∫–µ',
                'assigned': '–ù–∞–∑–Ω–∞—á–µ–Ω–∞',
                'in_progress': '–í —Ä–∞–±–æ—Ç–µ',
                'completed': '–í—ã–ø–æ–ª–Ω–µ–Ω–∞',
                'cancelled': '–û—Ç–º–µ–Ω–µ–Ω–∞'
            };
            return statusMap[status] || status;
        },

        getStatusInfo: function(status) {
            const statuses = {
                'new': { name: '–ù–æ–≤–∞—è', icon: 'fas fa-plus-circle', color: '#1565C0' },
                'searching': { name: '–ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è', icon: 'fas fa-search', color: '#2196F3' },
                'assigned': { name: '–ù–∞–∑–Ω–∞—á–µ–Ω–∞', icon: 'fas fa-user-check', color: '#03A9F4' },
                'in_progress': { name: '–í —Ä–∞–±–æ—Ç–µ', icon: 'fas fa-cogs', color: '#00BCD4' },
                'completed': { name: '–í—ã–ø–æ–ª–Ω–µ–Ω–∞', icon: 'fas fa-check-circle', color: '#4CAF50' },
                'cancelled': { name: '–û—Ç–º–µ–Ω–µ–Ω–∞', icon: 'fas fa-times-circle', color: '#F44336' }
            };
            return statuses[status] || { name: status, icon: 'fas fa-question-circle', color: '#9E9E9E' };
        },

        // ==================== –ò–°–ü–†–ê–í–õ–ï–ù–ù–û–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ï ====================
        showNotification: function(message, type) {
            const oldNotifications = document.querySelectorAll('.notification');
            oldNotifications.forEach(function(notif) {
                notif.remove();
            });
            
            const notification = document.createElement('div');
            notification.className = 'notification ' + (type || 'success');
            
            let icon = 'fas fa-check-circle';
            if (type === 'error') icon = 'fas fa-exclamation-circle';
            if (type === 'warning') icon = 'fas fa-exclamation-triangle';
            if (type === 'info') icon = 'fas fa-info-circle';
            
            notification.innerHTML = '<i class="' + icon + '"></i><span>' + message + '</span>';
            document.body.appendChild(notification);
            
           const duration = type === 'success' ? 6000 : 5000; // 5 —Å–µ–∫—É–Ω–¥ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
            
            setTimeout(function() {
                if (notification.parentNode) {
                    notification.classList.add('hiding');
                    setTimeout(function() {
                        if (notification.parentNode) notification.remove();
                    }, 300);
                }
            }, duration);
        },

        // ==================== –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø ====================
        login: async function() {
            try {
                const phoneEmail = document.getElementById('loginPhoneInput').value;
                const password = document.getElementById('loginPasswordInput').value;
                
                if (!phoneEmail || !password) {
                    this.showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', 'error');
                    return;
                }
                
                const isPhone = /^[\+]?[0-9\s\-\(\)]+$/.test(phoneEmail.replace(/\s/g, ''));
                let loginData;
                
                if (isPhone) {
                    loginData = { phone: this.normalizePhone(phoneEmail), password: password };
                } else {
                    loginData = { email: phoneEmail, password: password };
                }
                
                this.showLoading('–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É...');
                
                const response = await fetch(this.API_BASE_URL + '/api/auth/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(loginData)
                });
                
                const result = await response.json();
                
                if (!result.success) {
                    throw new Error(result.error || '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞');
                }
                
                this.currentUser = result.data.user;
                this.currentToken = result.data.token;
                
                localStorage.setItem('token', this.currentToken);
                localStorage.setItem('currentUser', JSON.stringify(this.currentUser));
                
                this.showNotification('–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥!', 'success');
                this.closeModal('loginModal');
                this.updateUserInterface();
                
                if (!this.currentUser.phone_verified) {
                    this.openVerifyPhoneModal(this.currentUser.phone);
                } else if (this.currentUser.subscription_status !== 'active' || !this.currentUser.initial_fee_paid) {
                    this.navigateToPage('subscription');
                } else {
                    this.navigateToPage('home');
                }
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞:', error);
                this.showNotification(error.message || '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ.', 'error');
            } finally {
                this.hideLoading();
            }
        },

        register: async function() {
            try {
                const firstName = document.getElementById('registerFirstName').value;
                const lastName = document.getElementById('registerLastName').value;
                const email = document.getElementById('registerEmail').value;
                const phone = document.getElementById('registerPhone').value;
                const password = document.getElementById('registerPassword').value;
                
                if (!firstName || !phone || !password) {
                    this.showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –ø–∞—Ä–æ–ª—å', 'error');
                    return;
                }
                
                if (password.length < 6) {
                    this.showNotification('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤', 'error');
                    return;
                }
                
                this.showLoading('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è...');
                
                const response = await fetch(this.API_BASE_URL + '/api/auth/register', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        phone: this.normalizePhone(phone),
                        password: password,
                        first_name: firstName,
                        last_name: lastName,
                        email: email || null,
                        subscription_plan: 'essential'
                    })
                });
                
                if (!response.ok) throw new Error('HTTP error! status: ' + response.status);
                
                const result = await response.json();
                if (!result.success) throw new Error(result.error);
                
                this.currentUser = result.data.user;
                localStorage.setItem('currentUser', JSON.stringify(this.currentUser));
                
                this.showNotification('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ—á—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω.', 'info');
                this.closeModal('registerModal');
                
                if (result.data.requires_phone_verification) {
                    setTimeout(() => {
                        this.openVerifyPhoneModal(result.data.phone || this.normalizePhone(phone));
                        this.navigateToPage('auth');
                    }, 500);
                }
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:', error);
                this.showNotification(error.message, 'error');
            } finally {
                this.hideLoading();
            }
        },

        // ==================== –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –ü–ê–†–û–õ–Ø ====================
        sendPasswordResetCode: async function() {
            const input = document.getElementById('forgotPasswordInput').value;
            
            if (!input) {
                this.showNotification('–í–≤–µ–¥–∏—Ç–µ email –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω', 'error');
                return;
            }
            
            try {
                this.showLoading('–û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è...');
                
                const response = await fetch(this.API_BASE_URL + '/api/auth/forgot-password', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email_or_phone: input })
                });
                
                if (!response.ok) throw new Error('HTTP error! status: ' + response.status);
                
                const result = await response.json();
                if (!result.success) throw new Error(result.error);
                
                this.showNotification('–ö–æ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!', 'success');
                this.closeModal('forgotPasswordModal');
                
                setTimeout(() => { this.showResetPasswordModal(); }, 500);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è:', error);
                this.showNotification(error.message, 'error');
            } finally {
                this.hideLoading();
            }
        },

        resetPassword: async function() {
            const code = document.getElementById('resetCodeInput').value;
            const newPassword = document.getElementById('newPasswordInput').value;
            const confirmPassword = document.getElementById('confirmPasswordInput').value;
            
            if (!code || !newPassword || !confirmPassword) {
                this.showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', 'error');
                return;
            }
            
            if (newPassword.length < 6) {
                this.showNotification('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤', 'error');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                this.showNotification('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç', 'error');
                return;
            }
            
            try {
                this.showLoading('–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è...');
                
                const response = await fetch(this.API_BASE_URL + '/api/auth/reset-password', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ code: code, new_password: newPassword })
                });
                
                if (!response.ok) throw new Error('HTTP error! status: ' + response.status);
                
                const result = await response.json();
                if (!result.success) throw new Error(result.error);
                
                this.showNotification('–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω!', 'success');
                this.closeModal('resetPasswordModal');
                
                setTimeout(() => { this.showLoginModal(); }, 1000);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è:', error);
                this.showNotification(error.message, 'error');
            } finally {
                this.hideLoading();
            }
        },

        // ==================== –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –¢–ï–õ–ï–§–û–ù–ê ====================
        openVerifyPhoneModal: function(phoneNumber) {
            this.closeAllModals();
            const modal = document.getElementById('verifyPhoneModal');
            if (modal) {
                const phoneInput = document.getElementById('verifyPhoneNumber');
                if (phoneInput && phoneNumber) phoneInput.value = phoneNumber;
                modal.classList.add('active');
            }
        },

        openSendCodeModal: function() {
            this.closeAllModals();
            const modal = document.getElementById('sendCodeModal');
            if (modal) modal.classList.add('active');
        },

        closeVerifyPhoneModal: function() {
            this.closeModal('verifyPhoneModal');
        },

        sendVerificationCode: async function(fromSendModal) {
            let phoneNumber;
            
            if (fromSendModal) {
                phoneNumber = document.getElementById('sendCodePhone').value;
                if (!phoneNumber) {
                    this.showNotification('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞', 'error');
                    return;
                }
            } else {
                phoneNumber = document.getElementById('verifyPhoneNumber').value;
            }
            
            if (!phoneNumber) {
                this.showNotification('–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
                return;
            }
            
            try {
                this.showLoading('–û—Ç–ø—Ä–∞–≤–∫–∞ SMS –∫–æ–¥–∞...');
                
                const response = await fetch(this.API_BASE_URL + '/api/auth/send-verification-code', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ phone: this.normalizePhone(phoneNumber) })
                });
                
                if (!response.ok) throw new Error('HTTP error! status: ' + response.status);
                
                const result = await response.json();
                if (!result.success) throw new Error(result.error || '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞');
                
                this.showNotification('–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!', 'success');
                
                if (fromSendModal) {
                    this.closeModal('sendCodeModal');
                    this.openVerifyPhoneModal(phoneNumber);
                }
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞:', error);
                this.showNotification(error.message, 'error');
            } finally {
                this.hideLoading();
            }
        },

        verifyPhoneCode: async function() {
            const phoneNumber = document.getElementById('verifyPhoneNumber').value;
            const code = document.getElementById('verifyPhoneCode').value;
            
            if (!phoneNumber || !code) {
                this.showNotification('–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è', 'error');
                return;
            }
            
            if (code.length !== 6) {
                this.showNotification('–ö–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 6 —Ü–∏—Ñ—Ä', 'error');
                return;
            }
            
            try {
                this.showLoading('–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞...');
                
                const response = await fetch(this.API_BASE_URL + '/api/auth/verify-phone', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': this.currentToken ? 'Bearer ' + this.currentToken : ''
                    },
                    body: JSON.stringify({
                        phone: this.normalizePhone(phoneNumber),
                        code: code
                    })
                });
                
                if (!response.ok) throw new Error('HTTP error! status: ' + response.status);
                
                const result = await response.json();
                if (!result.success) throw new Error(result.error || '–û—à–∏–±–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞');
                
                this.currentToken = result.data.token;
                this.currentUser = result.data.user;
                
                localStorage.setItem('token', this.currentToken);
                localStorage.setItem('currentUser', JSON.stringify(this.currentUser));
                
                this.showNotification('–¢–µ–ª–µ—Ñ–æ–Ω —É—Å–ø–µ—à–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω!', 'success');
                this.closeVerifyPhoneModal();
                
                if (this.currentUser) {
                    this.currentUser.phone_verified = true;
                    localStorage.setItem('currentUser', JSON.stringify(this.currentUser));
                    this.updateUserInterface();
                }
                
                if (this.currentUser && !this.currentUser.subscription_plan) {
                    this.showNotification('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!', 'success');
                    setTimeout(() => { this.navigateToPage('subscription'); }, 1000);
                } else if (this.currentUser && this.currentUser.subscription_status === 'active') {
                    this.showNotification('–ê–∫–∫–∞—É–Ω—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω!', 'success');
                    setTimeout(() => { this.navigateToPage('home'); }, 1000);
                } else {
                    this.showNotification('–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É', 'success');
                    setTimeout(() => { this.navigateToPage('subscription'); }, 1000);
                }
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞:', error);
                this.showNotification(error.message, 'error');
            } finally {
                this.hideLoading();
            }
        },

        // ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        logout: function() {
            localStorage.removeItem('token');
            localStorage.removeItem('currentUser');
            this.currentToken = null;
            this.currentUser = null;
            this.updateUserInterface();
            this.showNotification('–í—ã —É—Å–ø–µ—à–Ω–æ –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã', 'success');
            this.navigateToPage('auth');
            this.closeUserMenu();
        },

        formatNumber: function(num) {
            if (!num && num !== 0) return '0';
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
        },

        showLoading: function(message) {
            const loadingEl = document.createElement('div');
            loadingEl.id = 'globalLoading';
            loadingEl.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.9); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 9999;';
            loadingEl.innerHTML = '<div class="spinner"></div><p style="margin-top: 20px; color: var(--graphite-dark);">' + (message || '–ó–∞–≥—Ä—É–∑–∫–∞...') + '</p>';
            document.body.appendChild(loadingEl);
        },

        hideLoading: function() {
            const loadingEl = document.getElementById('globalLoading');
            if (loadingEl) loadingEl.remove();
        },

        toggleUserMenu: function() {
            const menu = document.getElementById('userMenu');
            if (menu) {
                menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
            }
        },

        closeUserMenu: function() {
            const menu = document.getElementById('userMenu');
            if (menu) menu.style.display = 'none';
        },

        // ==================== –ß–ê–¢ –ü–û–î–î–ï–†–ñ–ö–ò ====================
        supportChat: {
            messages: [],
            pollInterval: null,
            
            init: function() {
                if (app.currentUser) {
                    this.loadMessages();
                    this.startPolling();
                }
            },
            
            show: function() {
                app.closeAllModals();
                const modal = document.getElementById('supportChatModal');
                if (modal) {
                    modal.classList.add('active');
                    this.loadMessages();
                    setTimeout(function() {
                        const input = document.getElementById('supportMessageInput');
                        if (input) input.focus();
                    }, 300);
                }
            },
            
            close: function() {
                const modal = document.getElementById('supportChatModal');
                if (modal) {
                    modal.classList.remove('active');
                }
            },
            
            loadMessages: async function() {
                try {
                    if (!app.currentUser) return;
                    
                    const response = await app.fetchWithAuth(app.API_BASE_URL + '/api/support/messages');
                    if (response && response.ok) {
                        const result = await response.json();
                        if (result.success) {
                            this.messages = result.data.messages;
                            this.renderMessages();
                        }
                    }
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏:', error);
                }
            },
            
            sendMessage: async function() {
                const input = document.getElementById('supportMessageInput');
                const message = input.value.trim();
                
                if (!message || !app.currentUser) return;
                
                try {
                    const response = await app.fetchWithAuth(app.API_BASE_URL + '/api/support/messages', {
                        method: 'POST',
                        body: JSON.stringify({ message: message })
                    });
                    
                    if (response && response.ok) {
                        const result = await response.json();
                        if (result.success) {
                            this.messages.push(result.data.message);
                            this.renderMessages();
                            input.value = '';
                            const container = document.getElementById('supportChatMessages');
                            if (container) {
                                container.scrollTop = container.scrollHeight;
                            }
                        }
                    }
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è:', error);
                    app.showNotification('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è', 'error');
                }
            },
            
            renderMessages: function() {
                const container = document.getElementById('supportChatMessages');
                if (!container) return;
                
                if (this.messages.length === 0) {
                    container.innerHTML = '<div style="text-align: center; padding: 40px 20px; color: var(--graphite-medium);">' +
                        '<i class="fas fa-comments" style="font-size: 2rem; opacity: 0.3; margin-bottom: 16px;"></i>' +
                        '<p>–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º, –∏ –º—ã –æ—Ç–≤–µ—Ç–∏–º –≤–∞–º –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è</p>' +
                    '</div>';
                    return;
                }
                
                let html = '';
                this.messages.forEach(function(msg) {
                    const isUser = msg.sender_type === 'user';
                    const time = new Date(msg.created_at).toLocaleTimeString('ru-RU', {hour: '2-digit', minute:'2-digit'});
                    
                    html += '<div class="support-message ' + (isUser ? 'user' : 'support') + '">';
                    if (!isUser) {
                        html += '<div class="support-message-sender">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div>';
                    }
                    html += '<div>' + msg.message + '</div>' +
                           '<div class="support-message-time">' + time + '</div>' +
                        '</div>';
                });
                
                container.innerHTML = html;
                container.scrollTop = container.scrollHeight;
            },
            
            startPolling: function() {
                if (this.pollInterval) {
                    clearInterval(this.pollInterval);
                }
                
                this.pollInterval = setInterval(() => {
                    if (app.currentUser) {
                        this.loadMessages();
                    }
                }, 30000);
            },
            
            stopPolling: function() {
                if (this.pollInterval) {
                    clearInterval(this.pollInterval);
                    this.pollInterval = null;
                }
            }
        },

        showSupportChat: function() {
            if (!this.currentUser) {
                this.showNotification('–î–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É', 'warning');
                this.showLoginModal();
                return;
            }
            this.supportChat.show();
        },

        closeSupportChat: function() {
            this.supportChat.close();
        },

        sendSupportMessage: function() {
            this.supportChat.sendMessage();
        },

        // ==================== –î–û–ö–£–ú–ï–ù–¢–´ ====================
        documents: {
            offer: {
                title: '–ü—É–±–ª–∏—á–Ω–∞—è –æ—Ñ–µ—Ä—Ç–∞',
                content: `
                    <h4>–î–û–ì–û–í–û–†-–û–§–ï–†–¢–ê</h4>
                    <p><strong>–≥. –ú–æ—Å–∫–≤–∞</strong></p>
                    <p>–ù–∞—Å—Ç–æ—è—â–∏–π –¥–æ–∫—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º (–ø—É–±–ª–∏—á–Ω–æ–π –æ—Ñ–µ—Ä—Ç–æ–π) –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—è –ò–≤–∞–Ω–æ–≤–∞ –ò.–ò. (–¥–∞–ª–µ–µ ‚Äî ¬´–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å¬ª) –∑–∞–∫–ª—é—á–∏—Ç—å –î–æ–≥–æ–≤–æ—Ä –Ω–∞ –æ–∫–∞–∑–∞–Ω–∏–µ —É—Å–ª—É–≥ —Å–µ—Ä–≤–∏—Å–∞ ¬´WOMAN HELP¬ª –Ω–∞ –∏–∑–ª–æ–∂–µ–Ω–Ω—ã—Ö –Ω–∏–∂–µ —É—Å–ª–æ–≤–∏—è—Ö.</p>
                `
            },
            
            privacy: {
                title: '–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏',
                content: `
                    <h4>–ü–û–õ–ò–¢–ò–ö–ê –ö–û–ù–§–ò–î–ï–ù–¶–ò–ê–õ–¨–ù–û–°–¢–ò</h4>
                    <h5>1. –û–ë–©–ò–ï –ü–û–õ–û–ñ–ï–ù–ò–Ø</h5>
                    <p>1.1. –ù–∞—Å—Ç–æ—è—â–∞—è –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∑–∞—â–∏—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–µ—Ä–≤–∏—Å–∞ ¬´WOMAN HELP¬ª.</p>
                `
            },
            
            refund: {
                title: '–ü–æ–ª–∏—Ç–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤',
                content: `
                    <h4>–ü–û–õ–ò–¢–ò–ö–ê –í–û–ó–í–†–ê–¢–ê –°–†–ï–î–°–¢–í</h4>
                    <h5>1. –û–ë–©–ò–ï –ü–û–õ–û–ñ–ï–ù–ò–Ø</h5>
                    <p>1.1. –ù–∞—Å—Ç–æ—è—â–∞—è –ü–æ–ª–∏—Ç–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É—Å–ª–æ–≤–∏—è –∏ –ø–æ—Ä—è–¥–æ–∫ –≤–æ–∑–≤—Ä–∞—Ç–∞ –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –∑–∞ —É—Å–ª—É–≥–∏ —Å–µ—Ä–≤–∏—Å–∞ ¬´WOMAN HELP¬ª.</p>
                `
            }
        },

        showDocumentModal: function(documentType) {
            const doc = this.documents[documentType];
            if (!doc) return;
            
            const modal = document.getElementById('documentModal');
            if (!modal) return;
            
            const title = document.getElementById('documentTitle');
            const content = document.getElementById('documentContent');
            
            if (title) title.textContent = doc.title;
            if (content) content.innerHTML = doc.content;
            
            modal.classList.add('active');
        },

        closeDocumentModal: function() {
            const modal = document.getElementById('documentModal');
            if (modal) {
                modal.classList.remove('active');
            }
        },

        // ==================== –ü–û–ü-–ê–ü –û–ö–ù–û –ó–ê–î–ê–ß ====================
        showTasksPopup: function() {
            this.closeUserMenu();
            const modal = document.getElementById('tasksPopupModal');
            if (modal) {
                modal.style.display = 'flex';
                this.loadPopupTasks();
            }
        },

        closeTasksPopup: function() {
            const modal = document.getElementById('tasksPopupModal');
            if (modal) modal.style.display = 'none';
        },

        loadPopupTasks: async function() {
            try {
                const container = document.getElementById('popupTasksList');
                if (!container) return;
                
                container.innerHTML = '<div style="text-align: center; padding: 20px;"><div class="spinner"></div><p>–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞—á...</p></div>';
                await this.loadUserTasks(this.currentTaskFilter);
                this.renderPopupTasks();
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞—á –¥–ª—è –ø–æ–ø-–∞–ø:', error);
                const container = document.getElementById('popupTasksList');
                if (container) {
                    container.innerHTML = '<div style="text-align: center; padding: 40px;">' +
                        '<i class="fas fa-exclamation-circle" style="font-size: 2rem; color: var(--graphite-light); margin-bottom: 16px;"></i>' +
                        '<p style="color: var(--graphite-medium);">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞—á</p>' +
                    '</div>';
                }
            }
        },

        renderPopupTasks: function() {
            const container = document.getElementById('popupTasksList');
            if (!container || !this.userTasks) return;
            
            if (this.userTasks.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 40px;">' +
                    '<i class="fas fa-tasks" style="font-size: 2rem; color: var(--graphite-light); margin-bottom: 16px;"></i>' +
                    '<p style="color: var(--graphite-medium); margin-bottom: 20px;">–ó–∞–¥–∞—á –ø–æ–∫–∞ –Ω–µ—Ç</p>' +
                    '<button class="btn btn-primary" onclick="app.closeTasksPopup(); app.checkSubscription();">' +
                        '<i class="fas fa-plus"></i>' +
                        '–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É' +
                    '</button>' +
                '</div>';
                return;
            }
            
            container.innerHTML = '';
            this.userTasks.forEach((task) => {
                const taskElement = document.createElement('div');
                taskElement.className = 'task-quick-item';
                taskElement.onclick = () => {
                    this.closeTasksPopup();
                    this.showTaskDetailsCompact(task.id);
                };
                
                taskElement.innerHTML = '<div class="task-quick-header">' +
                    '<div class="task-quick-title">' + task.title + '</div>' +
                    '<span class="status-badge status-' + task.status + '">' + this.getStatusText(task.status) + '</span>' +
                '</div>' +
                '<div class="task-quick-info">' +
                    '<i class="fas fa-tag"></i> ' + (task.category_name || '') +
                '</div>' +
                '<div class="task-quick-date">' +
                    '<i class="far fa-calendar"></i> ' + new Date(task.created_at).toLocaleDateString('ru-RU') +
                '</div>';
                container.appendChild(taskElement);
            });
        },

        // ==================== –ì–ê–ô–î–´ ====================
        showGuide: function(guideId) {
            const guides = {
                'getting-started': {
                    title: '–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã',
                    content: '<h3>–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É:</h3>' +
                        '<ol>' +
                            '<li>–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</li>' +
                            '<li>–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é –ø–æ–¥–ø–∏—Å–∫—É</li>' +
                            '<li>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–£—Å–ª—É–≥–∏" –∏–ª–∏ "–í—Å–µ —É—Å–ª—É–≥–∏"</li>' +
                            '<li>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —É—Å–ª—É–≥—É</li>' +
                            '<li>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏</li>' +
                            '<li>–ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É"</li>' +
                        '</ol>' +
                        '<div class="mt-20">' +
                            '<button class="btn btn-primary" onclick="app.navigateToPage(\'all-services\')">' +
                                '<i class="fas fa-play-circle"></i>' +
                                '–ù–∞—á–∞—Ç—å —Å–µ–π—á–∞—Å' +
                            '</button>' +
                        '</div>'
                },
                'tips': {
                    title: '–°–æ–≤–µ—Ç—ã –ø–æ –∑–∞–¥–∞—á–∞–º',
                    content: '<h3>–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø–∏—Å–∞—Ç—å –∑–∞–¥–∞—á—É:</h3>' +
                        '<ul>' +
                            '<li><strong>–ë—É–¥—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã:</strong> –ß–µ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–µ–º —Ç–æ—á–Ω–µ–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –ø–æ–π–º–µ—Ç –≤–∞—à–∏ –æ–∂–∏–¥–∞–Ω–∏—è</li>' +
                        '</ul>'
                },
                'safety': {
                    title: '–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å',
                    content: '<h3>–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</h3>' +
                        '<ul>' +
                            '<li><strong>–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–µ–π—Ç–∏–Ω–≥:</strong> –í—ã–±–∏—Ä–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü —Å –≤—ã—Å–æ–∫–∏–º —Ä–µ–π—Ç–∏–Ω–≥–æ–º –∏ –æ—Ç–∑—ã–≤–∞–º–∏</li>' +
                        '</ul>'
                }
            };

            if (guides[guideId]) {
                const guide = guides[guideId];
                const modal = document.createElement('div');
                modal.className = 'modal';
                modal.id = 'guideModal';
                modal.innerHTML = '<div class="modal-content" style="max-width: 600px; max-height: 80vh; overflow-y: auto;">' +
                    '<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">' +
                        '<h3 class="modal-title">' + guide.title + '</h3>' +
                        '<button class="close-popup-btn" onclick="app.closeGuideModal()">' +
                            '<i class="fas fa-times"></i>' +
                        '</button>' +
                    '</div>' +
                    '<div style="margin-bottom: 20px;">' + guide.content + '</div>' +
                    '<button class="btn btn-primary" onclick="app.closeGuideModal()" style="width: 100%;">' +
                        '<i class="fas fa-check"></i>' +
                        '–ó–∞–∫—Ä—ã—Ç—å' +
                    '</button>' +
                '</div>';
                document.body.appendChild(modal);
                modal.style.display = 'flex';
            }
        },

        closeGuideModal: function() {
            const modal = document.getElementById('guideModal');
            if (modal) modal.remove();
        },

        // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–û–ò–°–ö–ê ====================
        initSearchFunctionality: function() {
            document.addEventListener('click', (event) => {
                const autocomplete = document.getElementById('searchAutocomplete');
                const searchInput = document.getElementById('serviceSearch');
                
                if (autocomplete && searchInput) {
                    if (!autocomplete.contains(event.target) && !searchInput.contains(event.target)) {
                        autocomplete.style.display = 'none';
                    }
                }
            });
            
            const searchInput = document.getElementById('serviceSearch');
            if (searchInput) {
                searchInput.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        const autocomplete = document.getElementById('searchAutocomplete');
                        if (autocomplete) autocomplete.style.display = 'none';
                    }
                });
            }
        },

        // ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ü–†–û–§–ò–õ–Ø –í –®–ê–ü–ö–ï ====================
        updateProfileInHeader: function() {
            const userAvatar = document.getElementById('userAvatar');
            const menuUserName = document.getElementById('menuUserName');
            const menuUserEmail = document.getElementById('menuUserEmail');
            const loginMenuBtn = document.getElementById('loginMenuBtn');
            const logoutMenuBtn = document.getElementById('logoutMenuBtn');
            const supportMenuBtn = document.getElementById('supportMenuBtn');
            
            if (this.currentUser) {
                if (userAvatar) {
                    userAvatar.style.display = 'flex';
                    
                    if (this.currentUser.avatar_url) {
                        const avatarUrl = this.getImageUrl(this.currentUser.avatar_url, 'user');
                        const avatarImg = userAvatar.querySelector('img');
                        if (avatarImg) {
                            avatarImg.src = avatarUrl;
                            avatarImg.onerror = function() {
                                avatarImg.style.display = 'none';
                                userAvatar.textContent = app.currentUser.first_name?.charAt(0).toUpperCase() || '–ì';
                            };
                        }
                    } else {
                        const firstLetter = this.currentUser.first_name?.charAt(0).toUpperCase() || '–ì';
                        userAvatar.textContent = firstLetter;
                    }
                }
                
                if (menuUserName) menuUserName.textContent = this.currentUser.first_name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
                if (menuUserEmail) menuUserEmail.textContent = this.currentUser.email || this.currentUser.phone || '';
                
                if (loginMenuBtn) loginMenuBtn.style.display = 'none';
                if (logoutMenuBtn) logoutMenuBtn.style.display = 'block';
                if (supportMenuBtn) supportMenuBtn.style.display = 'block';
                
            } else {
                if (userAvatar) userAvatar.style.display = 'none';
                if (menuUserName) menuUserName.textContent = '–ì–æ—Å—Ç—å';
                if (menuUserEmail) menuUserEmail.textContent = '';
                
                if (loginMenuBtn) loginMenuBtn.style.display = 'block';
                if (logoutMenuBtn) logoutMenuBtn.style.display = 'none';
                if (supportMenuBtn) supportMenuBtn.style.display = 'none';
            }
        },

        // ==================== –ü–†–ï–î–í–ê–†–ò–¢–ï–õ–¨–ù–ê–Ø –ó–ê–ì–†–£–ó–ö–ê –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô ====================
        preloadImages: function() {
            const logoUrl = this.createSvgFallback('logo');
            const logoImg = new Image();
            logoImg.src = logoUrl;
            
            const types = ['category', 'service', 'user'];
            types.forEach(type => {
                const img = new Image();
                img.src = this.createSvgFallback(type);
            });
        },

        // ==================== –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ó–ê–ì–†–£–ó–ö–ò –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô ====================
        setupLazyLoading: function() {
            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            if (img.dataset.src) {
                                img.src = img.dataset.src;
                                img.removeAttribute('data-src');
                            }
                            observer.unobserve(img);
                        }
                    });
                }, {
                    rootMargin: '50px 0px',
                    threshold: 0.01
                });
                
                document.querySelectorAll('img[data-src]').forEach(img => {
                    imageObserver.observe(img);
                });
            }
        },

        // ==================== –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê ====================
        showLoginModal: function() {
            this.closeAllModals();
            const modal = document.getElementById('loginModal');
            if (modal) modal.classList.add('active');
            this.closeUserMenu();
        },

        showRegisterModal: function() {
            this.closeAllModals();
            const modal = document.getElementById('registerModal');
            if (modal) modal.classList.add('active');
        },

        showForgotPasswordModal: function() {
            this.closeAllModals();
            const modal = document.getElementById('forgotPasswordModal');
            if (modal) modal.classList.add('active');
        },

        showResetPasswordModal: function() {
            this.closeAllModals();
            const modal = document.getElementById('resetPasswordModal');
            if (modal) modal.classList.add('active');
        },

        closeModal: function(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) modal.classList.remove('active');
        },

        closeAllModals: function() {
            document.querySelectorAll('.modal').forEach(function(modal) {
                modal.classList.remove('active');
            });
        },

        // ==================== –ù–ê–í–ò–ì–ê–¶–ò–Ø ====================
        navigateToPage: function(pageId) {
            document.querySelectorAll('.page').forEach(function(page) {
                page.classList.remove('active');
            });
            
            const targetPage = document.getElementById(pageId + '-page');
            if (targetPage) {
                targetPage.classList.add('active');
                
                document.querySelectorAll('.nav-item').forEach(function(item) {
                    item.classList.remove('active');
                    if (item.getAttribute('data-page') === pageId) {
                        item.classList.add('active');
                    }
                });
                
                switch(pageId) {
                    case 'home': 
                        this.loadHomePage(); 
                        break;
                    case 'all-services': 
                        if (this.currentCategoryId && this.selectedCategory && this.services) {
                            this.renderServicesForCategory(this.selectedCategory);
                        } else {
                            this.loadAllServicesPage(); 
                        }
                        break;
                    case 'all-categories': 
                        this.loadAllCategoriesPage(); 
                        break;
                    case 'profile': 
                        this.loadUserProfile(); 
                        break;
                    case 'tasks': 
                        this.loadUserTasks('all'); 
                        break;
                    case 'subscription': 
                        this.loadSubscriptionPage(); 
                        break;
                    case 'guides': 
                        break;
                }
                
                const userMenu = document.getElementById('userMenu');
                if (userMenu && userMenu.style.display === 'block') {
                    userMenu.style.display = 'none';
                }
                
                const autocomplete = document.getElementById('searchAutocomplete');
                if (autocomplete) autocomplete.style.display = 'none';
            }
        },

        // ==================== –§–ò–õ–¨–¢–†–ê–¶–ò–Ø –ö–ê–¢–ï–ì–û–†–ò–ô ====================
        filterCategories: function() {
            const searchInput = document.getElementById('categorySearch');
            if (!searchInput) return;
            
            const searchTerm = searchInput.value.toLowerCase().trim();
            const container = document.getElementById('allCategoriesList');
            
            if (!container || !this.categories) return;
            
            if (searchTerm.length < 2) {
                this.renderAllCategories();
                return;
            }
            
            const filteredCategories = this.categories.filter(category => {
                return category.display_name.toLowerCase().includes(searchTerm) || 
                       category.description.toLowerCase().includes(searchTerm);
            });
            
            if (filteredCategories.length === 0) {
                container.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 40px;">' +
                    '<i class="fas fa-exclamation-circle" style="font-size: 3rem; color: var(--graphite-light); margin-bottom: 20px;"></i>' +
                    '<p style="color: var(--graphite-medium);">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>' +
                '</div>';
                return;
            }
            
            container.innerHTML = '<div style="grid-column: 1 / -1; margin-bottom: 20px;">' +
                '<h3 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 10px;">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞</h3>' +
                '<p style="color: var(--graphite-medium);">–ù–∞–π–¥–µ–Ω–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π: ' + filteredCategories.length + '</p>' +
            '</div>';
            
            filteredCategories.forEach((category) => {
                const card = document.createElement('div');
                card.className = 'category-card-main-style';
                card.onclick = () => { 
                    this.selectCategoryForServices(category);
                };
                
                const imageUrl = this.getImageUrl(category.image_url, 'category');
                
                card.innerHTML = `
                    <div class="category-image-main">
                        <img src="${imageUrl}" 
                             alt="${category.display_name}"
                             loading="lazy"
                             onerror="this.onerror=null; this.src='${this.createSvgFallback('category')}';"
                             style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                    </div>
                    <h3>${category.display_name}</h3>
                    <div class="category-description-main">${category.description}</div>
                    <div class="category-card-footer">
                        <span style="display: flex; align-items: center; gap: 4px;">
                            <i class="fas fa-list"></i>
                            ${category.services_count || 0} —É—Å–ª—É–≥
                        </span>
                        <span style="display: flex; align-items: center; gap: 4px;">
                            –í—ã–±—Ä–∞—Ç—å <i class="fas fa-arrow-right"></i>
                        </span>
                    </div>
                `;
                
                container.appendChild(card);
            });
        },

        // ==================== –°–û–•–†–ê–ù–ï–ù–ò–ï –ù–ê–°–¢–†–û–ï–ö ====================
        saveSettings: function() {
            try {
                const settings = {
                    notifyEmail: document.getElementById('notifyEmail').checked,
                    notifySMS: document.getElementById('notifySMS').checked,
                    notifyPush: document.getElementById('notifyPush').checked,
                    privacyProfile: document.getElementById('privacyProfile').checked,
                    privacyTasks: document.getElementById('privacyTasks').checked
                };
                
                localStorage.setItem('userSettings', JSON.stringify(settings));
                this.showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã', 'success');
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫:', error);
                this.showNotification('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫', 'error');
            }
        },

        loadSettings: function() {
            try {
                const savedSettings = localStorage.getItem('userSettings');
                if (savedSettings) {
                    const settings = JSON.parse(savedSettings);
                    
                    if (document.getElementById('notifyEmail')) {
                        document.getElementById('notifyEmail').checked = settings.notifyEmail;
                    }
                    if (document.getElementById('notifySMS')) {
                        document.getElementById('notifySMS').checked = settings.notifySMS;
                    }
                    if (document.getElementById('notifyPush')) {
                        document.getElementById('notifyPush').checked = settings.notifyPush;
                    }
                    if (document.getElementById('privacyProfile')) {
                        document.getElementById('privacyProfile').checked = settings.privacyProfile;
                    }
                    if (document.getElementById('privacyTasks')) {
                        document.getElementById('privacyTasks').checked = settings.privacyTasks;
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫:', error);
            }
        },

        // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø ====================
        init: async function() {
            try {
                console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...');
                
                await this.loadLogo();
                
                this.animateCounters();
                
                await Promise.all([
                    this.loadCategories(),
                    this.loadAllServices(),
                    this.loadSubscriptions()
                ]);
                
                this.setupDefaultImages();
                this.setupLazyLoading();
                this.preloadImages();
                
                this.setupEventListeners();
                this.initSearchFunctionality();
                
                this.determineInitialScreen();
                
                this.updateProfileInHeader();
                this.updateUserInterface();
                
                this.loadSettings();
                
                this.supportChat.init();
                
                if (this.currentUser) {
                    setTimeout(() => {
                        this.loadUserTasks('all');
                    }, 500);
                }
                
                const deadlineInput = document.getElementById('taskDeadline');
                if (deadlineInput) {
                    const tomorrow = new Date();
                    tomorrow.setDate(tomorrow.getDate() + 1);
                    deadlineInput.min = new Date().toISOString().split('T')[0];
                    deadlineInput.value = tomorrow.toISOString().split('T')[0];
                }
                
                console.log('–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ');
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:', error);
                this.showNotification('–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è', 'error');
            }
        }
    };

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
            app.init();
        }, 100);
    });

    // –î–µ–ª–∞–µ–º app –≥–ª–æ–±–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º
    window.app = app;
</script>
</body>
</html>
