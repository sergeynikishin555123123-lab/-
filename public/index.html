<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>üå∏ –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂ | –ü—Ä–µ–º–∏—É–º —Å–µ—Ä–≤–∏—Å –¥–ª—è –∂–µ–Ω—â–∏–Ω</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ */
        :root {
            --ivory-bg: #F9F7F3;
            --graphite-dark: #3D3D3D;
            --graphite-medium: #5A5A5A;
            --graphite-light: #8A8A8A;
            --pastel-pink: #F2DDE6;
            --pink-light: #FAEFF5;
            --gold-metallic: #C5A880;
            --gold-dark: #A78B65;
            --lavender: #B9AFFF;
            --lavender-light: #E0DDFF;
            --aquamarine: #7FE0D1;
            --aqua-dark: #5AC8B7;
            --white: #FFFFFF;
            --success: #38B2AC;
            --warning: #ED8936;
            --error: #FC8181;
            --info: #4299E1;
            
            --shadow-sm: 0 2px 8px rgba(61, 61, 61, 0.05);
            --shadow: 0 4px 16px rgba(61, 61, 61, 0.08);
            --shadow-lg: 0 8px 32px rgba(61, 61, 61, 0.12);
            --shadow-xl: 0 20px 40px rgba(61, 61, 61, 0.15);
            
            --radius-sm: 8px;
            --radius: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --radius-full: 9999px;
            
            --transition-fast: 0.15s ease;
            --transition: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 0.4s ease;
            
            --sidebar-width: 280px;
            --header-height: 70px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--ivory-bg);
            color: var(--graphite-dark);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            font-weight: 400;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }
        
        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        .container-fluid {
            width: 100%;
            padding: 0 24px;
        }
        
        /* –®–∞–ø–∫–∞ */
        .app-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(61, 61, 61, 0.08);
            z-index: 1000;
            height: var(--header-height);
            padding: 0;
        }
        
        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
            padding: 0 24px;
        }
        
        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--graphite-dark);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 12px;
            letter-spacing: -0.5px;
        }
        
        .logo-icon {
            color: var(--gold-metallic);
            font-size: 1.8rem;
            animation: pulse 2s infinite;
        }
        
        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav-menu {
            display: flex;
            gap: 32px;
            align-items: center;
        }
        
        .nav-link {
            color: var(--graphite-medium);
            text-decoration: none;
            font-weight: 500;
            padding: 8px 0;
            position: relative;
            transition: var(--transition);
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--gold-metallic), var(--lavender));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease;
        }
        
        .nav-link:hover {
            color: var(--graphite-dark);
        }
        
        .nav-link:hover::after {
            transform: scaleX(1);
        }
        
        .nav-link.active {
            color: var(--graphite-dark);
            font-weight: 600;
        }
        
        .nav-link.active::after {
            transform: scaleX(1);
        }
        
        .nav-badge {
            background: var(--gold-metallic);
            color: white;
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: 4px;
        }
        
        /* –ú–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
        .user-menu-container {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-left: 20px;
        }
        
        .user-dropdown {
            position: relative;
        }
        
        .user-trigger {
            display: flex;
            align-items: center;
            gap: 10px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 6px 12px;
            border-radius: var(--radius);
            transition: var(--transition);
        }
        
        .user-trigger:hover {
            background: rgba(61, 61, 61, 0.03);
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--lavender-light), var(--pastel-pink));
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--graphite-dark);
            font-weight: 600;
            border: 2px solid rgba(255, 255, 255, 0.8);
            box-shadow: var(--shadow-sm);
            position: relative;
        }
        
        .user-avatar.status-online::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 10px;
            height: 10px;
            background: var(--success);
            border-radius: 50%;
            border: 2px solid white;
        }
        
        .user-info {
            text-align: left;
        }
        
        .user-name {
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .user-role {
            font-size: 0.8rem;
            color: var(--graphite-light);
        }
        
        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            right: 0;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            min-width: 220px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: var(--transition);
            z-index: 1001;
            border: 1px solid rgba(61, 61, 61, 0.08);
        }
        
        .dropdown-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 16px;
            color: var(--graphite-dark);
            text-decoration: none;
            transition: var(--transition);
            border-bottom: 1px solid rgba(61, 61, 61, 0.05);
        }
        
        .dropdown-item:hover {
            background: var(--pink-light);
        }
        
        .dropdown-item:last-child {
            border-bottom: none;
        }
        
        .dropdown-divider {
            height: 1px;
            background: rgba(61, 61, 61, 0.08);
            margin: 8px 0;
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.4rem;
            color: var(--graphite-dark);
            cursor: pointer;
            padding: 8px;
            z-index: 1001;
        }
        
        .mobile-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(61, 61, 61, 0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }
        
        .mobile-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .mobile-sidebar {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            width: 320px;
            background: white;
            z-index: 1000;
            transform: translateX(100%);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-xl);
        }
        
        .mobile-sidebar.active {
            transform: translateX(0);
        }
        
        .mobile-header {
            padding: 24px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.08);
        }
        
        .mobile-nav {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
        }
        
        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .main-content {
            margin-top: var(--header-height);
            min-height: calc(100vh - var(--header-height));
        }
        
        .page {
            display: none;
            animation: fadeIn 0.3s ease;
            padding-bottom: 80px;
        }
        
        .page.active {
            display: block;
        }
        
        /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ */
        .page-header {
            padding: 48px 0 32px;
            position: relative;
        }
        
        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.8rem;
            font-weight: 700;
            color: var(--graphite-dark);
            margin-bottom: 16px;
            line-height: 1.1;
            letter-spacing: -0.5px;
        }
        
        .section-subtitle {
            color: var(--graphite-medium);
            font-size: 1.1rem;
            max-width: 700px;
            margin-bottom: 8px;
        }
        
        /* –ë–µ–π–¥–∂–∏ */
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 12px;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .badge-primary {
            background: var(--gold-metallic);
            color: white;
        }
        
        .badge-secondary {
            background: var(--lavender-light);
            color: var(--graphite-dark);
        }
        
        .badge-success {
            background: rgba(56, 178, 172, 0.1);
            color: var(--success);
        }
        
        .badge-warning {
            background: rgba(237, 137, 54, 0.1);
            color: var(--warning);
        }
        
        .badge-error {
            background: rgba(252, 129, 129, 0.1);
            color: var(--error);
        }
        
        /* –°—Ç–∞—Ç—É—Å—ã */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: var(--radius-full);
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .status-new {
            background: rgba(252, 129, 129, 0.15);
            color: #D32F2F;
        }
        
        .status-search {
            background: rgba(237, 137, 54, 0.15);
            color: var(--warning);
        }
        
        .status-assigned {
            background: rgba(66, 153, 225, 0.15);
            color: var(--info);
        }
        
        .status-in-progress {
            background: rgba(197, 168, 128, 0.15);
            color: var(--gold-dark);
        }
        
        .status-completed {
            background: rgba(56, 178, 172, 0.15);
            color: var(--success);
        }
        
        .status-cancelled {
            background: rgba(61, 61, 61, 0.08);
            color: var(--graphite-medium);
        }
        
        /* –†–æ–ª–∏ */
        .role-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .role-client {
            background: rgba(242, 221, 230, 0.5);
            color: #C2185B;
        }
        
        .role-performer {
            background: rgba(66, 153, 225, 0.15);
            color: var(--info);
        }
        
        .role-admin {
            background: rgba(56, 178, 172, 0.15);
            color: var(--success);
        }
        
        .role-manager {
            background: rgba(237, 137, 54, 0.15);
            color: var(--warning);
        }
        
        .role-superadmin {
            background: rgba(185, 175, 255, 0.2);
            color: #6D28D9;
        }
        
        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 24px;
            border: none;
            border-radius: var(--radius);
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            position: relative;
            overflow: hidden;
        }
        
        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }
        
        .btn:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }
        
        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(50, 50);
                opacity: 0;
            }
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--gold-metallic), var(--gold-dark));
            color: white;
            box-shadow: 0 4px 12px rgba(197, 168, 128, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(197, 168, 128, 0.4);
        }
        
        .btn-primary:active {
            transform: translateY(0);
        }
        
        .btn-secondary {
            background: white;
            color: var(--graphite-dark);
            border: 2px solid rgba(61, 61, 61, 0.1);
        }
        
        .btn-secondary:hover {
            background: rgba(61, 61, 61, 0.02);
            border-color: var(--graphite-light);
            transform: translateY(-1px);
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--success), #2C9C95);
            color: white;
        }
        
        .btn-outline {
            background: transparent;
            color: var(--gold-metallic);
            border: 2px solid var(--gold-metallic);
        }
        
        .btn-outline:hover {
            background: rgba(197, 168, 128, 0.1);
        }
        
        .btn-sm {
            padding: 8px 16px;
            font-size: 0.85rem;
        }
        
        .btn-lg {
            padding: 16px 32px;
            font-size: 1.1rem;
        }
        
        .btn-full {
            width: 100%;
        }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
        .card {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            border: 1px solid rgba(61, 61, 61, 0.08);
            overflow: hidden;
        }
        
        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow);
            border-color: rgba(61, 61, 61, 0.15);
        }
        
        .card-header {
            padding: 20px 24px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.08);
        }
        
        .card-body {
            padding: 24px;
        }
        
        .card-footer {
            padding: 20px 24px;
            border-top: 1px solid rgba(61, 61, 61, 0.08);
            background: rgba(61, 61, 61, 0.02);
        }
        
        /* –°–µ—Ç–∫–∏ */
        .grid {
            display: grid;
            gap: 24px;
        }
        
        .grid-2 { grid-template-columns: repeat(2, 1fr); }
        .grid-3 { grid-template-columns: repeat(3, 1fr); }
        .grid-4 { grid-template-columns: repeat(4, 1fr); }
        .grid-5 { grid-template-columns: repeat(5, 1fr); }
        
        /* –§–æ—Ä–º—ã */
        .form-group {
            margin-bottom: 24px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--graphite-dark);
            font-size: 0.9rem;
        }
        
        .form-label .required {
            color: var(--error);
            margin-left: 2px;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 1.5px solid rgba(61, 61, 61, 0.1);
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
            background: white;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--gold-metallic);
            box-shadow: 0 0 0 3px rgba(197, 168, 128, 0.15);
        }
        
        .form-input.error {
            border-color: var(--error);
        }
        
        .form-input.success {
            border-color: var(--success);
        }
        
        .form-hint {
            font-size: 0.85rem;
            color: var(--graphite-light);
            margin-top: 6px;
        }
        
        .form-error {
            color: var(--error);
            font-size: 0.85rem;
            margin-top: 6px;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .form-row {
            display: flex;
            gap: 16px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        /* –°–µ–ª–µ–∫—Ç—ã */
        .select-wrapper {
            position: relative;
        }
        
        .select-wrapper::after {
            content: '‚åÑ';
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
            color: var(--graphite-medium);
        }
        
        .form-select {
            width: 100%;
            padding: 14px 16px;
            border: 1.5px solid rgba(61, 61, 61, 0.1);
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            background: white;
            appearance: none;
            cursor: pointer;
        }
        
        /* –ß–µ–∫–±–æ–∫—Å—ã –∏ —Ä–∞–¥–∏–æ–∫–Ω–æ–ø–∫–∏ */
        .checkbox-group, .radio-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }
        
        .checkbox-label, .radio-label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }
        
        .checkbox-custom, .radio-custom {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(61, 61, 61, 0.2);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .checkbox-custom::after {
            content: '‚úì';
            color: white;
            font-size: 12px;
            opacity: 0;
            transform: scale(0);
            transition: var(--transition);
        }
        
        .checkbox-input:checked + .checkbox-custom {
            background: var(--gold-metallic);
            border-color: var(--gold-metallic);
        }
        
        .checkbox-input:checked + .checkbox-custom::after {
            opacity: 1;
            transform: scale(1);
        }
        
        .radio-custom {
            border-radius: 50%;
        }
        
        .radio-custom::after {
            content: '';
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            opacity: 0;
            transform: scale(0);
            transition: var(--transition);
        }
        
        .radio-input:checked + .radio-custom {
            background: var(--gold-metallic);
            border-color: var(--gold-metallic);
        }
        
        .radio-input:checked + .radio-custom::after {
            opacity: 1;
            transform: scale(1);
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(61, 61, 61, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-slow);
        }
        
        .modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: white;
            border-radius: var(--radius-lg);
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-xl);
            animation: modalIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes modalIn {
            from { transform: scale(0.9) translateY(20px); opacity: 0; }
            to { transform: scale(1) translateY(0); opacity: 1; }
        }
        
        .modal-header {
            padding: 24px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.08);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--graphite-dark);
            font-weight: 600;
        }
        
        .modal-body {
            padding: 24px;
        }
        
        .modal-footer {
            padding: 24px;
            border-top: 1px solid rgba(61, 61, 61, 0.08);
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.2rem;
            color: var(--graphite-light);
            cursor: pointer;
            padding: 4px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            transition: var(--transition);
        }
        
        .modal-close:hover {
            background: rgba(61, 61, 61, 0.05);
            color: var(--graphite-dark);
        }
        
        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification-container {
            position: fixed;
            top: 100px;
            right: 24px;
            z-index: 3000;
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 400px;
        }
        
        .notification {
            background: white;
            border-radius: var(--radius);
            padding: 16px 20px;
            box-shadow: var(--shadow-lg);
            border-left: 4px solid var(--gold-metallic);
            animation: slideInRight 0.3s ease;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            max-width: 400px;
            transform: translateX(0);
            transition: transform 0.3s ease;
        }
        
        .notification.hiding {
            transform: translateX(100%);
        }
        
        .notification-icon {
            font-size: 1.2rem;
            margin-top: 2px;
        }
        
        .notification.success {
            border-left-color: var(--success);
        }
        
        .notification.error {
            border-left-color: var(--error);
        }
        
        .notification.warning {
            border-left-color: var(--warning);
        }
        
        .notification.info {
            border-left-color: var(--info);
        }
        
        .notification-content {
            flex: 1;
        }
        
        .notification-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .notification-message {
            font-size: 0.9rem;
            color: var(--graphite-medium);
        }
        
        .notification-close {
            background: none;
            border: none;
            color: var(--graphite-light);
            cursor: pointer;
            padding: 4px;
            font-size: 0.9rem;
        }
        
        /* –ó–∞–≥—Ä—É–∑–∫–∞ */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(4px);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 4000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }
        
        .loading-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .loader {
            width: 60px;
            height: 60px;
            border: 4px solid var(--pink-light);
            border-top: 4px solid var(--gold-metallic);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            margin-top: 20px;
            color: var(--graphite-dark);
            font-weight: 500;
        }
        
        /* –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(61, 61, 61, 0.1);
            border-radius: var(--radius-full);
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--lavender), var(--gold-metallic));
            border-radius: var(--radius-full);
            transition: width 0.5s ease;
        }
        
        /* –¢–∞–±—ã */
        .tabs {
            display: flex;
            border-bottom: 1px solid rgba(61, 61, 61, 0.1);
            margin-bottom: 32px;
            overflow-x: auto;
        }
        
        .tab {
            padding: 12px 24px;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--graphite-medium);
            cursor: pointer;
            transition: var(--transition);
            white-space: nowrap;
        }
        
        .tab:hover {
            color: var(--graphite-dark);
        }
        
        .tab.active {
            color: var(--graphite-dark);
            border-bottom-color: var(--gold-metallic);
            font-weight: 600;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* –ê–∫–∫–æ—Ä–¥–µ–æ–Ω */
        .accordion {
            border: 1px solid rgba(61, 61, 61, 0.08);
            border-radius: var(--radius);
            overflow: hidden;
        }
        
        .accordion-item {
            border-bottom: 1px solid rgba(61, 61, 61, 0.08);
        }
        
        .accordion-item:last-child {
            border-bottom: none;
        }
        
        .accordion-header {
            padding: 20px 24px;
            background: none;
            border: none;
            width: 100%;
            text-align: left;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            color: var(--graphite-dark);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition);
        }
        
        .accordion-header:hover {
            background: rgba(61, 61, 61, 0.02);
        }
        
        .accordion-icon {
            transition: transform 0.3s ease;
        }
        
        .accordion-header.active .accordion-icon {
            transform: rotate(180deg);
        }
        
        .accordion-content {
            padding: 0 24px;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .accordion-content.active {
            padding: 0 24px 20px;
            max-height: 1000px;
        }
        
        /* –†–µ–π—Ç–∏–Ω–≥ */
        .rating {
            display: flex;
            gap: 2px;
        }
        
        .rating-star {
            color: #E2E8F0;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .rating-star:hover {
            color: #F6AD55;
            transform: scale(1.2);
        }
        
        .rating-star.active {
            color: #F6AD55;
        }
        
        /* –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 32px 0;
        }
        
        .stat-card {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            text-align: center;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            border: 1px solid rgba(61, 61, 61, 0.08);
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }
        
        .stat-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--gold-metallic);
            margin-bottom: 8px;
        }
        
        .stat-label {
            color: var(--graphite-medium);
            font-size: 0.9rem;
        }
        
        /* –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥ */
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 24px;
            margin: 32px 0;
        }
        
        .category-card {
            background: white;
            border-radius: var(--radius);
            padding: 32px 24px;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid rgba(61, 61, 61, 0.05);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--lavender), var(--gold-metallic));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.4s ease;
        }
        
        .category-card:hover {
            transform: translateY(-6px);
            box-shadow: var(--shadow-lg);
            border-color: rgba(197, 168, 128, 0.2);
        }
        
        .category-card:hover::before {
            transform: scaleX(1);
        }
        
        .category-icon {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--graphite-dark);
            transition: var(--transition);
        }
        
        .category-card:hover .category-icon {
            transform: scale(1.1);
        }
        
        .category-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.4rem;
            margin-bottom: 12px;
            color: var(--graphite-dark);
        }
        
        .category-description {
            color: var(--graphite-medium);
            font-size: 0.95rem;
            line-height: 1.6;
        }
        
        /* –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á */
        .tasks-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .task-card {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            border: 1px solid rgba(61, 61, 61, 0.08);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
        }
        
        .task-card:hover {
            border-color: rgba(197, 168, 128, 0.3);
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }
        
        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        
        .task-title {
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--graphite-dark);
            margin-bottom: 4px;
        }
        
        .task-category {
            font-size: 0.9rem;
            color: var(--graphite-light);
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .task-body {
            margin-bottom: 20px;
        }
        
        .task-description {
            color: var(--graphite-medium);
            line-height: 1.6;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .task-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .task-meta {
            display: flex;
            gap: 16px;
        }
        
        .task-date, .task-price {
            font-size: 0.9rem;
            color: var(--graphite-medium);
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .task-actions {
            display: flex;
            gap: 8px;
        }
        
        /* –ß–∞—Ç */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 600px;
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            border: 1px solid rgba(61, 61, 61, 0.08);
        }
        
        .chat-header {
            padding: 20px 24px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.08);
            background: rgba(61, 61, 61, 0.02);
        }
        
        .chat-messages {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .message {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            position: relative;
            animation: fadeIn 0.3s ease;
        }
        
        .message.outgoing {
            background: linear-gradient(135deg, var(--lavender-light), #D0CBFE);
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }
        
        .message.incoming {
            background: rgba(61, 61, 61, 0.05);
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }
        
        .message-time {
            font-size: 0.75rem;
            color: var(--graphite-light);
            margin-top: 4px;
            text-align: right;
        }
        
        .chat-input-container {
            padding: 20px 24px;
            border-top: 1px solid rgba(61, 61, 61, 0.08);
            background: white;
        }
        
        .chat-input-wrapper {
            display: flex;
            gap: 12px;
        }
        
        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 1.5px solid rgba(61, 61, 61, 0.1);
            border-radius: var(--radius);
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            resize: none;
            min-height: 44px;
            max-height: 120px;
        }
        
        /* –ü–æ–¥–ø–∏—Å–∫–∏ */
        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 32px;
            margin: 48px 0;
        }
        
        .pricing-card {
            background: white;
            border-radius: var(--radius-lg);
            overflow: hidden;
            border: 2px solid rgba(61, 61, 61, 0.1);
            transition: var(--transition);
            position: relative;
        }
        
        .pricing-card.featured {
            border-color: var(--gold-metallic);
            transform: scale(1.02);
            box-shadow: var(--shadow-lg);
        }
        
        .pricing-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }
        
        .pricing-card.featured:hover {
            transform: translateY(-8px) scale(1.02);
        }
        
        .pricing-badge {
            position: absolute;
            top: 20px;
            right: -30px;
            background: var(--gold-metallic);
            color: white;
            padding: 6px 40px;
            transform: rotate(45deg);
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .pricing-header {
            padding: 40px 32px 32px;
            text-align: center;
            border-bottom: 1px solid rgba(61, 61, 61, 0.08);
        }
        
        .pricing-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--graphite-dark);
            margin-bottom: 12px;
        }
        
        .pricing-price {
            font-size: 3rem;
            font-weight: 700;
            color: var(--graphite-dark);
            margin-bottom: 8px;
        }
        
        .pricing-period {
            color: var(--graphite-light);
            font-size: 0.9rem;
        }
        
        .pricing-body {
            padding: 32px;
        }
        
        .pricing-features {
            list-style: none;
            margin-bottom: 32px;
        }
        
        .pricing-feature {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 16px;
            color: var(--graphite-medium);
        }
        
        .pricing-feature i {
            color: var(--success);
        }
        
        .pricing-footer {
            padding: 0 32px 40px;
            text-align: center;
        }
        
        /* –§—É—Ç–µ—Ä */
        .app-footer {
            background: white;
            border-top: 1px solid rgba(61, 61, 61, 0.08);
            padding: 60px 0 40px;
        }
        
        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 48px;
            max-width: 1400px;
            margin: 0 auto 48px;
            padding: 0 24px;
        }
        
        .footer-section h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: var(--graphite-dark);
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-link {
            margin-bottom: 12px;
        }
        
        .footer-link a {
            color: var(--graphite-medium);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .footer-link a:hover {
            color: var(--gold-metallic);
        }
        
        .copyright {
            text-align: center;
            padding-top: 40px;
            border-top: 1px solid rgba(61, 61, 61, 0.08);
            color: var(--graphite-light);
            font-size: 0.9rem;
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 24px 0;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1200px) {
            .grid-4 { grid-template-columns: repeat(3, 1fr); }
            .grid-5 { grid-template-columns: repeat(4, 1fr); }
        }
        
        @media (max-width: 992px) {
            .grid-3 { grid-template-columns: repeat(2, 1fr); }
            .grid-4 { grid-template-columns: repeat(2, 1fr); }
            .grid-5 { grid-template-columns: repeat(3, 1fr); }
            
            .section-title {
                font-size: 2.2rem;
            }
            
            .pricing-grid {
                grid-template-columns: 1fr;
                max-width: 500px;
                margin-left: auto;
                margin-right: auto;
            }
        }
        
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
            
            .nav-menu {
                display: none;
            }
            
            .grid-2, .grid-3, .grid-4, .grid-5 {
                grid-template-columns: 1fr;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .user-info {
                display: none;
            }
        }
        
        /* –£—Ç–∏–ª–∏—Ç—ã */
        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .text-left { text-align: left; }
        
        .mt-1 { margin-top: 0.5rem; }
        .mt-2 { margin-top: 1rem; }
        .mt-3 { margin-top: 1.5rem; }
        .mt-4 { margin-top: 2rem; }
        .mt-5 { margin-top: 3rem; }
        
        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 1.5rem; }
        .mb-4 { margin-bottom: 2rem; }
        .mb-5 { margin-bottom: 3rem; }
        
        .ml-1 { margin-left: 0.5rem; }
        .ml-2 { margin-left: 1rem; }
        .ml-3 { margin-left: 1.5rem; }
        .ml-4 { margin-left: 2rem; }
        .ml-5 { margin-left: 3rem; }
        
        .mr-1 { margin-right: 0.5rem; }
        .mr-2 { margin-right: 1rem; }
        .mr-3 { margin-right: 1.5rem; }
        .mr-4 { margin-right: 2rem; }
        .mr-5 { margin-right: 3rem; }
        
        .p-1 { padding: 0.5rem; }
        .p-2 { padding: 1rem; }
        .p-3 { padding: 1.5rem; }
        .p-4 { padding: 2rem; }
        .p-5 { padding: 3rem; }
        
        .hidden { display: none !important; }
        .block { display: block !important; }
        .inline-block { display: inline-block !important; }
        .flex { display: flex; }
        .inline-flex { display: inline-flex; }
        .grid { display: grid; }
        
        .items-center { align-items: center; }
        .items-start { align-items: flex-start; }
        .items-end { align-items: flex-end; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .justify-end { justify-content: flex-end; }
        
        .gap-1 { gap: 0.5rem; }
        .gap-2 { gap: 1rem; }
        .gap-3 { gap: 1.5rem; }
        .gap-4 { gap: 2rem; }
        .gap-5 { gap: 3rem; }
        
        .w-full { width: 100%; }
        .w-auto { width: auto; }
        .h-full { height: 100%; }
        .h-auto { height: auto; }
        
        .rounded { border-radius: var(--radius); }
        .rounded-lg { border-radius: var(--radius-lg); }
        .rounded-full { border-radius: var(--radius-full); }
        
        .shadow-sm { box-shadow: var(--shadow-sm); }
        .shadow { box-shadow: var(--shadow); }
        .shadow-lg { box-shadow: var(--shadow-lg); }
        
        .text-sm { font-size: 0.875rem; }
        .text-base { font-size: 1rem; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; }
        .text-2xl { font-size: 1.5rem; }
        .text-3xl { font-size: 1.875rem; }
        
        .font-light { font-weight: 300; }
        .font-normal { font-weight: 400; }
        .font-medium { font-weight: 500; }
        .font-semibold { font-weight: 600; }
        .font-bold { font-weight: 700; }
        
        .text-dark { color: var(--graphite-dark); }
        .text-medium { color: var(--graphite-medium); }
        .text-light { color: var(--graphite-light); }
        .text-gold { color: var(--gold-metallic); }
        .text-pink { color: var(--pastel-pink); }
        .text-lavender { color: var(--lavender); }
        .text-success { color: var(--success); }
        .text-warning { color: var(--warning); }
        .text-error { color: var(--error); }
        
        .bg-white { background: white; }
        .bg-light { background: var(--ivory-bg); }
        .bg-pink { background: var(--pastel-pink); }
        .bg-lavender { background: var(--lavender-light); }
        .bg-gold { background: var(--gold-metallic); }
        
        .overflow-hidden { overflow: hidden; }
        .overflow-auto { overflow: auto; }
        .overflow-y-auto { overflow-y: auto; }
        
        .cursor-pointer { cursor: pointer; }
        .cursor-default { cursor: default; }
        
        .transition { transition: var(--transition); }
        .transition-slow { transition: var(--transition-slow); }
        
        .z-1 { z-index: 1; }
        .z-10 { z-index: 10; }
        .z-100 { z-index: 100; }
        .z-1000 { z-index: 1000; }
        
        .relative { position: relative; }
        .absolute { position: absolute; }
        .fixed { position: fixed; }
        .sticky { position: sticky; }
        
        /* –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã */
        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, var(--gold-metallic), var(--lavender));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, var(--pink-light), var(--lavender-light));
        }
        
        .hover-lift:hover {
            transform: translateY(-4px);
            transition: var(--transition);
        }
        
        .animate-pulse {
            animation: pulse 2s infinite;
        }
        
        .animate-shimmer {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 1000px 100%;
            animation: shimmer 2s infinite;
        }
    </style>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <header class="app-header">
        <div class="header-container">
            <a href="#" class="logo" id="logoHome">
                <i class="fas fa-spa logo-icon"></i>
                –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂
            </a>
            
            <nav class="nav-menu" id="navMenu">
                <a href="#" class="nav-link active" data-page="home">
                    <i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è
                </a>
                <a href="#" class="nav-link" data-page="services">
                    <i class="fas fa-hands-helping"></i> –£—Å–ª—É–≥–∏
                </a>
                <a href="#" class="nav-link" data-page="subscriptions">
                    <i class="fas fa-crown"></i> –ü–æ–¥–ø–∏—Å–∫–∏
                    <span class="nav-badge">NEW</span>
                </a>
                <a href="#" class="nav-link" data-page="tasks">
                    <i class="fas fa-tasks"></i> –ú–æ–∏ –∑–∞–¥–∞—á–∏
                </a>
                <a href="#" class="nav-link" data-page="profile">
                    <i class="fas fa-user"></i> –ü—Ä–æ—Ñ–∏–ª—å
                </a>
            </nav>
            
            <div class="user-menu-container">
                <div class="user-dropdown" id="userDropdown">
                    <button class="user-trigger" id="userTrigger">
                        <div class="user-avatar status-online" id="userAvatar">
                            <span id="avatarInitials">–ì</span>
                        </div>
                        <div class="user-info">
                            <div class="user-name" id="userName">–ì–æ—Å—Ç—å</div>
                            <div class="user-role" id="userRole">–í–æ–π—Ç–∏</div>
                        </div>
                        <i class="fas fa-chevron-down text-sm"></i>
                    </button>
                    <div class="dropdown-menu" id="dropdownMenu">
                        <a href="#" class="dropdown-item" data-page="profile">
                            <i class="fas fa-user-circle"></i> –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
                        </a>
                        <a href="#" class="dropdown-item" data-page="tasks">
                            <i class="fas fa-tasks"></i> –ú–æ–∏ –∑–∞–¥–∞—á–∏
                        </a>
                        <a href="#" class="dropdown-item" id="btnNotifications">
                            <i class="fas fa-bell"></i> –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                            <span class="badge badge-primary ml-auto" id="notificationCount">3</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item" id="btnSettings">
                            <i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                        </a>
                        <a href="#" class="dropdown-item" id="btnHelp">
                            <i class="fas fa-question-circle"></i> –ü–æ–º–æ—â—å
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item text-error" id="btnLogout">
                            <i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏
                        </a>
                    </div>
                </div>
                
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>
    
    <!-- –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é -->
    <div class="mobile-overlay" id="mobileOverlay"></div>
    <div class="mobile-sidebar" id="mobileSidebar">
        <div class="mobile-header">
            <div class="flex justify-between items-center">
                <div class="logo">
                    <i class="fas fa-spa logo-icon"></i>
                    –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂
                </div>
                <button class="modal-close" id="mobileCloseBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="mobile-nav">
            <div class="flex flex-col gap-4">
                <a href="#" class="nav-link active" data-page="home">
                    <i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è
                </a>
                <a href="#" class="nav-link" data-page="services">
                    <i class="fas fa-hands-helping"></i> –£—Å–ª—É–≥–∏
                </a>
                <a href="#" class="nav-link" data-page="subscriptions">
                    <i class="fas fa-crown"></i> –ü–æ–¥–ø–∏—Å–∫–∏
                    <span class="nav-badge">NEW</span>
                </a>
                <a href="#" class="nav-link" data-page="tasks">
                    <i class="fas fa-tasks"></i> –ú–æ–∏ –∑–∞–¥–∞—á–∏
                </a>
                <a href="#" class="nav-link" data-page="profile">
                    <i class="fas fa-user"></i> –ü—Ä–æ—Ñ–∏–ª—å
                </a>
                <div class="dropdown-divider my-4"></div>
                <a href="#" class="nav-link" id="mobileNotifications">
                    <i class="fas fa-bell"></i> –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                    <span class="badge badge-primary ml-auto">3</span>
                </a>
                <a href="#" class="nav-link" id="mobileSettings">
                    <i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                </a>
                <a href="#" class="nav-link" id="mobileHelp">
                    <i class="fas fa-question-circle"></i> –ü–æ–º–æ—â—å
                </a>
            </div>
        </div>
    </div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="main-content">
        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <section id="page-home" class="page active">
            <div class="container-fluid">
                <!-- –ì–µ—Ä–æ–π —Å–µ–∫—Ü–∏—è -->
                <div class="gradient-bg rounded-2xl mb-8 mt-4">
                    <div class="container py-16">
                        <div class="grid grid-2 items-center gap-12">
                            <div>
                                <h1 class="section-title mb-4">
                                    –ü–æ–º–æ—â—å, –∫–æ—Ç–æ—Ä–∞—è 
                                    <span class="gradient-text">–∑–∞–±–æ—Ç–∏—Ç—Å—è</span> –æ –≤–∞—Å
                                </h1>
                                <p class="section-subtitle mb-8">
                                    –ë—ã—Ç–æ–≤—ã–µ –∑–∞–¥–∞—á–∏, –∑–∞–±–æ—Ç–∞ –æ —Å–µ–±–µ, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–º–æ—â–Ω–∏—Ü—ã –≤–æ–∑—å–º—É—Ç –Ω–∞ —Å–µ–±—è –≤—Å—ë, —á—Ç–æ–±—ã —É –≤–∞—Å –±—ã–ª–æ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è —Å–µ–±—è.
                                </p>
                                <div class="flex gap-4">
                                    <button class="btn btn-primary btn-lg" onclick="navigate('services')">
                                        <i class="fas fa-plus-circle"></i> –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
                                    </button>
                                    <button class="btn btn-outline btn-lg" onclick="navigate('subscriptions')">
                                        <i class="fas fa-crown"></i> –í—ã–±—Ä–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
                                    </button>
                                </div>
                            </div>
                            <div class="relative">
                                <div class="card p-6 shadow-xl">
                                    <div class="grid grid-3 gap-4">
                                        <div class="stat-card">
                                            <div class="stat-value">2,500+</div>
                                            <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á</div>
                                        </div>
                                        <div class="stat-card">
                                            <div class="stat-value">98%</div>
                                            <div class="stat-label">–î–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–∫</div>
                                        </div>
                                        <div class="stat-card">
                                            <div class="stat-value">50+</div>
                                            <div class="stat-label">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–æ–º–æ—â–Ω–∏—Ü</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç -->
                <div class="container mb-16">
                    <div class="text-center mb-12">
                        <h2 class="section-title mb-4">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
                        <p class="section-subtitle">4 –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–∞ –∫ —Ä–µ—à–µ–Ω–∏—é –≤–∞—à–∏—Ö –∑–∞–¥–∞—á</p>
                    </div>
                    <div class="grid grid-4 gap-8">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gold rounded-full flex items-center justify-center text-white text-2xl mb-4 mx-auto">
                                1
                            </div>
                            <h3 class="text-lg font-semibold mb-2">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</h3>
                            <p class="text-medium">–í—ã–±–µ—Ä–∏—Ç–µ –∏–∑ 20+ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ–º–æ—â–∏</p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-lavender rounded-full flex items-center justify-center text-white text-2xl mb-4 mx-auto">
                                2
                            </div>
                            <h3 class="text-lg font-semibold mb-2">–û–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É</h3>
                            <p class="text-medium">–£–∫–∞–∂–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è</p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-pink rounded-full flex items-center justify-center text-white text-2xl mb-4 mx-auto">
                                3
                            </div>
                            <h3 class="text-lg font-semibold mb-2">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–º–æ—â–Ω–∏—Ü—É</h3>
                            <p class="text-medium">–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–∫ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ª—É—á—à—É—é</p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-success rounded-full flex items-center justify-center text-white text-2xl mb-4 mx-auto">
                                4
                            </div>
                            <h3 class="text-lg font-semibold mb-2">–ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h3>
                            <p class="text-medium">–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∏ –æ—Ü–µ–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É</p>
                        </div>
                    </div>
                </div>
                
                <!-- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                <div class="container mb-16">
                    <div class="flex justify-between items-center mb-8">
                        <div>
                            <h2 class="section-title mb-2">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
                            <p class="section-subtitle">–°–∞–º—ã–µ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã–µ —É—Å–ª—É–≥–∏ —Å—Ä–µ–¥–∏ –Ω–∞—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–∫</p>
                        </div>
                        <a href="#" class="btn btn-secondary" onclick="navigate('services')">
                            –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                    <div class="category-grid" id="homeCategories">
                        <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                
                <!-- –û—Ç–∑—ã–≤—ã -->
                <div class="container mb-16">
                    <div class="text-center mb-12">
                        <h2 class="section-title mb-4">–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–∫</h2>
                        <p class="section-subtitle">–ß—Ç–æ –≥–æ–≤–æ—Ä—è—Ç —Ç–µ, –∫—Ç–æ —É–∂–µ –¥–æ–≤–µ—Ä–∏–ª –Ω–∞–º —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏</p>
                    </div>
                    <div class="grid grid-3 gap-8" id="homeReviews">
                        <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                
                <!-- CTA —Å–µ–∫—Ü–∏—è -->
                <div class="bg-gradient-to-r from-gold to-lavender rounded-2xl">
                    <div class="container py-16">
                        <div class="text-center">
                            <h2 class="text-3xl font-bold text-white mb-4">–ì–æ—Ç–æ–≤—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–º–æ—â—å?</h2>
                            <p class="text-white/90 mb-8 text-lg">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Ç—ã—Å—è—á–∞–º –¥–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–∫</p>
                            <div class="flex gap-4 justify-center">
                                <button class="btn btn-lg bg-white text-gold hover:bg-gray-50" onclick="navigate('services')">
                                    –ù–∞—á–∞—Ç—å —Å–µ–π—á–∞—Å
                                </button>
                                <button class="btn btn-lg btn-outline border-white text-white hover:bg-white/10" onclick="openModal('subscriptionModal')">
                                    –£–∑–Ω–∞—Ç—å –æ –ø–æ–¥–ø–∏—Å–∫–∞—Ö
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- –£—Å–ª—É–≥–∏ -->
        <section id="page-services" class="page">
            <div class="container">
                <div class="page-header">
                    <h1 class="section-title">–í—Å–µ —É—Å–ª—É–≥–∏</h1>
                    <p class="section-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞—á—É –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç</p>
                </div>
                
                <!-- –§–∏–ª—å—Ç—Ä—ã -->
                <div class="card mb-8">
                    <div class="card-body">
                        <div class="flex flex-col md:flex-row md:items-center gap-4">
                            <div class="flex-1">
                                <input type="text" class="form-input" placeholder="–ü–æ–∏—Å–∫ —É—Å–ª—É–≥..." id="serviceSearch">
                            </div>
                            <div class="flex gap-4">
                                <select class="form-select w-48" id="serviceSort">
                                    <option value="popular">–ü–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏</option>
                                    <option value="name">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>
                                    <option value="price">–ü–æ —Ü–µ–Ω–µ</option>
                                </select>
                                <button class="btn btn-secondary" onclick="resetServiceFilters()">
                                    <i class="fas fa-redo"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                <div class="category-grid" id="servicesGrid">
                    <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </section>
        
        <!-- –ü–æ–¥–ø–∏—Å–∫–∏ -->
        <section id="page-subscriptions" class="page">
            <div class="container">
                <div class="page-header text-center">
                    <h1 class="section-title">–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ—é –ø–æ–¥–ø–∏—Å–∫—É</h1>
                    <p class="section-subtitle">–ü–æ–ª—É—á–∏—Ç–µ –±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∏ —ç–∫–æ–Ω–æ–º–∏—é —Å –µ–∂–µ–º–µ—Å—è—á–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–æ–π</p>
                    <div class="flex justify-center mt-4">
                        <div class="bg-light rounded-full p-1 inline-flex">
                            <button class="btn btn-sm" id="toggleMonthly">–ï–∂–µ–º–µ—Å—è—á–Ω–æ</button>
                            <button class="btn btn-sm btn-secondary" id="toggleYearly">–ì–æ–¥–æ–≤–æ–π –ø–ª–∞–Ω (—ç–∫–æ–Ω–æ–º–∏—è 20%)</button>
                        </div>
                    </div>
                </div>
                
                <!-- –¢–∞—Ä–∏—Ñ—ã -->
                <div class="pricing-grid" id="subscriptionsGrid">
                    <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                
                <!-- FAQ -->
                <div class="mt-16">
                    <h2 class="section-title text-center mb-8">–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
                    <div class="accordion max-w-3xl mx-auto" id="subscriptionFAQ">
                        <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>
        </section>
        
        <!-- –ú–æ–∏ –∑–∞–¥–∞—á–∏ -->
        <section id="page-tasks" class="page">
            <div class="container">
                <div class="page-header">
                    <h1 class="section-title">–ú–æ–∏ –∑–∞–¥–∞—á–∏</h1>
                    <p class="section-subtitle">–í—Å–µ –≤–∞—à–∏ –∑–∞–∫–∞–∑—ã –∏ –∑–∞–ø—Ä–æ—Å—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</p>
                </div>
                
                <!-- –§–∏–ª—å—Ç—Ä—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="grid grid-1 lg:grid-3 gap-8 mb-8">
                    <div class="col-span-2">
                        <div class="card">
                            <div class="card-body">
                                <div class="flex flex-col md:flex-row md:items-center gap-4">
                                    <div class="flex-1">
                                        <input type="text" class="form-input" placeholder="–ü–æ–∏—Å–∫ –∑–∞–¥–∞—á..." id="taskSearch">
                                    </div>
                                    <select class="form-select w-48" id="taskFilterStatus">
                                        <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                        <option value="new">–ù–æ–≤—ã–µ</option>
                                        <option value="searching">–í –ø–æ–∏—Å–∫–µ</option>
                                        <option value="assigned">–ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ</option>
                                        <option value="in_progress">–í —Ä–∞–±–æ—Ç–µ</option>
                                        <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ</option>
                                        <option value="cancelled">–û—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ</option>
                                    </select>
                                    <button class="btn btn-primary" onclick="openModal('newTaskModal')">
                                        <i class="fas fa-plus"></i> –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div class="card h-full">
                            <div class="card-body">
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-gold mb-2" id="activeTasksCount">0</div>
                                    <div class="text-medium">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á -->
                <div class="tasks-list" id="tasksList">
                    <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                
                <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
                <div class="flex justify-center mt-8" id="tasksPagination">
                    <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </section>
        
        <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
        <section id="page-profile" class="page">
            <div class="container">
                <div class="page-header">
                    <h1 class="section-title">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h1>
                    <p class="section-subtitle">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤–∞—à–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å—å—é –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏</p>
                </div>
                
                <div class="grid grid-1 lg:grid-3 gap-8">
                    <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
                    <div class="lg:col-span-2">
                        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                        <div class="card mb-8">
                            <div class="card-header">
                                <h3 class="text-xl font-semibold">–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                            </div>
                            <div class="card-body">
                                <div class="grid grid-2 gap-6" id="profileInfo">
                                    <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                            </div>
                            <div class="card-footer">
                                <button class="btn btn-primary" onclick="openModal('editProfileModal')">
                                    <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
                                </button>
                            </div>
                        </div>
                        
                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                        <div class="card mb-8">
                            <div class="card-header">
                                <h3 class="text-xl font-semibold">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                            </div>
                            <div class="card-body">
                                <div class="grid grid-4 gap-4" id="profileStats">
                                    <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- –ê–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="text-xl font-semibold">–ú–æ—è –ø–æ–¥–ø–∏—Å–∫–∞</h3>
                            </div>
                            <div class="card-body">
                                <div id="currentSubscription">
                                    <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
                    <div>
                        <!-- –ê–≤–∞—Ç–∞—Ä -->
                        <div class="card mb-8">
                            <div class="card-body text-center">
                                <div class="relative inline-block mb-4">
                                    <div class="w-32 h-32 rounded-full overflow-hidden mx-auto bg-gradient-to-br from-lavender to-pink">
                                        <img src="" alt="–ê–≤–∞—Ç–∞—Ä" class="w-full h-full object-cover hidden" id="profileAvatarImg">
                                        <div class="w-full h-full flex items-center justify-center text-4xl font-bold text-white" id="profileAvatarText">
                                            –ì
                                        </div>
                                    </div>
                                    <button class="absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg hover-lift" onclick="openModal('changeAvatarModal')">
                                        <i class="fas fa-camera text-gold"></i>
                                    </button>
                                </div>
                                <h3 class="text-xl font-semibold mb-2" id="profileFullName">–ì–æ—Å—Ç—å</h3>
                                <div class="role-badge role-client inline-block mb-4" id="profileRoleBadge">–ì–æ—Å—Ç—å</div>
                                <div class="text-medium text-sm" id="profileMemberSince">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω: --</div>
                            </div>
                        </div>
                        
                        <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                        <div class="card mb-8">
                            <div class="card-header">
                                <h3 class="text-xl font-semibold">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                            </div>
                            <div class="card-body">
                                <div class="space-y-3">
                                    <button class="btn btn-secondary w-full justify-start" onclick="openModal('changePasswordModal')">
                                        <i class="fas fa-key"></i> –°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
                                    </button>
                                    <button class="btn btn-secondary w-full justify-start" onclick="openModal('paymentMethodsModal')">
                                        <i class="fas fa-credit-card"></i> –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã
                                    </button>
                                    <button class="btn btn-secondary w-full justify-start" onclick="openModal('notificationsSettingsModal')">
                                        <i class="fas fa-bell"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
                                    </button>
                                    <button class="btn btn-secondary w-full justify-start" onclick="openModal('privacySettingsModal')">
                                        <i class="fas fa-shield-alt"></i> –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="text-xl font-semibold">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∏</h3>
                            </div>
                            <div class="card-body">
                                <div class="space-y-4" id="recentPayments">
                                    <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                                <button class="btn btn-outline w-full mt-4" onclick="openModal('paymentHistoryModal')">
                                    –í—Å—è –∏—Å—Ç–æ—Ä–∏—è
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å -->
        <section id="page-admin" class="page">
            <div class="container">
                <div class="page-header">
                    <h1 class="section-title">–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h1>
                    <p class="section-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</p>
                </div>
                
                <!-- –¢–∞–±—ã -->
                <div class="tabs mb-8">
                    <button class="tab active" data-tab="dashboard">–î–∞—à–±–æ—Ä–¥</button>
                    <button class="tab" data-tab="users">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
                    <button class="tab" data-tab="tasks">–ó–∞–¥–∞—á–∏</button>
                    <button class="tab" data-tab="finances">–§–∏–Ω–∞–Ω—Å—ã</button>
                    <button class="tab" data-tab="content">–ö–æ–Ω—Ç–µ–Ω—Ç</button>
                    <button class="tab" data-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </div>
                
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Ç–∞–±–æ–≤ -->
                <div id="adminTabContent">
                    <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </section>
        
        <!-- –ü–∞–Ω–µ–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è -->
        <section id="page-performer" class="page">
            <div class="container">
                <div class="page-header">
                    <h1 class="section-title">–ü–∞–Ω–µ–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</h1>
                    <p class="section-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞—à–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–µ–º –ø–æ–º–æ—â–Ω–∏—Ü—ã</p>
                </div>
                
                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è -->
                <div class="grid grid-1 md:grid-4 gap-6 mb-8">
                    <div class="stat-card">
                        <div class="stat-value" id="perfCompletedTasks">0</div>
                        <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞—á</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="perfRating">0.0</div>
                        <div class="stat-label">–†–µ–π—Ç–∏–Ω–≥</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="perfEarnings">0</div>
                        <div class="stat-label">–ó–∞—Ä–∞–±–æ—Ç–æ–∫</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="perfResponseTime">0</div>
                        <div class="stat-label">–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ (—á)</div>
                    </div>
                </div>
                
                <!-- –¢–∞–±—ã –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è -->
                <div class="tabs mb-8">
                    <button class="tab active" data-tab="available">–î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏</button>
                    <button class="tab" data-tab="my_tasks">–ú–æ–∏ –∑–∞–¥–∞—á–∏</button>
                    <button class="tab" data-tab="schedule">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
                    <button class="tab" data-tab="reviews">–û—Ç–∑—ã–≤—ã</button>
                    <button class="tab" data-tab="perf_profile">–ü—Ä–æ—Ñ–∏–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</button>
                </div>
                
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Ç–∞–±–æ–≤ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è -->
                <div id="performerTabContent">
                    <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </section>
        
        <!-- –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–¥–∞—á–∏ -->
        <section id="page-task-details" class="page">
            <div class="container">
                <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </section>
    </main>
    
    <!-- –§—É—Ç–µ—Ä -->
    <footer class="app-footer">
        <div class="footer-grid">
            <div class="footer-section">
                <h3>–ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂</h3>
                <p class="mt-2">–ü–æ–º–æ—â—å –≤ –±—ã—Ç–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö –æ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∂–µ–Ω—â–∏–Ω –¥–ª—è –∂–µ–Ω—â–∏–Ω.</p>
                <div class="flex gap-4 mt-4">
                    <a href="#" class="text-gold hover:text-gold-dark">
                        <i class="fab fa-instagram text-xl"></i>
                    </a>
                    <a href="#" class="text-gold hover:text-gold-dark">
                        <i class="fab fa-vk text-xl"></i>
                    </a>
                    <a href="#" class="text-gold hover:text-gold-dark">
                        <i class="fab fa-telegram text-xl"></i>
                    </a>
                </div>
            </div>
            <div class="footer-section">
                <h3>–£—Å–ª—É–≥–∏</h3>
                <ul class="footer-links">
                    <li class="footer-link"><a href="#">–ë—ã—Ç–æ–≤—ã–µ –∑–∞–¥–∞—á–∏</a></li>
                    <li class="footer-link"><a href="#">–ó–∞–±–æ—Ç–∞ –æ —Å–µ–±–µ</a></li>
                    <li class="footer-link"><a href="#">–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è</a></li>
                    <li class="footer-link"><a href="#">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>–ö–æ–º–ø–∞–Ω–∏—è</h3>
                <ul class="footer-links">
                    <li class="footer-link"><a href="#">–û –Ω–∞—Å</a></li>
                    <li class="footer-link"><a href="#">–í–∞–∫–∞–Ω—Å–∏–∏</a></li>
                    <li class="footer-link"><a href="#">–ü–∞—Ä—Ç–Ω–µ—Ä—ã</a></li>
                    <li class="footer-link"><a href="#">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>–ü–æ–º–æ—â—å</h3>
                <ul class="footer-links">
                    <li class="footer-link"><a href="#" onclick="openModal('helpModal')">FAQ</a></li>
                    <li class="footer-link"><a href="#" onclick="openModal('supportModal')">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a></li>
                    <li class="footer-link"><a href="#" onclick="openModal('termsModal')">–£—Å–ª–æ–≤–∏—è</a></li>
                    <li class="footer-link"><a href="#" onclick="openModal('privacyModal')">–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>¬© 2024 –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>
    
    <!-- =================== –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê =================== -->
    
    <!-- –ú–æ–¥–∞–ª–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div class="modal" id="authModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h3>
                <button class="modal-close" onclick="closeModal('authModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tabs mb-6">
                    <button class="tab active" onclick="switchAuthTab('login')">–í—Ö–æ–¥</button>
                    <button class="tab" onclick="switchAuthTab('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                </div>
                
                <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
                <div id="loginForm" class="auth-form">
                    <div class="form-group">
                        <label class="form-label">Email <span class="required">*</span></label>
                        <input type="email" class="form-input" id="loginEmail" placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ü–∞—Ä–æ–ª—å <span class="required">*</span></label>
                        <input type="password" class="form-input" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        <div class="flex justify-between items-center mt-2">
                            <label class="checkbox-label">
                                <input type="checkbox" class="checkbox-input" id="rememberMe">
                                <span class="checkbox-custom"></span>
                                <span class="text-sm">–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è</span>
                            </label>
                            <a href="#" class="text-sm text-gold" onclick="openModal('forgotPasswordModal')">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
                        </div>
                    </div>
                    <button class="btn btn-primary w-full mb-4" onclick="login()">–í–æ–π—Ç–∏</button>
                    
                    <div class="text-center mb-6">
                        <div class="text-sm text-medium mb-2">–ò–ª–∏ –≤–æ–π–¥–∏—Ç–µ —Å –ø–æ–º–æ—â—å—é</div>
                        <div class="flex gap-4 justify-center">
                            <button class="btn btn-secondary">
                                <i class="fab fa-google"></i> Google
                            </button>
                            <button class="btn btn-secondary">
                                <i class="fab fa-vk"></i> VK
                            </button>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <p class="text-sm text-medium">–î–µ–º–æ –∞–∫–∫–∞—É–Ω—Ç—ã:</p>
                        <div class="text-xs text-medium mt-2 space-y-1">
                            <div><span class="font-semibold">üëë –ê–¥–º–∏–Ω:</span> admin@test.com / admin123</div>
                            <div><span class="font-semibold">üë© –ö–ª–∏–µ–Ω—Ç:</span> client@test.com / client123</div>
                            <div><span class="font-semibold">üë©‚Äçüè´ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:</span> performer@test.com / performer123</div>
                        </div>
                    </div>
                </div>
                
                <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
                <div id="registerForm" class="auth-form hidden">
                    <div class="form-group">
                        <label class="form-label">–ò–º—è <span class="required">*</span></label>
                        <input type="text" class="form-input" id="registerFirstName" placeholder="–ê–Ω–Ω–∞">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–§–∞–º–∏–ª–∏—è <span class="required">*</span></label>
                        <input type="text" class="form-input" id="registerLastName" placeholder="–ò–≤–∞–Ω–æ–≤–∞">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email <span class="required">*</span></label>
                        <input type="email" class="form-input" id="registerEmail" placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" class="form-input" id="registerPhone" placeholder="+7 (999) 123-45-67">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ü–∞—Ä–æ–ª—å <span class="required">*</span></label>
                        <input type="password" class="form-input" id="registerPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        <div class="form-hint">–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è <span class="required">*</span></label>
                        <input type="password" class="form-input" id="registerPasswordConfirm" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" class="checkbox-input" id="acceptTerms" required>
                            <span class="checkbox-custom"></span>
                            <span class="text-sm">–Ø –ø—Ä–∏–Ω–∏–º–∞—é <a href="#" class="text-gold" onclick="openModal('termsModal')">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a> –∏ <a href="#" class="text-gold" onclick="openModal('privacyModal')">–ü–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a></span>
                        </label>
                    </div>
                    <button class="btn btn-primary w-full" onclick="register()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ -->
    <div class="modal" id="newTaskModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</h3>
                <button class="modal-close" onclick="closeModal('newTaskModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="progress-bar mb-6">
                    <div class="progress-fill" id="taskWizardProgress" style="width: 33%"></div>
                </div>
                
                <!-- –®–∞–≥ 1: –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                <div id="taskStep1" class="task-wizard-step">
                    <h4 class="text-lg font-semibold mb-4">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h4>
                    <div class="grid grid-2 gap-4" id="taskCategoriesSelect">
                        <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                
                <!-- –®–∞–≥ 2: –î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏ -->
                <div id="taskStep2" class="task-wizard-step hidden">
                    <h4 class="text-lg font-semibold mb-4">–û–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É</h4>
                    <div class="form-group">
                        <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ <span class="required">*</span></label>
                        <input type="text" class="form-input" id="taskTitle" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –£–±–æ—Ä–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ <span class="required">*</span></label>
                        <textarea class="form-input" id="taskDescription" rows="4" placeholder="–û–ø–∏—à–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –æ—Å–æ–±—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è..."></textarea>
                    </div>
                    <div class="grid grid-2 gap-4">
                        <div class="form-group">
                            <label class="form-label">–ë—é–¥–∂–µ—Ç (‚ÇΩ)</label>
                            <input type="number" class="form-input" id="taskBudget" placeholder="5000">
                        </div>
                        <div class="form-group">
                            <label class="form-label">–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</label>
                            <input type="date" class="form-input" id="taskDeadline">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ê–¥—Ä–µ—Å (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)</label>
                        <input type="text" class="form-input" id="taskAddress" placeholder="–ì–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º">
                    </div>
                </div>
                
                <!-- –®–∞–≥ 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ -->
                <div id="taskStep3" class="task-wizard-step hidden">
                    <h4 class="text-lg font-semibold mb-4">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h4>
                    <div class="form-group">
                        <label class="form-label">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                        <select class="form-select" id="taskPriority">
                            <option value="low">–ù–∏–∑–∫–∏–π</option>
                            <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                            <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                            <option value="urgent">–°—Ä–æ—á–Ω—ã–π</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü–µ</label>
                        <div class="space-y-2">
                            <label class="checkbox-label">
                                <input type="checkbox" class="checkbox-input" id="reqExperience">
                                <span class="checkbox-custom"></span>
                                <span>–° –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" class="checkbox-input" id="reqCertified">
                                <span class="checkbox-custom"></span>
                                <span>–°–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∫–∞</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" class="checkbox-input" id="reqReviews">
                                <span class="checkbox-custom"></span>
                                <span>–° –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ—Ç–∑—ã–≤–∞–º–∏</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª—ã (–¥–æ 5 —Ñ–∞–π–ª–æ–≤)</label>
                        <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                            <i class="fas fa-cloud-upload-alt text-3xl text-gray-400 mb-2"></i>
                            <p class="text-gray-500 mb-2">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞ –∏–ª–∏</p>
                            <button class="btn btn-sm btn-secondary" onclick="document.getElementById('taskFiles').click()">
                                –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª—ã
                            </button>
                            <input type="file" id="taskFiles" class="hidden" multiple>
                        </div>
                    </div>
                </div>
                
                <!-- –®–∞–≥ 4: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ -->
                <div id="taskStep4" class="task-wizard-step hidden">
                    <h4 class="text-lg font-semibold mb-4">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h4>
                    <div class="card mb-4">
                        <div class="card-body">
                            <h5 class="font-semibold mb-2" id="confirmTaskTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</h5>
                            <p class="text-medium mb-3" id="confirmTaskDescription">–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</p>
                            <div class="flex justify-between text-sm">
                                <span id="confirmTaskCategory">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span>
                                <span class="font-semibold" id="confirmTaskBudget">0 ‚ÇΩ</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" class="checkbox-input" id="confirmTerms" required>
                            <span class="checkbox-custom"></span>
                            <span class="text-sm">–Ø –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é, —á—Ç–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤–µ—Ä–Ω–∞</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="taskPrevBtn" onclick="taskWizardPrev()" style="display: none;">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                </button>
                <button class="btn btn-primary ml-auto" id="taskNextBtn" onclick="taskWizardNext()">
                    –î–∞–ª–µ–µ <i class="fas fa-arrow-right"></i>
                </button>
                <button class="btn btn-primary hidden" id="taskSubmitBtn" onclick="submitNewTask()">
                    <i class="fas fa-check"></i> –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
                </button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è -->
    <div class="modal" id="editProfileModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</h3>
                <button class="modal-close" onclick="closeModal('editProfileModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tabs mb-6">
                    <button class="tab active" onclick="switchProfileTab('personal')">–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</button>
                    <button class="tab" onclick="switchProfileTab('professional')">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ</button>
                    <button class="tab" onclick="switchProfileTab('social')">–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏</button>
                </div>
                
                <!-- –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
                <div id="profilePersonalTab" class="profile-tab">
                    <div class="form-group">
                        <label class="form-label">–ò–º—è <span class="required">*</span></label>
                        <input type="text" class="form-input" id="editFirstName" value="–ê–Ω–Ω–∞">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–§–∞–º–∏–ª–∏—è <span class="required">*</span></label>
                        <input type="text" class="form-input" id="editLastName" value="–ò–≤–∞–Ω–æ–≤–∞">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email <span class="required">*</span></label>
                        <input type="email" class="form-input" id="editEmail" value="anna@example.com" disabled>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" class="form-input" id="editPhone" value="+7 (999) 123-45-67">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                        <input type="date" class="form-input" id="editBirthDate" value="1990-01-01">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ì–æ—Ä–æ–¥</label>
                        <input type="text" class="form-input" id="editCity" value="–ú–æ—Å–∫–≤–∞">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–û —Å–µ–±–µ</label>
                        <textarea class="form-input" id="editBio" rows="3" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ..."></textarea>
                    </div>
                </div>
                
                <!-- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
                <div id="profileProfessionalTab" class="profile-tab hidden">
                    <div class="form-group">
                        <label class="form-label">–ü—Ä–æ—Ñ–µ—Å—Å–∏—è</label>
                        <input type="text" class="form-input" id="editProfession" placeholder="–î–∏–∑–∞–π–Ω–µ—Ä, –º–µ–Ω–µ–¥–∂–µ—Ä –∏ —Ç.–¥.">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</label>
                        <textarea class="form-input" id="editEducation" rows="2" placeholder="–£—á–µ–±–Ω—ã–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è, –∫—É—Ä—Å—ã..."></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã</label>
                        <textarea class="form-input" id="editExperience" rows="3" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã..."></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ù–∞–≤—ã–∫–∏</label>
                        <div class="flex flex-wrap gap-2 mb-2" id="skillsContainer">
                            <!-- –ù–∞–≤—ã–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                        <div class="flex gap-2">
                            <input type="text" class="form-input" id="newSkillInput" placeholder="–ù–æ–≤—ã–π –Ω–∞–≤—ã–∫">
                            <button class="btn btn-sm btn-secondary" onclick="addSkill()">–î–æ–±–∞–≤–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
                
                <!-- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ -->
                <div id="profileSocialTab" class="profile-tab hidden">
                    <div class="form-group">
                        <label class="form-label">–í–ö–æ–Ω—Ç–∞–∫—Ç–µ</label>
                        <input type="url" class="form-input" id="editVk" placeholder="https://vk.com/username">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Instagram</label>
                        <input type="url" class="form-input" id="editInstagram" placeholder="https://instagram.com/username">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Telegram</label>
                        <input type="text" class="form-input" id="editTelegram" placeholder="@username">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–î—Ä—É–≥–æ–µ (—Å–∞–π—Ç, –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ)</label>
                        <input type="url" class="form-input" id="editWebsite" placeholder="https://example.com">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('editProfileModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="saveProfile()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª–∫–∞ –æ—Ü–µ–Ω–∫–∏ –∑–∞–¥–∞—á–∏ -->
    <div class="modal" id="rateTaskModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–û—Ü–µ–Ω–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏</h3>
                <button class="modal-close" onclick="closeModal('rateTaskModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="text-center mb-6">
                    <div class="text-2xl font-semibold mb-2" id="rateTaskTitle">–ó–∞–¥–∞—á–∞</div>
                    <div class="text-medium mb-4">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: <span id="ratePerformerName">–ï–ª–µ–Ω–∞ –°.</span></div>
                </div>
                
                <div class="form-group text-center">
                    <label class="form-label mb-4">–í–∞—à–∞ –æ—Ü–µ–Ω–∫–∞</label>
                    <div class="rating justify-center mb-2" id="taskRating">
                        <i class="fas fa-star rating-star text-3xl" data-rating="1"></i>
                        <i class="fas fa-star rating-star text-3xl" data-rating="2"></i>
                        <i class="fas fa-star rating-star text-3xl" data-rating="3"></i>
                        <i class="fas fa-star rating-star text-3xl" data-rating="4"></i>
                        <i class="fas fa-star rating-star text-3xl" data-rating="5"></i>
                    </div>
                    <div class="text-sm text-medium" id="ratingText">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–≤–µ–∑–¥—É –¥–ª—è –æ—Ü–µ–Ω–∫–∏</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–û—Ç–∑—ã–≤</label>
                    <textarea class="form-input" id="taskReview" rows="4" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–º –æ–ø—ã—Ç–µ... –ß—Ç–æ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å, –∞ —á—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å?"></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç–µ –ª–∏ –≤—ã —ç—Ç—É –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü—É?</label>
                    <div class="flex gap-4">
                        <label class="radio-label">
                            <input type="radio" name="recommend" class="radio-input" value="yes" checked>
                            <span class="radio-custom"></span>
                            <span>–î–∞, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="recommend" class="radio-input" value="no">
                            <span class="radio-custom"></span>
                            <span>–ù–µ—Ç, –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('rateTaskModal')">–ü–æ–∑–∂–µ</button>
                <button class="btn btn-primary" onclick="submitTaskRating()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
    <div class="modal" id="addAdminModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
                <button class="modal-close" onclick="closeModal('addAdminModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è <span class="required">*</span></label>
                    <input type="email" class="form-input" id="adminEmail" placeholder="user@example.com">
                </div>
                <div class="form-group">
                    <label class="form-label">–£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ <span class="required">*</span></label>
                    <select class="form-select" id="adminLevel">
                        <option value="manager">–ú–µ–Ω–µ–¥–∂–µ—Ä</option>
                        <option value="admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                        <option value="superadmin">–°—É–ø–µ—Ä-–∞–¥–º–∏–Ω</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</label>
                    <div class="space-y-2">
                        <label class="checkbox-label">
                            <input type="checkbox" class="checkbox-input" id="permUsers" checked>
                            <span class="checkbox-custom"></span>
                            <span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" class="checkbox-input" id="permTasks" checked>
                            <span class="checkbox-custom"></span>
                            <span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" class="checkbox-input" id="permFinances">
                            <span class="checkbox-custom"></span>
                            <span>–§–∏–Ω–∞–Ω—Å—ã –∏ –ø–ª–∞—Ç–µ–∂–∏</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" class="checkbox-input" id="permContent">
                            <span class="checkbox-custom"></span>
                            <span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" class="checkbox-input" id="permSettings">
                            <span class="checkbox-custom"></span>
                            <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addAdminModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="addAdmin()">–î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ -->
    <div class="modal" id="depositModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞</h3>
                <button class="modal-close" onclick="closeModal('depositModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="text-center mb-6">
                    <div class="text-sm text-medium mb-2">–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å</div>
                    <div class="text-3xl font-bold text-gold" id="currentBalance">0 ‚ÇΩ</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–°—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è <span class="required">*</span></label>
                    <div class="grid grid-4 gap-2 mb-4">
                        <button class="btn btn-secondary" onclick="setDepositAmount(500)">500 ‚ÇΩ</button>
                        <button class="btn btn-secondary" onclick="setDepositAmount(1000)">1000 ‚ÇΩ</button>
                        <button class="btn btn-secondary" onclick="setDepositAmount(2000)">2000 ‚ÇΩ</button>
                        <button class="btn btn-secondary" onclick="setDepositAmount(5000)">5000 ‚ÇΩ</button>
                    </div>
                    <input type="number" class="form-input" id="depositAmount" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" min="100" step="100">
                </div>
                
                <div class="form-group">
                    <label class="form-label">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã <span class="required">*</span></label>
                    <div class="space-y-3">
                        <label class="radio-label">
                            <input type="radio" name="paymentMethod" class="radio-input" value="card" checked>
                            <span class="radio-custom"></span>
                            <span class="flex items-center gap-2">
                                <i class="fas fa-credit-card text-gold"></i>
                                –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞
                            </span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="paymentMethod" class="radio-input" value="yoomoney">
                            <span class="radio-custom"></span>
                            <span class="flex items-center gap-2">
                                <i class="fas fa-wallet text-gold"></i>
                                –ÆMoney
                            </span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="paymentMethod" class="radio-input" value="sbp">
                            <span class="radio-custom"></span>
                            <span class="flex items-center gap-2">
                                <i class="fas fa-qrcode text-gold"></i>
                                –°–ë–ü (–°–∏—Å—Ç–µ–º–∞ –±—ã—Å—Ç—Ä—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π)
                            </span>
                        </label>
                    </div>
                </div>
                
                <div class="bg-light rounded-lg p-4 mt-6">
                    <div class="flex justify-between mb-2">
                        <span>–°—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è:</span>
                        <span id="depositSummaryAmount">0 ‚ÇΩ</span>
                    </div>
                    <div class="flex justify-between mb-2">
                        <span>–ö–æ–º–∏—Å—Å–∏—è:</span>
                        <span id="depositSummaryFee">0 ‚ÇΩ</span>
                    </div>
                    <div class="flex justify-between font-semibold text-lg pt-2 border-t">
                        <span>–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ:</span>
                        <span id="depositSummaryTotal">0 ‚ÇΩ</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('depositModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="processDeposit()">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª–∫–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è -->
    <div class="modal" id="specializationsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–ú–æ–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</h3>
                <button class="modal-close" onclick="closeModal('specializationsModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p class="text-medium mb-6">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã —è–≤–ª—è–µ—Ç–µ—Å—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞–º –Ω–∞–π—Ç–∏ –≤–∞—Å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á.</p>
                
                <div class="grid grid-2 gap-4" id="specializationsGrid">
                    <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                
                <div class="mt-6">
                    <h4 class="font-semibold mb-3">–£—Ä–æ–≤–µ–Ω—å —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã</h4>
                    <div class="space-y-4">
                        <div>
                            <label class="form-label">–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã (–ª–µ—Ç)</label>
                            <input type="range" class="w-full" min="0" max="30" value="5" id="experienceYears">
                            <div class="flex justify-between text-sm text-medium">
                                <span>0</span>
                                <span id="experienceValue">5 –ª–µ—Ç</span>
                                <span>30+</span>
                            </div>
                        </div>
                        <div>
                            <label class="form-label">–ß–∞—Å–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ (‚ÇΩ)</label>
                            <input type="number" class="form-input" id="hourlyRate" value="1500">
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('specializationsModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="saveSpecializations()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ -->
    <div class="modal" id="deleteAccountModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞</h3>
                <button class="modal-close" onclick="closeModal('deleteAccountModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="text-center mb-6">
                    <i class="fas fa-exclamation-triangle text-4xl text-error mb-4"></i>
                    <h4 class="text-xl font-semibold mb-2">–í–Ω–∏–º–∞–Ω–∏–µ! –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ</h4>
                    <p class="text-medium">–í—Å–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.</p>
                </div>
                
                <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
                    <h5 class="font-semibold text-red-700 mb-2">–ß—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ:</h5>
                    <ul class="text-red-600 space-y-1 text-sm">
                        <li>‚Ä¢ –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–æ—Ñ–∏–ª—å</li>
                        <li>‚Ä¢ –ò—Å—Ç–æ—Ä–∏—è –∑–∞–¥–∞—á –∏ –∑–∞–∫–∞–∑–æ–≤</li>
                        <li>‚Ä¢ –°–æ–æ–±—â–µ–Ω–∏—è –∏ —á–∞—Ç—ã</li>
                        <li>‚Ä¢ –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏</li>
                        <li>‚Ä¢ –ü–æ–¥–ø–∏—Å–∫–∞ –∏ –±–∞–ª–∞–Ω—Å</li>
                    </ul>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" class="form-input" id="deletePassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" class="checkbox-input" id="confirmDelete" required>
                        <span class="checkbox-custom"></span>
                        <span class="text-sm">–Ø –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ –∏ –≤—Å–µ –º–æ–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã</span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('deleteAccountModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn bg-red-500 hover:bg-red-600 text-white" onclick="deleteAccount()" id="btnDeleteAccount">
                    –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç –Ω–∞–≤—Å–µ–≥–¥–∞
                </button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª–∫–∞ –æ–ø–ª–∞—Ç—ã –ø–æ–¥–ø–∏—Å–∫–∏ -->
    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–û–ø–ª–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∫–∏</h3>
                <button class="modal-close" onclick="closeModal('paymentModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="text-center mb-6">
                    <div class="text-2xl font-bold text-gold mb-2" id="paymentPlanName">Premium</div>
                    <div class="text-lg" id="paymentAmount">2,990 ‚ÇΩ/–º–µ—Å—è—Ü</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</label>
                    <div class="space-y-3">
                        <label class="radio-label">
                            <input type="radio" name="subscriptionPayment" class="radio-input" value="card" checked>
                            <span class="radio-custom"></span>
                            <span class="flex items-center gap-2">
                                <i class="fas fa-credit-card"></i>
                                –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞
                            </span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="subscriptionPayment" class="radio-input" value="balance">
                            <span class="radio-custom"></span>
                            <span class="flex items-center gap-2">
                                <i class="fas fa-wallet"></i>
                                –ë–∞–ª–∞–Ω—Å —Å—á–µ—Ç–∞
                                <span class="badge badge-primary ml-auto" id="balanceAmount">0 ‚ÇΩ</span>
                            </span>
                        </label>
                    </div>
                </div>
                
                <!-- –§–æ—Ä–º–∞ –¥–ª—è –∫–∞—Ä—Ç—ã -->
                <div id="cardPaymentForm">
                    <div class="form-group">
                        <label class="form-label">–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã</label>
                        <input type="text" class="form-input" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19">
                    </div>
                    <div class="grid grid-2 gap-4">
                        <div class="form-group">
                            <label class="form-label">–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è</label>
                            <input type="text" class="form-input" id="cardExpiry" placeholder="MM/YY" maxlength="5">
                        </div>
                        <div class="form-group">
                            <label class="form-label">CVV</label>
                            <input type="text" class="form-input" id="cardCvv" placeholder="123" maxlength="3">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ò–º—è –¥–µ—Ä–∂–∞—Ç–µ–ª—è –∫–∞—Ä—Ç—ã</label>
                        <input type="text" class="form-input" id="cardHolder" placeholder="IVANOV IVAN">
                    </div>
                </div>
                
                <div class="bg-light rounded-lg p-4 mt-6">
                    <div class="flex justify-between mb-2">
                        <span>–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏:</span>
                        <span id="paymentPrice">2,990 ‚ÇΩ</span>
                    </div>
                    <div class="flex justify-between mb-2">
                        <span>–ù–î–° (20%):</span>
                        <span id="paymentTax">598 ‚ÇΩ</span>
                    </div>
                    <div class="flex justify-between font-semibold text-lg pt-2 border-t">
                        <span>–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ:</span>
                        <span id="paymentTotal">3,588 ‚ÇΩ</span>
                    </div>
                </div>
                
                <div class="mt-6">
                    <label class="checkbox-label">
                        <input type="checkbox" class="checkbox-input" id="autoRenewal" checked>
                        <span class="checkbox-custom"></span>
                        <span class="text-sm">–í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏</span>
                    </label>
                    <p class="text-xs text-medium mt-2">–ü–æ–¥–ø–∏—Å–∫–∞ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–ª–µ–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü. –í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è.</p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('paymentModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="processSubscriptionPayment()">–û–ø–ª–∞—Ç–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É</button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª–∫–∞ –≤–∏–∑–∞—Ä–¥–∞ –ø–æ–¥–ø–∏—Å–∫–∏ -->
    <div class="modal" id="subscriptionWizardModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ—é –ø–æ–¥–ø–∏—Å–∫—É</h3>
                <button class="modal-close" onclick="closeModal('subscriptionWizardModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- –®–∞–≥ 1: –í—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–∞ -->
                <div id="wizardStep1" class="wizard-step">
                    <h4 class="text-lg font-semibold mb-4">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Ç–∞—Ä–∏—Ñ</h4>
                    <div class="space-y-4" id="wizardPlans">
                        <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                
                <!-- –®–∞–≥ 2: –í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å -->
                <div id="wizardStep2" class="wizard-step hidden">
                    <h4 class="text-lg font-semibold mb-4">–í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å</h4>
                    <div class="text-center mb-6">
                        <div class="text-3xl font-bold text-gold mb-2" id="wizardFee">5,000 ‚ÇΩ</div>
                        <p class="text-medium">–ï–¥–∏–Ω–æ—Ä–∞–∑–æ–≤—ã–π –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ</p>
                    </div>
                    
                    <div class="bg-light rounded-lg p-4 mb-6">
                        <h5 class="font-semibold mb-2">–ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å:</h5>
                        <ul class="space-y-2 text-sm">
                            <li class="flex items-center gap-2">
                                <i class="fas fa-check text-success"></i>
                                <span>–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <i class="fas fa-check text-success"></i>
                                <span>–î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —É—Å–ª—É–≥</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <i class="fas fa-check text-success"></i>
                                <span>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <i class="fas fa-check text-success"></i>
                                <span>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" class="checkbox-input" id="agreeFee" required>
                            <span class="checkbox-custom"></span>
                            <span class="text-sm">–Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å —É—Å–ª–æ–≤–∏—è–º–∏ –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤–∑–Ω–æ—Å–∞</span>
                        </label>
                    </div>
                </div>
                
                <!-- –®–∞–≥ 3: –û–ø–ª–∞—Ç–∞ -->
                <div id="wizardStep3" class="wizard-step hidden">
                    <h4 class="text-lg font-semibold mb-4">–û–ø–ª–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∫–∏</h4>
                    <div class="text-center mb-6">
                        <div class="text-xl font-semibold mb-2" id="wizardPlanName">Premium –ø–æ–¥–ø–∏—Å–∫–∞</div>
                        <div class="text-3xl font-bold text-gold" id="wizardTotalAmount">7,990 ‚ÇΩ</div>
                        <div class="text-sm text-medium mt-2">–í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å + –ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü –ø–æ–¥–ø–∏—Å–∫–∏</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</label>
                        <select class="form-select" id="wizardPaymentMethod">
                            <option value="card">–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞</option>
                            <option value="sbp">–°–ë–ü</option>
                            <option value="yoomoney">–ÆMoney</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="wizardPrevBtn" onclick="subscriptionWizardPrev()" style="display: none;">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                </button>
                <button class="btn btn-primary ml-auto" id="wizardNextBtn" onclick="subscriptionWizardNext()">
                    –î–∞–ª–µ–µ <i class="fas fa-arrow-right"></i>
                </button>
                <button class="btn btn-primary hidden" id="wizardPayBtn" onclick="completeSubscriptionWizard()">
                    <i class="fas fa-lock"></i> –û–ø–ª–∞—Ç–∏—Ç—å
                </button>
            </div>
        </div>
    </div>
    
    <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ -->
    <div class="modal" id="welcomeOverlay">
        <div class="modal-content max-w-4xl">
            <div class="modal-body p-0">
                <div class="grid grid-2">
                    <div class="bg-gradient-to-b from-gold to-gold-dark p-8 flex flex-col justify-center text-white">
                        <h2 class="text-3xl font-bold mb-4">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂!</h2>
                        <p class="mb-6">–ú—ã —Ä–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å –≤ –Ω–∞—à–µ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ. –î–∞–≤–∞–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏–º –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å –¥–ª—è –Ω–∞–∏–ª—É—á—à–µ–≥–æ –æ–ø—ã—Ç–∞.</p>
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-white/20 flex items-center justify-center">
                                <i class="fas fa-check"></i>
                            </div>
                            <div>
                                <div class="font-semibold">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â—å</div>
                                <div class="text-sm opacity-90">–¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü—ã</div>
                            </div>
                        </div>
                    </div>
                    <div class="p-8">
                        <h3 class="text-xl font-semibold mb-6">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å</h3>
                        
                        <div class="space-y-6">
                            <div>
                                <label class="form-label">–ö–∞–∫ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É?</label>
                                <div class="space-y-3">
                                    <label class="radio-label">
                                        <input type="radio" name="userType" class="radio-input" value="client" checked>
                                        <span class="radio-custom"></span>
                                        <span>–Ø –∏—â—É –ø–æ–º–æ—â—å –¥–ª—è —Å–µ–±—è</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="userType" class="radio-input" value="performer">
                                        <span class="radio-custom"></span>
                                        <span>–Ø —Ö–æ—á—É —Å—Ç–∞—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü–µ–π</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div>
                                <label class="form-label">–í–∞—à–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã</label>
                                <div class="flex flex-wrap gap-2">
                                    <label class="checkbox-label">
                                        <input type="checkbox" class="checkbox-input" value="cleaning">
                                        <span class="checkbox-custom"></span>
                                        <span class="text-sm">–£–±–æ—Ä–∫–∞ –∏ –ø–æ—Ä—è–¥–æ–∫</span>
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" class="checkbox-input" value="cooking">
                                        <span class="checkbox-custom"></span>
                                        <span class="text-sm">–ì–æ—Ç–æ–≤–∫–∞</span>
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" class="checkbox-input" value="shopping">
                                        <span class="checkbox-custom"></span>
                                        <span class="text-sm">–ü–æ–∫—É–ø–∫–∏</span>
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" class="checkbox-input" value="beauty">
                                        <span class="checkbox-custom"></span>
                                        <span class="text-sm">–ö—Ä–∞—Å–æ—Ç–∞ –∏ —É—Ö–æ–¥</span>
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" class="checkbox-input" value="organization">
                                        <span class="checkbox-custom"></span>
                                        <span class="text-sm">–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div>
                                <label class="form-label">–ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∑–∞ –ø–æ–º–æ—â—å—é?</label>
                                <select class="form-select" id="usageFrequency">
                                    <option value="rarely">–†–µ–¥–∫–æ (1-2 —Ä–∞–∑–∞ –≤ –º–µ—Å—è—Ü)</option>
                                    <option value="sometimes">–ò–Ω–æ–≥–¥–∞ (1 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é)</option>
                                    <option value="often">–ß–∞—Å—Ç–æ (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é)</option>
                                    <option value="regular">–†–µ–≥—É–ª—è—Ä–Ω–æ (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ/–ø–æ –ø–æ–¥–ø–∏—Å–∫–µ)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="mt-8">
                            <label class="checkbox-label">
                                <input type="checkbox" class="checkbox-input" id="welcomeNewsletter" checked>
                                <span class="checkbox-custom"></span>
                                <span class="text-sm">–ü–æ–ª—É—á–∞—Ç—å —Å–æ–≤–µ—Ç—ã –∏ –Ω–æ–≤–æ—Å—Ç–∏ –æ—Ç –ñ–µ–Ω—Å–∫–æ–≥–æ –ö–æ–Ω—Å—å–µ—Ä–∂–∞</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary w-full" onclick="completeWelcomeSetup()">
                    –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                </button>
            </div>
        </div>
    </div>
    
    <!-- –ï—â–µ 10+ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω -->
    
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
    <div class="notification-container" id="notificationContainer"></div>
    
    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loader"></div>
        <div class="loading-text" id="loadingText">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>
    
    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        const app = {
            // –°–æ—Å—Ç–æ—è–Ω–∏–µ
            currentUser: null,
            token: localStorage.getItem('token'),
            currentPage: 'home',
            currentTaskId: null,
            
            // –î–∞–Ω–Ω—ã–µ
            categories: [],
            tasks: [],
            subscriptions: [],
            users: [],
            reviews: [],
            messages: [],
            payments: [],
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            settings: {
                notifications: true,
                emailUpdates: true,
                darkMode: false,
                language: 'ru'
            },
            
            // –ö—ç—à
            cache: new Map(),
            
            // –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            tempData: {},
            
            // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
            constants: {
                TASK_STATUSES: {
                    new: { name: '–ù–æ–≤–∞—è', color: 'status-new', icon: 'fas fa-plus-circle' },
                    searching: { name: '–í –ø–æ–∏—Å–∫–µ', color: 'status-search', icon: 'fas fa-search' },
                    assigned: { name: '–ù–∞–∑–Ω–∞—á–µ–Ω–∞', color: 'status-assigned', icon: 'fas fa-user-check' },
                    in_progress: { name: '–í —Ä–∞–±–æ—Ç–µ', color: 'status-in-progress', icon: 'fas fa-spinner' },
                    completed: { name: '–ó–∞–≤–µ—Ä—à–µ–Ω–∞', color: 'status-completed', icon: 'fas fa-check-circle' },
                    cancelled: { name: '–û—Ç–º–µ–Ω–µ–Ω–∞', color: 'status-cancelled', icon: 'fas fa-times-circle' }
                },
                
                USER_ROLES: {
                    guest: { name: '–ì–æ—Å—Ç—å', color: 'role-client', icon: 'fas fa-user' },
                    client: { name: '–ö–ª–∏–µ–Ω—Ç', color: 'role-client', icon: 'fas fa-user' },
                    performer: { name: '–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å', color: 'role-performer', icon: 'fas fa-user-tie' },
                    manager: { name: '–ú–µ–Ω–µ–¥–∂–µ—Ä', color: 'role-manager', icon: 'fas fa-user-cog' },
                    admin: { name: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä', color: 'role-admin', icon: 'fas fa-user-shield' },
                    superadmin: { name: '–°—É–ø–µ—Ä-–∞–¥–º–∏–Ω', color: 'role-superadmin', icon: 'fas fa-crown' }
                },
                
                SUBSCRIPTION_PLANS: {
                    free: { name: '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π', price: 0, color: 'gray' },
                    basic: { name: '–ë–∞–∑–æ–≤—ã–π', price: 990, color: 'blue' },
                    premium: { name: '–ü—Ä–µ–º–∏—É–º', price: 2990, color: 'gold' },
                    vip: { name: 'VIP', price: 5990, color: 'purple' }
                },
                
                CATEGORY_ICONS: {
                    cleaning: 'fas fa-broom',
                    cooking: 'fas fa-utensils',
                    shopping: 'fas fa-shopping-bag',
                    beauty: 'fas fa-spa',
                    organization: 'fas fa-calendar-alt',
                    education: 'fas fa-graduation-cap',
                    childcare: 'fas fa-baby',
                    petcare: 'fas fa-paw',
                    delivery: 'fas fa-shipping-fast',
                    repair: 'fas fa-tools',
                    health: 'fas fa-heartbeat',
                    event: 'fas fa-glass-cheers',
                    business: 'fas fa-briefcase',
                    travel: 'fas fa-plane',
                    other: 'fas fa-hands-helping'
                }
            }
        };

        // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('üå∏ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...');
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            await loadInitialData();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
            if (app.token) {
                await verifyToken();
            } else {
                updateUserMenu();
            }
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            setupEventListeners();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            loadCurrentPage();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            if (!localStorage.getItem('welcomeShown') && !app.currentUser) {
                setTimeout(() => openModal('welcomeOverlay'), 1000);
            }
            
            console.log('‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ');
            console.log('üë• –î–µ–º–æ –∞–∫–∫–∞—É–Ω—Ç—ã:');
            console.log('   üëë –ê–¥–º–∏–Ω: admin@test.com / admin123');
            console.log('   üë© –ö–ª–∏–µ–Ω—Ç: client@test.com / client123');
            console.log('   üë©‚Äçüè´ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: performer@test.com / performer123');
        });

        // ==================== –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–• ====================
        async function loadInitialData() {
            showLoading('–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...');
            
            try {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                const categoriesResponse = await fetch('/api/categories');
                const categoriesData = await categoriesResponse.json();
                app.categories = categoriesData.categories || getDefaultCategories();
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–¥–ø–∏—Å–∫–∏
                const subscriptionsResponse = await fetch('/api/subscriptions');
                const subscriptionsData = await subscriptionsResponse.json();
                app.subscriptions = subscriptionsData.subscriptions || getDefaultSubscriptions();
                
                // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –∑–∞–≥—Ä—É–∂–∞–µ–º –µ–≥–æ –¥–∞–Ω–Ω—ã–µ
                if (app.currentUser) {
                    await loadUserData();
                }
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
                showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ.', 'warning');
                
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
                app.categories = getDefaultCategories();
                app.subscriptions = getDefaultSubscriptions();
            } finally {
                hideLoading();
            }
        }
        
        // –î–µ–º–æ-–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        function getDefaultCategories() {
            return [
                { id: 1, name: 'cleaning', display_name: '–£–±–æ—Ä–∫–∞', icon: 'fas fa-broom', description: '–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è —É–±–æ—Ä–∫–∞, —Ä–µ–≥—É–ª—è—Ä–Ω–∞—è —É–±–æ—Ä–∫–∞, —É–±–æ—Ä–∫–∞ –ø–æ—Å–ª–µ —Ä–µ–º–æ–Ω—Ç–∞' },
                { id: 2, name: 'cooking', display_name: '–ì–æ—Ç–æ–≤–∫–∞', icon: 'fas fa-utensils', description: '–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –µ–¥—ã, —Å–µ–º–µ–π–Ω—ã–µ —É–∂–∏–Ω—ã, –¥–∏–µ—Ç–∏—á–µ—Å–∫–æ–µ –ø–∏—Ç–∞–Ω–∏–µ' },
                { id: 3, name: 'shopping', display_name: '–ü–æ–∫—É–ø–∫–∏', icon: 'fas fa-shopping-bag', description: '–ü–æ–∫—É–ø–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –æ–¥–µ–∂–¥—ã, –ø–æ–¥–∞—Ä–∫–æ–≤, –æ–Ω–ª–∞–π–Ω-—à–æ–ø–∏–Ω–≥' },
                { id: 4, name: 'beauty', display_name: '–ö—Ä–∞—Å–æ—Ç–∞', icon: 'fas fa-spa', description: '–ú–∞–Ω–∏–∫—é—Ä, –ø—Ä–∏—á–µ—Å–∫–∏, –º–∞–∫–∏—è–∂, —É—Ö–æ–¥–æ–≤—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã' },
                { id: 5, name: 'organization', display_name: '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è', icon: 'fas fa-calendar-alt', description: '–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞' },
                { id: 6, name: 'education', display_name: '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ', icon: 'fas fa-graduation-cap', description: '–†–µ–ø–µ—Ç–∏—Ç–æ—Ä—Å—Ç–≤–æ, –∫—É—Ä—Å—ã, –ø–æ–º–æ—â—å —Å —É—á–µ–±–æ–π' },
                { id: 7, name: 'childcare', display_name: '–£—Ö–æ–¥ –∑–∞ –¥–µ—Ç—å–º–∏', icon: 'fas fa-baby', description: '–ù—è–Ω–∏, —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ, –ø–æ–º–æ—â—å —Å –¥–µ—Ç—å–º–∏' },
                { id: 8, name: 'petcare', display_name: '–£—Ö–æ–¥ –∑–∞ –ø–∏—Ç–æ–º—Ü–∞–º–∏', icon: 'fas fa-paw', description: '–í—ã–≥—É–ª, –∫–æ—Ä–º–ª–µ–Ω–∏–µ, —É—Ö–æ–¥ –∑–∞ –∂–∏–≤–æ—Ç–Ω—ã–º–∏' },
                { id: 9, name: 'delivery', display_name: '–î–æ—Å—Ç–∞–≤–∫–∞', icon: 'fas fa-shipping-fast', description: '–î–æ—Å—Ç–∞–≤–∫–∞ –µ–¥—ã, –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –ø–æ–∫—É–ø–æ–∫' },
                { id: 10, name: 'repair', display_name: '–†–µ–º–æ–Ω—Ç', icon: 'fas fa-tools', description: '–ú–µ–ª–∫–∏–π —Ä–µ–º–æ–Ω—Ç, —Å–±–æ—Ä–∫–∞ –º–µ–±–µ–ª–∏, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å' }
            ];
        }
        
        // –î–µ–º–æ-–ø–æ–¥–ø–∏—Å–∫–∏
        function getDefaultSubscriptions() {
            return [
                {
                    id: 1,
                    name: 'free',
                    display_name: '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π',
                    price_monthly: 0,
                    price_yearly: 0,
                    features: [
                        '–î–æ 3 –∑–∞–¥–∞—á –≤ –º–µ—Å—è—Ü',
                        '–ë–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü',
                        '–û–±—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞',
                        '–û—Ü–µ–Ω–∫–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü'
                    ],
                    is_featured: false
                },
                {
                    id: 2,
                    name: 'basic',
                    display_name: '–ë–∞–∑–æ–≤—ã–π',
                    price_monthly: 990,
                    price_yearly: 9500,
                    features: [
                        '–î–æ 10 –∑–∞–¥–∞—á –≤ –º–µ—Å—è—Ü',
                        '–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫',
                        '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞',
                        '–ü–æ–¥–±–æ—Ä –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü',
                        '–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏'
                    ],
                    is_featured: false
                },
                {
                    id: 3,
                    name: 'premium',
                    display_name: '–ü—Ä–µ–º–∏—É–º',
                    price_monthly: 2990,
                    price_yearly: 28650,
                    features: [
                        '–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á',
                        '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä',
                        '–≠–∫—Å–ø—Ä–µ—Å—Å-–ø–æ–¥–±–æ—Ä –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü',
                        'VIP-–ø–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7',
                        '–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á',
                        '–°–∫–∏–¥–∫–∏ –Ω–∞ —É—Å–ª—É–≥–∏'
                    ],
                    is_featured: true
                },
                {
                    id: 4,
                    name: 'vip',
                    display_name: 'VIP',
                    price_monthly: 5990,
                    price_yearly: 57500,
                    features: [
                        '–í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ü—Ä–µ–º–∏—É–º',
                        '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â–Ω–∏—Ü–∞',
                        '–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü—ã',
                        '–ö–æ–Ω—Å—å–µ—Ä–∂-—Å–µ—Ä–≤–∏—Å',
                        '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏',
                        '–ü–æ–¥–∞—Ä–∫–∏ –∏ –±–æ–Ω—É—Å—ã'
                    ],
                    is_featured: false
                }
            ];
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function loadUserData() {
            try {
                showLoading('–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è...');
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–¥–∞—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const tasksResponse = await fetch('/api/tasks', {
                    headers: { 'Authorization': `Bearer ${app.token}` }
                });
                if (tasksResponse.ok) {
                    const tasksData = await tasksResponse.json();
                    app.tasks = tasksData.tasks || [];
                }
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–ª–∞—Ç–µ–∂–∏
                const paymentsResponse = await fetch('/api/payments', {
                    headers: { 'Authorization': `Bearer ${app.token}` }
                });
                if (paymentsResponse.ok) {
                    const paymentsData = await paymentsResponse.json();
                    app.payments = paymentsData.payments || [];
                }
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è
                const messagesResponse = await fetch('/api/messages', {
                    headers: { 'Authorization': `Bearer ${app.token}` }
                });
                if (messagesResponse.ok) {
                    const messagesData = await messagesResponse.json();
                    app.messages = messagesData.messages || [];
                }
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
                app.tasks = getDemoTasks();
                app.payments = getDemoPayments();
                app.messages = getDemoMessages();
            } finally {
                hideLoading();
            }
        }
        
        // –î–µ–º–æ-–∑–∞–¥–∞—á–∏
        function getDemoTasks() {
            return [
                {
                    id: 1,
                    title: '–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è —É–±–æ—Ä–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã',
                    description: '–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å –≥–µ–Ω–µ—Ä–∞–ª—å–Ω—É—é —É–±–æ—Ä–∫—É 3-–∫–æ–º–Ω–∞—Ç–Ω–æ–π –∫–≤–∞—Ä—Ç–∏—Ä—ã. –û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∫—É—Ö–Ω–µ –∏ –≤–∞–Ω–Ω–æ–π.',
                    category_id: 1,
                    status: 'completed',
                    budget: 5000,
                    created_at: '2024-01-15T10:30:00Z',
                    client_id: 1,
                    performer_id: 10,
                    rating: 5,
                    review: '–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞, –≤—Å—ë —Å–¥–µ–ª–∞–Ω–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ –∏ –±—ã—Å—Ç—Ä–æ!'
                },
                {
                    id: 2,
                    title: '–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ —É–∂–∏–Ω–∞ –Ω–∞ 4 –ø–µ—Ä—Å–æ–Ω—ã',
                    description: '–ù—É–∂–Ω–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —É–∂–∏–Ω –Ω–∞ –¥–≤–æ–∏—Ö. –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è: –∏—Ç–∞–ª—å—è–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è.',
                    category_id: 2,
                    status: 'in_progress',
                    budget: 3000,
                    created_at: '2024-01-20T14:00:00Z',
                    client_id: 1,
                    performer_id: 11,
                    deadline: '2024-01-25T19:00:00Z'
                },
                {
                    id: 3,
                    title: '–ü–æ–∫—É–ø–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –Ω–∞ –Ω–µ–¥–µ–ª—é',
                    description: '–ó–∞–∫—É–ø–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–æ —Å–ø–∏—Å–∫—É –≤ —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç–µ —Ä—è–¥–æ–º —Å –¥–æ–º–æ–º.',
                    category_id: 3,
                    status: 'searching',
                    budget: 8000,
                    created_at: '2024-01-22T09:15:00Z',
                    client_id: 1,
                    address: '–ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 10'
                }
            ];
        }
        
        // –î–µ–º–æ-–ø–ª–∞—Ç–µ–∂–∏
        function getDemoPayments() {
            return [
                {
                    id: 1,
                    amount: 2990,
                    type: 'subscription',
                    status: 'completed',
                    created_at: '2024-01-01T10:00:00Z',
                    description: '–ü—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —è–Ω–≤–∞—Ä—å'
                },
                {
                    id: 2,
                    amount: 5000,
                    type: 'task',
                    status: 'completed',
                    created_at: '2024-01-16T12:30:00Z',
                    description: '–û–ø–ª–∞—Ç–∞ —É–±–æ—Ä–∫–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã'
                },
                {
                    id: 3,
                    amount: 10000,
                    type: 'deposit',
                    status: 'completed',
                    created_at: '2024-01-10T15:45:00Z',
                    description: '–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞'
                }
            ];
        }
        
        // –î–µ–º–æ-—Å–æ–æ–±—â–µ–Ω–∏—è
        function getDemoMessages() {
            return [
                {
                    id: 1,
                    task_id: 1,
                    sender_id: 10,
                    receiver_id: 1,
                    content: '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ì–æ—Ç–æ–≤–∞ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —É–±–æ—Ä–∫–µ. –£—Ç–æ—á–Ω–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω—É–∂–Ω—ã –ª–∏ –º–æ—é—â–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ —Å —Å–æ–±–æ–π?',
                    created_at: '2024-01-14T09:30:00Z',
                    is_read: true
                },
                {
                    id: 2,
                    task_id: 1,
                    sender_id: 1,
                    receiver_id: 10,
                    content: '–î–æ–±—Ä—ã–π –¥–µ–Ω—å! –°—Ä–µ–¥—Å—Ç–≤–∞ –µ—Å—Ç—å, –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –Ω–µ –Ω—É–∂–Ω–æ. –í–æ —Å–∫–æ–ª—å–∫–æ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –ø—Ä–∏–µ—Ö–∞—Ç—å?',
                    created_at: '2024-01-14T10:15:00Z',
                    is_read: true
                },
                {
                    id: 3,
                    task_id: 2,
                    sender_id: 11,
                    receiver_id: 1,
                    content: '–ü—Ä–∏–≤–µ—Ç! –ò–∑—É—á–∏–ª–∞ –≤–∞—à –∑–∞–ø—Ä–æ—Å. –ü—Ä–µ–¥–ª–∞–≥–∞—é –º–µ–Ω—é: –∫–∞—Ä–ø–∞—á—á–æ, —Ä–∏–∑–æ—Ç—Ç–æ —Å –≥—Ä–∏–±–∞–º–∏, —Ç–∏—Ä–∞–º–∏—Å—É. –ö–∞–∫ –≤–∞–º?',
                    created_at: '2024-01-21T11:20:00Z',
                    is_read: false
                }
            ];
        }

        // ==================== –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø ====================
        async function verifyToken() {
            try {
                const response = await fetch('/api/auth/me', {
                    headers: { 'Authorization': `Bearer ${app.token}` }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    app.currentUser = data.user;
                    updateUserMenu();
                    loadUserData();
                } else {
                    localStorage.removeItem('token');
                    app.token = null;
                    app.currentUser = null;
                    updateUserMenu();
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞:', error);
                localStorage.removeItem('token');
                app.token = null;
                app.currentUser = null;
                updateUserMenu();
            }
        }
        
        // –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
        async function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', 'error');
                return;
            }
            
            showLoading('–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É...');
            
            try {
                const response = await fetch('/api/auth/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, password })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    app.token = data.token;
                    app.currentUser = data.user;
                    localStorage.setItem('token', app.token);
                    
                    showNotification('–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!', 'success');
                    closeModal('authModal');
                    updateUserMenu();
                    
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    await loadUserData();
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
                    loadCurrentPage();
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                    if (data.isNewUser) {
                        setTimeout(() => openModal('welcomeOverlay'), 500);
                    }
                    
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
            } finally {
                hideLoading();
            }
        }
        
        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
        async function register() {
            const firstName = document.getElementById('registerFirstName').value;
            const lastName = document.getElementById('registerLastName').value;
            const email = document.getElementById('registerEmail').value;
            const phone = document.getElementById('registerPhone').value;
            const password = document.getElementById('registerPassword').value;
            const passwordConfirm = document.getElementById('registerPasswordConfirm').value;
            const acceptTerms = document.getElementById('acceptTerms').checked;
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è
            if (!firstName || !lastName || !email || !password || !passwordConfirm) {
                showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è', 'error');
                return;
            }
            
            if (password !== passwordConfirm) {
                showNotification('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç', 'error');
                return;
            }
            
            if (password.length < 8) {
                showNotification('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 8 —Å–∏–º–≤–æ–ª–æ–≤', 'error');
                return;
            }
            
            if (!acceptTerms) {
                showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–Ω—è—Ç—å —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è', 'error');
                return;
            }
            
            showLoading('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è...');
            
            try {
                const response = await fetch('/api/auth/register', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        first_name: firstName,
                        last_name: lastName,
                        email,
                        phone,
                        password
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showNotification('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ email –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.', 'success');
                    
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥–∏–º
                    app.token = data.token;
                    app.currentUser = data.user;
                    localStorage.setItem('token', app.token);
                    
                    closeModal('authModal');
                    updateUserMenu();
                    loadUserData();
                    loadCurrentPage();
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
                    setTimeout(() => openModal('welcomeOverlay'), 500);
                    
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
            } finally {
                hideLoading();
            }
        }
        
        // –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
        async function logout() {
            showLoading('–í—ã—Ö–æ–¥...');
            
            try {
                await fetch('/api/auth/logout', {
                    method: 'POST',
                    headers: { 'Authorization': `Bearer ${app.token}` }
                });
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –≤—ã—Ö–æ–¥–∞:', error);
            } finally {
                app.token = null;
                app.currentUser = null;
                localStorage.removeItem('token');
                
                updateUserMenu();
                navigate('home');
                showNotification('–í—ã –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã', 'info');
                hideLoading();
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function updateUserMenu() {
            const userDropdown = document.getElementById('userDropdown');
            const userName = document.getElementById('userName');
            const userRole = document.getElementById('userRole');
            const avatarInitials = document.getElementById('avatarInitials');
            const dropdownMenu = document.getElementById('dropdownMenu');
            
            if (app.currentUser) {
                const firstName = app.currentUser.first_name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
                const lastName = app.currentUser.last_name || '';
                const role = app.currentUser.role || 'client';
                const roleInfo = app.constants.USER_ROLES[role];
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                userName.textContent = firstName;
                userRole.textContent = roleInfo.name;
                avatarInitials.textContent = firstName.charAt(0).toUpperCase();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –º–µ–Ω—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏
                updateDropdownMenu(role);
                
                userDropdown.classList.remove('hidden');
            } else {
                userName.textContent = '–ì–æ—Å—Ç—å';
                userRole.textContent = '–í–æ–π—Ç–∏';
                avatarInitials.textContent = '–ì';
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫—É –≤—Ö–æ–¥–∞
                dropdownMenu.innerHTML = `
                    <a href="#" class="dropdown-item" onclick="openModal('authModal')">
                        <i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏
                    </a>
                    <a href="#" class="dropdown-item" onclick="switchAuthTab('register')">
                        <i class="fas fa-user-plus"></i> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                    </a>
                `;
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ –º–µ–Ω—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏
        function updateDropdownMenu(role) {
            const dropdownMenu = document.getElementById('dropdownMenu');
            let menuItems = '';
            
            // –û–±—â–∏–µ –ø—É–Ω–∫—Ç—ã –¥–ª—è –≤—Å–µ—Ö –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            menuItems += `
                <a href="#" class="dropdown-item" data-page="profile">
                    <i class="fas fa-user-circle"></i> –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
                </a>
                <a href="#" class="dropdown-item" data-page="tasks">
                    <i class="fas fa-tasks"></i> –ú–æ–∏ –∑–∞–¥–∞—á–∏
                </a>
                <a href="#" class="dropdown-item" id="btnNotifications">
                    <i class="fas fa-bell"></i> –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                    <span class="badge badge-primary ml-auto" id="notificationCount">3</span>
                </a>
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item" id="btnSettings">
                    <i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                </a>
                <a href="#" class="dropdown-item" id="btnHelp">
                    <i class="fas fa-question-circle"></i> –ü–æ–º–æ—â—å
                </a>
            `;
            
            // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
            if (role === 'performer') {
                menuItems += `
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item" data-page="performer">
                        <i class="fas fa-user-tie"></i> –ü–∞–Ω–µ–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
                    </a>
                    <a href="#" class="dropdown-item" onclick="openModal('specializationsModal')">
                        <i class="fas fa-certificate"></i> –ú–æ–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
                    </a>
                `;
            }
            
            // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
            if (['admin', 'manager', 'superadmin'].includes(role)) {
                menuItems += `
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item" data-page="admin">
                        <i class="fas fa-user-shield"></i> –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
                    </a>
                    <a href="#" class="dropdown-item" onclick="openModal('addAdminModal')">
                        <i class="fas fa-plus-circle"></i> –î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
                    </a>
                `;
            }
            
            // –í—ã—Ö–æ–¥
            menuItems += `
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item text-error" id="btnLogout">
                    <i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏
                </a>
            `;
            
            dropdownMenu.innerHTML = menuItems;
        }

        // ==================== –ù–ê–í–ò–ì–ê–¶–ò–Ø ====================
        function navigate(page, taskId = null) {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
            if (!checkPageAccess(page)) {
                return;
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –∑–∞–¥–∞—á–∏ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            if (taskId && page === 'task-details') {
                app.currentTaskId = taskId;
            }
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            document.querySelectorAll('.page').forEach(p => {
                p.classList.remove('active');
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-page') === page) {
                    link.classList.add('active');
                }
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            const targetPage = document.getElementById(`page-${page}`);
            if (targetPage) {
                targetPage.classList.add('active');
                app.currentPage = page;
                loadCurrentPage();
            }
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
            closeMobileMenu();
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        function checkPageAccess(page) {
            const user = app.currentUser;
            const role = user?.role || 'guest';
            
            // –°—Ç—Ä–∞–Ω–∏—Ü—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤—Å–µ–º
            const publicPages = ['home', 'services', 'subscriptions'];
            if (publicPages.includes(page)) return true;
            
            // –°—Ç—Ä–∞–Ω–∏—Ü—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            if (!user) {
                showNotification('–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É', 'warning');
                openModal('authModal');
                return false;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–æ–≤
            switch(page) {
                case 'admin':
                    if (!['admin', 'manager', 'superadmin'].includes(role)) {
                        showNotification('–£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏', 'error');
                        return false;
                    }
                    break;
                    
                case 'performer':
                    if (role !== 'performer') {
                        showNotification('–≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º', 'error');
                        return false;
                    }
                    break;
                    
                case 'task-details':
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –∑–∞–¥–∞—á–µ
                    if (!app.currentTaskId) return false;
                    break;
            }
            
            return true;
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        function loadCurrentPage() {
            switch(app.currentPage) {
                case 'home':
                    loadHomePage();
                    break;
                case 'services':
                    loadServicesPage();
                    break;
                case 'subscriptions':
                    loadSubscriptionsPage();
                    break;
                case 'tasks':
                    loadTasksPage();
                    break;
                case 'profile':
                    loadProfilePage();
                    break;
                case 'admin':
                    loadAdminPage();
                    break;
                case 'performer':
                    loadPerformerPage();
                    break;
                case 'task-details':
                    loadTaskDetailsPage();
                    break;
            }
        }

        // ==================== –°–¢–†–ê–ù–ò–¶–´ ====================
        // –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
        function loadHomePage() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            const categoriesContainer = document.getElementById('homeCategories');
            if (categoriesContainer) {
                const categories = app.categories.slice(0, 6); // –ü–µ—Ä–≤—ã–µ 6 –∫–∞—Ç–µ–≥–æ—Ä–∏–π
                categoriesContainer.innerHTML = categories.map(cat => `
                    <div class="category-card hover-lift" onclick="navigate('services')">
                        <div class="category-icon">
                            <i class="${cat.icon}"></i>
                        </div>
                        <h3 class="category-title">${cat.display_name}</h3>
                        <p class="category-description">${cat.description}</p>
                    </div>
                `).join('');
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Ç–∑—ã–≤—ã
            const reviewsContainer = document.getElementById('homeReviews');
            if (reviewsContainer) {
                const reviews = getDemoReviews();
                reviewsContainer.innerHTML = reviews.map(review => `
                    <div class="card hover-lift">
                        <div class="card-body">
                            <div class="rating mb-4">
                                ${Array.from({length: 5}, (_, i) => `
                                    <i class="fas fa-star ${i < review.rating ? 'text-yellow-400' : 'text-gray-300'}"></i>
                                `).join('')}
                            </div>
                            <p class="text-medium mb-4 italic">"${review.comment}"</p>
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 rounded-full bg-gradient-to-r from-pink to-lavender"></div>
                                <div>
                                    <div class="font-semibold">${review.author}</div>
                                    <div class="text-sm text-medium">${review.date}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
        }
        
        // –î–µ–º–æ-–æ—Ç–∑—ã–≤—ã
        function getDemoReviews() {
            return [
                {
                    id: 1,
                    author: '–ê–Ω–Ω–∞ –ö.',
                    rating: 5,
                    comment: '–û—Ç–ª–∏—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å! –ù–∞—à–ª–∞ –ø–æ–º–æ—â–Ω–∏—Ü—É –¥–ª—è —É–±–æ—Ä–∫–∏, –≤—Å—ë —Å–¥–µ–ª–∞–Ω–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ. –ë—É–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ.',
                    date: '15 —è–Ω–≤–∞—Ä—è 2024'
                },
                {
                    id: 2,
                    author: '–ú–∞—Ä–∏–Ω–∞ –°.',
                    rating: 4,
                    comment: '–û—á–µ–Ω—å —É–¥–æ–±–Ω–æ, —á—Ç–æ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø–æ–º–æ—â—å –¥–ª—è –ª—é–±—ã—Ö –∑–∞–¥–∞—á. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –ø–æ–º–æ–≥–ª–∞ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –¥–µ—Ç—Å–∫–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫ - –≤—Å—ë –ø—Ä–æ—à–ª–æ –∏–¥–µ–∞–ª—å–Ω–æ!',
                    date: '10 —è–Ω–≤–∞—Ä—è 2024'
                },
                {
                    id: 3,
                    author: '–ï–ª–µ–Ω–∞ –í.',
                    rating: 5,
                    comment: '–ö–∞–∫ –º–∞–º–µ –¥–≤–æ–∏—Ö –¥–µ—Ç–µ–π, –º–Ω–µ —á–∞—Å—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–∏. –ë–ª–∞–≥–æ–¥–∞—Ä—è –ñ–µ–Ω—Å–∫–æ–º—É –ö–æ–Ω—Å—å–µ—Ä–∂—É –º–æ–≥—É –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –∏ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ —É–¥–µ–ª—è—Ç—å —Å–µ–º—å–µ.',
                    date: '5 —è–Ω–≤–∞—Ä—è 2024'
                }
            ];
        }
        
        // –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É—Å–ª—É–≥
        function loadServicesPage() {
            const container = document.getElementById('servicesGrid');
            if (container) {
                container.innerHTML = app.categories.map(category => `
                    <div class="category-card hover-lift" onclick="startOrderFromCategory(${category.id})">
                        <div class="category-icon">
                            <i class="${category.icon}"></i>
                        </div>
                        <h3 class="category-title">${category.display_name}</h3>
                        <p class="category-description">${category.description}</p>
                        <div class="mt-4">
                            <span class="badge badge-secondary">–æ—Ç 1,500 ‚ÇΩ</span>
                        </div>
                    </div>
                `).join('');
            }
        }
        
        // –ù–∞—á–∞–ª–æ –∑–∞–∫–∞–∑–∞
        function startOrderFromCategory(categoryId) {
            if (!app.currentUser) {
                showNotification('–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É', 'warning');
                openModal('authModal');
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–ø–∏—Å–∫—É
            if (!checkSubscriptionForTask()) {
                openModal('subscriptionWizardModal');
                return;
            }
            
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º –≤–∏–∑–∞—Ä–¥ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏
            openTaskWizard(categoryId);
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏
        function checkSubscriptionForTask() {
            const user = app.currentUser;
            if (!user) return false;
            
            const subscription = user.subscription;
            const taskCount = app.tasks.filter(t => 
                t.status !== 'cancelled' && 
                new Date(t.created_at) > new Date(Date.now() - 30*24*60*60*1000)
            ).length;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–¥–ø–∏—Å–∫–∏
            switch(subscription?.plan) {
                case 'free':
                    return taskCount < 3;
                case 'basic':
                    return taskCount < 10;
                case 'premium':
                case 'vip':
                    return true;
                default:
                    return taskCount < 1; // –ë–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏ - 1 –∑–∞–¥–∞—á–∞
            }
        }
        
        // –í–∏–∑–∞—Ä–¥ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏
        let currentTaskStep = 1;
        let selectedCategoryId = null;
        
        function openTaskWizard(categoryId) {
            selectedCategoryId = categoryId;
            currentTaskStep = 1;
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
            document.getElementById('taskTitle').value = '';
            document.getElementById('taskDescription').value = '';
            document.getElementById('taskBudget').value = '';
            document.getElementById('taskDeadline').value = '';
            document.getElementById('taskAddress').value = '';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π —à–∞–≥
            document.querySelectorAll('.task-wizard-step').forEach(step => {
                step.classList.add('hidden');
            });
            document.getElementById('taskStep1').classList.remove('hidden');
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏
            document.getElementById('taskPrevBtn').style.display = 'none';
            document.getElementById('taskNextBtn').style.display = 'inline-flex';
            document.getElementById('taskSubmitBtn').style.display = 'none';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            document.getElementById('taskWizardProgress').style.width = '25%';
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞
            const categoriesContainer = document.getElementById('taskCategoriesSelect');
            categoriesContainer.innerHTML = app.categories.map(cat => `
                <label class="radio-label cursor-pointer">
                    <input type="radio" name="taskCategory" class="radio-input" value="${cat.id}" ${cat.id == categoryId ? 'checked' : ''}>
                    <span class="radio-custom"></span>
                    <span class="flex items-center gap-3 p-3 border rounded-lg hover:border-gold">
                        <i class="${cat.icon} text-gold text-xl"></i>
                        <div>
                            <div class="font-semibold">${cat.display_name}</div>
                            <div class="text-sm text-medium">${cat.description}</div>
                        </div>
                    </span>
                </label>
            `).join('');
            
            openModal('newTaskModal');
        }
        
        function taskWizardNext() {
            // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞
            if (!validateTaskStep(currentTaskStep)) {
                return;
            }
            
            // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É
            currentTaskStep++;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —à–∞–≥–æ–≤
            document.querySelectorAll('.task-wizard-step').forEach(step => {
                step.classList.add('hidden');
            });
            document.getElementById(`taskStep${currentTaskStep}`).classList.remove('hidden');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
            document.getElementById('taskPrevBtn').style.display = 'inline-flex';
            
            if (currentTaskStep === 4) {
                updateTaskConfirmation();
                document.getElementById('taskNextBtn').style.display = 'none';
                document.getElementById('taskSubmitBtn').style.display = 'inline-flex';
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            document.getElementById('taskWizardProgress').style.width = `${currentTaskStep * 25}%`;
        }
        
        function taskWizardPrev() {
            currentTaskStep--;
            
            document.querySelectorAll('.task-wizard-step').forEach(step => {
                step.classList.add('hidden');
            });
            document.getElementById(`taskStep${currentTaskStep}`).classList.remove('hidden');
            
            if (currentTaskStep === 1) {
                document.getElementById('taskPrevBtn').style.display = 'none';
            }
            
            document.getElementById('taskNextBtn').style.display = 'inline-flex';
            document.getElementById('taskSubmitBtn').style.display = 'none';
            
            document.getElementById('taskWizardProgress').style.width = `${currentTaskStep * 25}%`;
        }
        
        function validateTaskStep(step) {
            switch(step) {
                case 1:
                    const selectedCategory = document.querySelector('input[name="taskCategory"]:checked');
                    if (!selectedCategory) {
                        showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é', 'error');
                        return false;
                    }
                    selectedCategoryId = selectedCategory.value;
                    return true;
                    
                case 2:
                    const title = document.getElementById('taskTitle').value.trim();
                    const description = document.getElementById('taskDescription').value.trim();
                    
                    if (!title) {
                        showNotification('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏', 'error');
                        return false;
                    }
                    
                    if (!description) {
                        showNotification('–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏', 'error');
                        return false;
                    }
                    
                    return true;
                    
                case 3:
                    // –®–∞–≥ 3 –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏
                    return true;
                    
                case 4:
                    const confirmTerms = document.getElementById('confirmTerms').checked;
                    if (!confirmTerms) {
                        showNotification('–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É—Å–ª–æ–≤–∏—è', 'error');
                        return false;
                    }
                    return true;
            }
            return true;
        }
        
        function updateTaskConfirmation() {
            const category = app.categories.find(c => c.id == selectedCategoryId);
            const title = document.getElementById('taskTitle').value;
            const description = document.getElementById('taskDescription').value;
            const budget = document.getElementById('taskBudget').value;
            
            document.getElementById('confirmTaskTitle').textContent = title;
            document.getElementById('confirmTaskDescription').textContent = description;
            document.getElementById('confirmTaskCategory').textContent = category?.display_name || '–ö–∞—Ç–µ–≥–æ—Ä–∏—è';
            document.getElementById('confirmTaskBudget').textContent = budget ? `${budget} ‚ÇΩ` : '–î–æ–≥–æ–≤–æ—Ä–Ω–∞—è';
        }
        
        async function submitNewTask() {
            if (!validateTaskStep(4)) {
                return;
            }
            
            showLoading('–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏...');
            
            try {
                const taskData = {
                    title: document.getElementById('taskTitle').value,
                    description: document.getElementById('taskDescription').value,
                    category_id: selectedCategoryId,
                    budget: document.getElementById('taskBudget').value || null,
                    deadline: document.getElementById('taskDeadline').value || null,
                    address: document.getElementById('taskAddress').value || null,
                    priority: document.getElementById('taskPriority').value,
                    requirements: {
                        experience: document.getElementById('reqExperience').checked,
                        certified: document.getElementById('reqCertified').checked,
                        reviews: document.getElementById('reqReviews').checked
                    }
                };
                
                const response = await fetch('/api/tasks', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${app.token}`
                    },
                    body: JSON.stringify(taskData)
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showNotification('–ó–∞–¥–∞—á–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!', 'success');
                    closeModal('newTaskModal');
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–∞—á—É –≤ —Å–ø–∏—Å–æ–∫
                    app.tasks.unshift(data.task);
                    
                    // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∑–∞–¥–∞—á
                    navigate('tasks');
                    
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
            } finally {
                hideLoading();
            }
        }
        
        // –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥–ø–∏—Å–æ–∫
        function loadSubscriptionsPage() {
            const container = document.getElementById('subscriptionsGrid');
            if (container) {
                container.innerHTML = app.subscriptions.map(sub => `
                    <div class="pricing-card ${sub.is_featured ? 'featured' : ''}">
                        ${sub.is_featured ? '<div class="pricing-badge">–ü–æ–ø—É–ª—è—Ä–Ω—ã–π</div>' : ''}
                        <div class="pricing-header">
                            <h3 class="pricing-title">${sub.display_name}</h3>
                            <div class="pricing-price" id="price-${sub.name}">
                                ${sub.price_monthly.toLocaleString()} ‚ÇΩ
                            </div>
                            <div class="pricing-period">–≤ –º–µ—Å—è—Ü</div>
                        </div>
                        <div class="pricing-body">
                            <ul class="pricing-features">
                                ${sub.features.map(feature => `
                                    <li class="pricing-feature">
                                        <i class="fas fa-check"></i>
                                        <span>${feature}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                        <div class="pricing-footer">
                            <button class="btn ${sub.is_featured ? 'btn-primary' : 'btn-outline'} w-full" 
                                    onclick="selectSubscription('${sub.name}')">
                                ${sub.name === 'free' ? '–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ' : '–í—ã–±—Ä–∞—Ç—å —Ç–∞—Ä–∏—Ñ'}
                            </button>
                        </div>
                    </div>
                `).join('');
            }
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –º–µ—Å—è—á–Ω—ã–º –∏ –≥–æ–¥–æ–≤—ã–º –ø–ª–∞–Ω–æ–º
            document.getElementById('toggleMonthly').addEventListener('click', function() {
                this.classList.remove('btn-secondary');
                this.classList.add('btn-primary');
                document.getElementById('toggleYearly').classList.remove('btn-primary');
                document.getElementById('toggleYearly').classList.add('btn-secondary');
                updateSubscriptionPrices('monthly');
            });
            
            document.getElementById('toggleYearly').addEventListener('click', function() {
                this.classList.remove('btn-secondary');
                this.classList.add('btn-primary');
                document.getElementById('toggleMonthly').classList.remove('btn-primary');
                document.getElementById('toggleMonthly').classList.add('btn-secondary');
                updateSubscriptionPrices('yearly');
            });
        }
        
        function updateSubscriptionPrices(period) {
            app.subscriptions.forEach(sub => {
                const priceElement = document.getElementById(`price-${sub.name}`);
                if (priceElement) {
                    const price = period === 'yearly' ? sub.price_yearly : sub.price_monthly;
                    priceElement.textContent = `${price.toLocaleString()} ‚ÇΩ`;
                    
                    if (period === 'yearly') {
                        priceElement.parentElement.nextElementSibling.textContent = '–≤ –≥–æ–¥';
                    } else {
                        priceElement.parentElement.nextElementSibling.textContent = '–≤ –º–µ—Å—è—Ü';
                    }
                }
            });
        }
        
        function selectSubscription(planName) {
            if (!app.currentUser) {
                showNotification('–î–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É', 'warning');
                openModal('authModal');
                return;
            }
            
            const plan = app.subscriptions.find(s => s.name === planName);
            if (!plan) return;
            
            if (plan.name === 'free') {
                // –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
                subscribeToPlan(plan.name);
            } else {
                // –ü–ª–∞—Ç–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ - –æ—Ç–∫—Ä—ã–≤–∞–µ–º –≤–∏–∑–∞—Ä–¥
                openSubscriptionWizard(plan);
            }
        }
        
        // –í–∏–∑–∞—Ä–¥ –ø–æ–¥–ø–∏—Å–∫–∏
        let currentWizardStep = 1;
        let selectedPlan = null;
        
        function openSubscriptionWizard(plan) {
            selectedPlan = plan;
            currentWizardStep = 1;
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
            document.getElementById('agreeFee').checked = false;
            document.getElementById('wizardPaymentMethod').value = 'card';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π —à–∞–≥
            document.querySelectorAll('.wizard-step').forEach(step => {
                step.classList.add('hidden');
            });
            document.getElementById('wizardStep1').classList.remove('hidden');
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏
            document.getElementById('wizardPrevBtn').style.display = 'none';
            document.getElementById('wizardNextBtn').style.display = 'inline-flex';
            document.getElementById('wizardPayBtn').style.display = 'none';
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–ª–∞–Ω—ã
            const plansContainer = document.getElementById('wizardPlans');
            plansContainer.innerHTML = app.subscriptions
                .filter(s => s.name !== 'free')
                .map(sub => `
                    <label class="radio-label cursor-pointer">
                        <input type="radio" name="wizardPlan" class="radio-input" value="${sub.name}" ${sub.name === plan.name ? 'checked' : ''}>
                        <span class="radio-custom"></span>
                        <span class="flex flex-col p-4 border rounded-lg hover:border-gold ${sub.name === plan.name ? 'border-gold bg-gold/5' : ''}">
                            <div class="flex justify-between items-center mb-2">
                                <div class="font-semibold text-lg">${sub.display_name}</div>
                                <div class="text-xl font-bold text-gold">${sub.price_monthly.toLocaleString()} ‚ÇΩ</div>
                            </div>
                            <div class="text-sm text-medium mb-3">–≤ –º–µ—Å—è—Ü</div>
                            <ul class="text-sm space-y-1 mb-3">
                                ${sub.features.slice(0, 3).map(f => `<li class="flex items-center gap-1"><i class="fas fa-check text-success text-xs"></i> ${f}</li>`).join('')}
                            </ul>
                        </span>
                    </label>
                `).join('');
            
            openModal('subscriptionWizardModal');
        }
        
        function subscriptionWizardNext() {
            currentWizardStep++;
            
            document.querySelectorAll('.wizard-step').forEach(step => {
                step.classList.add('hidden');
            });
            document.getElementById(`wizardStep${currentWizardStep}`).classList.remove('hidden');
            
            document.getElementById('wizardPrevBtn').style.display = 'inline-flex';
            
            if (currentWizardStep === 2) {
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É–º–º—É –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤–∑–Ω–æ—Å–∞
                const fee = selectedPlan.name === 'vip' ? 10000 : 5000;
                document.getElementById('wizardFee').textContent = `${fee.toLocaleString()} ‚ÇΩ`;
            }
            
            if (currentWizardStep === 3) {
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Å—É–º–º—É
                const fee = selectedPlan.name === 'vip' ? 10000 : 5000;
                const total = fee + selectedPlan.price_monthly;
                
                document.getElementById('wizardPlanName').textContent = `${selectedPlan.display_name} –ø–æ–¥–ø–∏—Å–∫–∞`;
                document.getElementById('wizardTotalAmount').textContent = `${total.toLocaleString()} ‚ÇΩ`;
                
                document.getElementById('wizardNextBtn').style.display = 'none';
                document.getElementById('wizardPayBtn').style.display = 'inline-flex';
            }
        }
        
        function subscriptionWizardPrev() {
            currentWizardStep--;
            
            document.querySelectorAll('.wizard-step').forEach(step => {
                step.classList.add('hidden');
            });
            document.getElementById(`wizardStep${currentWizardStep}`).classList.remove('hidden');
            
            if (currentWizardStep === 1) {
                document.getElementById('wizardPrevBtn').style.display = 'none';
            }
            
            document.getElementById('wizardNextBtn').style.display = 'inline-flex';
            document.getElementById('wizardPayBtn').style.display = 'none';
        }
        
        function completeSubscriptionWizard() {
            if (currentWizardStep !== 3) return;
            
            const agreeFee = document.getElementById('agreeFee').checked;
            if (!agreeFee) {
                showNotification('–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ —Å —É—Å–ª–æ–≤–∏—è–º–∏ –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤–∑–Ω–æ—Å–∞', 'error');
                return;
            }
            
            // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –æ–ø–ª–∞—Ç–µ
            openPaymentModal(selectedPlan);
            closeModal('subscriptionWizardModal');
        }
        
        // –û–ø–ª–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∫–∏
        function openPaymentModal(plan) {
            selectedPlan = plan;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –º–æ–¥–∞–ª–∫–µ
            document.getElementById('paymentPlanName').textContent = plan.display_name;
            document.getElementById('paymentAmount').textContent = `${plan.price_monthly.toLocaleString()} ‚ÇΩ/–º–µ—Å—è—Ü`;
            document.getElementById('paymentPrice').textContent = `${plan.price_monthly.toLocaleString()} ‚ÇΩ`;
            
            const tax = Math.round(plan.price_monthly * 0.2);
            document.getElementById('paymentTax').textContent = `${tax.toLocaleString()} ‚ÇΩ`;
            
            const total = plan.price_monthly + tax;
            document.getElementById('paymentTotal').textContent = `${total.toLocaleString()} ‚ÇΩ`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const balance = app.currentUser?.balance || 0;
            document.getElementById('balanceAmount').textContent = `${balance.toLocaleString()} ‚ÇΩ`;
            
            openModal('paymentModal');
        }
        
        async function processSubscriptionPayment() {
            showLoading('–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞...');
            
            try {
                const paymentMethod = document.querySelector('input[name="subscriptionPayment"]:checked').value;
                const autoRenewal = document.getElementById('autoRenewal').checked;
                
                const paymentData = {
                    plan: selectedPlan.name,
                    payment_method: paymentMethod,
                    auto_renewal: autoRenewal
                };
                
                // –ï—Å–ª–∏ –æ–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π, –¥–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã
                if (paymentMethod === 'card') {
                    const cardNumber = document.getElementById('cardNumber').value;
                    const cardExpiry = document.getElementById('cardExpiry').value;
                    const cardCvv = document.getElementById('cardCvv').value;
                    const cardHolder = document.getElementById('cardHolder').value;
                    
                    if (!cardNumber || !cardExpiry || !cardCvv || !cardHolder) {
                        showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã', 'error');
                        hideLoading();
                        return;
                    }
                    
                    paymentData.card = {
                        number: cardNumber.replace(/\s/g, ''),
                        expiry: cardExpiry,
                        cvv: cardCvv,
                        holder: cardHolder
                    };
                }
                
                const response = await fetch('/api/subscriptions/subscribe', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${app.token}`
                    },
                    body: JSON.stringify(paymentData)
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showNotification('–ü–æ–¥–ø–∏—Å–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞!', 'success');
                    closeModal('paymentModal');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    app.currentUser.subscription = data.subscription;
                    app.currentUser.balance = data.balance;
                    
                    updateUserMenu();
                    loadCurrentPage();
                    
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ –æ–ø–ª–∞—Ç—ã', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ–ø–ª–∞—Ç—ã:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
            } finally {
                hideLoading();
            }
        }
        
        async function subscribeToPlan(planName) {
            showLoading('–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏...');
            
            try {
                const response = await fetch('/api/subscriptions/subscribe', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${app.token}`
                    },
                    body: JSON.stringify({ plan: planName })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showNotification('–ü–æ–¥–ø–∏—Å–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞!', 'success');
                    app.currentUser.subscription = data.subscription;
                    updateUserMenu();
                    loadCurrentPage();
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
            } finally {
                hideLoading();
            }
        }
        
        // FAQ –¥–ª—è –ø–æ–¥–ø–∏—Å–æ–∫
        function loadSubscriptionFAQ() {
            const faqContainer = document.getElementById('subscriptionFAQ');
            const faqItems = [
                {
                    question: '–ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–ø–ª–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∫–∏?',
                    answer: '–û–ø–ª–∞—Ç–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–Ω–ª–∞–π–Ω —á–µ—Ä–µ–∑ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–ª–∞—Ç–µ–∂–Ω—ã–π —à–ª—é–∑. –ú—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã, –ÆMoney –∏ –°–ë–ü. –ü–µ—Ä–≤—ã–π –ø–ª–∞—Ç–µ–∂ –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–µ—Ä–≤–æ–≥–æ –º–µ—Å—è—Ü–∞ –ø–æ–¥–ø–∏—Å–∫–∏.'
                },
                {
                    question: '–ú–æ–∂–Ω–æ –ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É?',
                    answer: '–î–∞, –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è. –ü–æ–¥–ø–∏—Å–∫–∞ –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–Ω–∞ –¥–æ –∫–æ–Ω—Ü–∞ –æ–ø–ª–∞—á–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞.'
                },
                {
                    question: '–ß—Ç–æ —Ç–∞–∫–æ–µ –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å?',
                    answer: '–í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å ‚Äî —ç—Ç–æ –µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂ –∑–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –∞–∫–∫–∞—É–Ω—Ç–∞ –∏ –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã. –û–Ω –≤–∫–ª—é—á–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞.'
                },
                {
                    question: '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥?',
                    answer: '–î–∞, –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º 7-–¥–Ω–µ–≤–Ω—ã–π –ø—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è –≤—Å–µ—Ö —Ç–∞—Ä–∏—Ñ–æ–≤, –∫—Ä–æ–º–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ. –í —Ç–µ—á–µ–Ω–∏–µ –ø—Ä–æ–±–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –±–µ–∑ —Å–ø–∏—Å–∞–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤.'
                },
                {
                    question: '–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω?',
                    answer: '–í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è. –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –±–æ–ª–µ–µ –¥–æ—Ä–æ–≥–æ–π —Ç–∞—Ä–∏—Ñ —Ä–∞–∑–Ω–∏—Ü–∞ –±—É–¥–µ—Ç —Å–ø–∏—Å–∞–Ω–∞ —Å –≤–∞—à–µ–≥–æ —Å—á–µ—Ç–∞. –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –±–æ–ª–µ–µ –¥–µ—à–µ–≤—ã–π —Ç–∞—Ä–∏—Ñ –æ—Å—Ç–∞—Ç–æ–∫ —Å—Ä–µ–¥—Å—Ç–≤ –±—É–¥–µ—Ç –∑–∞—á–∏—Å–ª–µ–Ω –Ω–∞ –≤–∞—à –±–∞–ª–∞–Ω—Å.'
                }
            ];
            
            faqContainer.innerHTML = faqItems.map((item, index) => `
                <div class="accordion-item">
                    <button class="accordion-header ${index === 0 ? 'active' : ''}">
                        ${item.question}
                        <i class="fas fa-chevron-down accordion-icon"></i>
                    </button>
                    <div class="accordion-content ${index === 0 ? 'active' : ''}">
                        <p class="text-medium">${item.answer}</p>
                    </div>
                </div>
            `).join('');
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∞–∫–∫–æ—Ä–¥–µ–æ–Ω–∞
            document.querySelectorAll('.accordion-header').forEach(header => {
                header.addEventListener('click', function() {
                    const content = this.nextElementSibling;
                    const isActive = this.classList.contains('active');
                    
                    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã
                    document.querySelectorAll('.accordion-header').forEach(h => {
                        h.classList.remove('active');
                        h.nextElementSibling.classList.remove('active');
                    });
                    
                    // –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π, –µ—Å–ª–∏ –æ–Ω –±—ã–ª –∑–∞–∫—Ä—ã—Ç
                    if (!isActive) {
                        this.classList.add('active');
                        content.classList.add('active');
                    }
                });
            });
        }
        
        // –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–¥–∞—á
        function loadTasksPage() {
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
            const activeTasks = app.tasks.filter(t => 
                ['new', 'searching', 'assigned', 'in_progress'].includes(t.status)
            ).length;
            document.getElementById('activeTasksCount').textContent = activeTasks;
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∑–∞–¥–∞—á–∏
            renderTasksList();
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ñ–∏–ª—å—Ç—Ä—ã
            setupTaskFilters();
        }
        
        function renderTasksList() {
            const container = document.getElementById('tasksList');
            if (!container) return;
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä—ã
            let filteredTasks = [...app.tasks];
            const searchQuery = document.getElementById('taskSearch')?.value.toLowerCase() || '';
            const statusFilter = document.getElementById('taskFilterStatus')?.value || 'all';
            
            if (searchQuery) {
                filteredTasks = filteredTasks.filter(task => 
                    task.title.toLowerCase().includes(searchQuery) ||
                    task.description.toLowerCase().includes(searchQuery)
                );
            }
            
            if (statusFilter !== 'all') {
                filteredTasks = filteredTasks.filter(task => task.status === statusFilter);
            }
            
            if (filteredTasks.length === 0) {
                container.innerHTML = `
                    <div class="card text-center p-8">
                        <i class="fas fa-tasks text-4xl text-gray-300 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2">–ó–∞–¥–∞—á –ø–æ–∫–∞ –Ω–µ—Ç</h3>
                        <p class="text-medium mb-6">–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É –∏ –Ω–∞—á–Ω–∏—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –ø–æ–º–æ—â—å</p>
                        <button class="btn btn-primary" onclick="openModal('newTaskModal')">
                            <i class="fas fa-plus"></i> –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
                        </button>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = filteredTasks.map(task => {
                const category = app.categories.find(c => c.id === task.category_id);
                const status = app.constants.TASK_STATUSES[task.status];
                const date = new Date(task.created_at).toLocaleDateString('ru-RU');
                
                return `
                    <div class="task-card" onclick="viewTaskDetails(${task.id})">
                        <div class="task-header">
                            <div>
                                <h3 class="task-title">${task.title}</h3>
                                <div class="task-category">
                                    <i class="${category?.icon || 'fas fa-hands-helping'}"></i>
                                    ${category?.display_name || '–ö–∞—Ç–µ–≥–æ—Ä–∏—è'}
                                </div>
                            </div>
                            <span class="${status.color}">
                                <i class="${status.icon}"></i>
                                ${status.name}
                            </span>
                        </div>
                        <div class="task-body">
                            <p class="task-description">${task.description}</p>
                        </div>
                        <div class="task-footer">
                            <div class="task-meta">
                                <div class="task-date">
                                    <i class="far fa-calendar"></i>
                                    ${date}
                                </div>
                                ${task.budget ? `
                                    <div class="task-price">
                                        <i class="fas fa-ruble-sign"></i>
                                        ${task.budget.toLocaleString()} ‚ÇΩ
                                    </div>
                                ` : ''}
                            </div>
                            <div class="task-actions">
                                ${task.status === 'completed' && !task.rating ? `
                                    <button class="btn btn-sm btn-success" onclick="rateTask(${task.id}, event)">
                                        <i class="fas fa-star"></i> –û—Ü–µ–Ω–∏—Ç—å
                                    </button>
                                ` : ''}
                                ${task.status === 'in_progress' ? `
                                    <button class="btn btn-sm btn-secondary" onclick="sendMessage(${task.id}, event)">
                                        <i class="fas fa-comment"></i> –ù–∞–ø–∏—Å–∞—Ç—å
                                    </button>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function setupTaskFilters() {
            const searchInput = document.getElementById('taskSearch');
            const statusFilter = document.getElementById('taskFilterStatus');
            
            if (searchInput) {
                searchInput.addEventListener('input', debounce(renderTasksList, 300));
            }
            
            if (statusFilter) {
                statusFilter.addEventListener('change', renderTasksList);
            }
        }
        
        function viewTaskDetails(taskId) {
            navigate('task-details', taskId);
        }
        
        function rateTask(taskId, event) {
            if (event) event.stopPropagation();
            
            const task = app.tasks.find(t => t.id === taskId);
            if (!task) return;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –∑–∞–¥–∞—á–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏
            app.tempData.ratingTaskId = taskId;
            
            // –ù–∞—Ö–æ–¥–∏–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
            const performer = getDemoPerformer(task.performer_id);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –º–æ–¥–∞–ª–∫—É
            document.getElementById('rateTaskTitle').textContent = task.title;
            document.getElementById('ratePerformerName').textContent = performer?.name || '–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å';
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ä–µ–π—Ç–∏–Ω–≥
            document.querySelectorAll('#taskRating .rating-star').forEach(star => {
                star.classList.remove('active');
            });
            document.getElementById('taskReview').value = '';
            document.querySelector('input[name="recommend"][value="yes"]').checked = true;
            
            openModal('rateTaskModal');
        }
        
        async function submitTaskRating() {
            const taskId = app.tempData.ratingTaskId;
            if (!taskId) return;
            
            const rating = document.querySelectorAll('#taskRating .rating-star.active').length;
            const review = document.getElementById('taskReview').value.trim();
            const recommend = document.querySelector('input[name="recommend"]:checked').value;
            
            if (rating === 0) {
                showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ü–µ–Ω–∫—É', 'error');
                return;
            }
            
            showLoading('–û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–∑—ã–≤–∞...');
            
            try {
                const response = await fetch(`/api/tasks/${taskId}/rate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${app.token}`
                    },
                    body: JSON.stringify({
                        rating,
                        review,
                        recommend: recommend === 'yes'
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showNotification('–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –æ—Ç–∑—ã–≤!', 'success');
                    closeModal('rateTaskModal');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–¥–∞—á—É –≤ —Å–ø–∏—Å–∫–µ
                    const taskIndex = app.tasks.findIndex(t => t.id === taskId);
                    if (taskIndex !== -1) {
                        app.tasks[taskIndex].rating = rating;
                        app.tasks[taskIndex].review = review;
                    }
                    
                    renderTasksList();
                    
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–∑—ã–≤–∞', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–∑—ã–≤–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
            } finally {
                hideLoading();
            }
        }
        
        function sendMessage(taskId, event) {
            if (event) event.stopPropagation();
            
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º —á–∞—Ç –∑–∞–¥–∞—á–∏
            viewTaskDetails(taskId);
            
            // –§–æ–∫—É—Å–∏—Ä—É–µ–º—Å—è –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
            setTimeout(() => {
                const chatInput = document.querySelector('.chat-input');
                if (chatInput) chatInput.focus();
            }, 500);
        }
        
        // –î–µ–º–æ-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏
        function getDemoPerformer(id) {
            const performers = [
                { id: 10, name: '–ï–ª–µ–Ω–∞ –°.', rating: 4.8, completed_tasks: 42 },
                { id: 11, name: '–ê–Ω–Ω–∞ –ú.', rating: 4.9, completed_tasks: 67 },
                { id: 12, name: '–ú–∞—Ä–∏—è –ö.', rating: 4.7, completed_tasks: 28 }
            ];
            return performers.find(p => p.id === id) || performers[0];
        }
        
        // –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è
        function loadProfilePage() {
            const user = app.currentUser;
            if (!user) return;
            
            // –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            const profileInfo = document.getElementById('profileInfo');
            if (profileInfo) {
                profileInfo.innerHTML = `
                    <div class="form-group">
                        <label class="form-label">–ò–º—è</label>
                        <div class="text-lg">${user.first_name || ''}</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–§–∞–º–∏–ª–∏—è</label>
                        <div class="text-lg">${user.last_name || ''}</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <div class="text-lg">${user.email || ''}</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <div class="text-lg">${user.phone || '–ù–µ —É–∫–∞–∑–∞–Ω'}</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ì–æ—Ä–æ–¥</label>
                        <div class="text-lg">${user.city || '–ù–µ —É–∫–∞–∑–∞–Ω'}</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</label>
                        <div class="text-lg">${new Date(user.created_at).toLocaleDateString('ru-RU')}</div>
                    </div>
                `;
            }
            
            // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            const profileStats = document.getElementById('profileStats');
            if (profileStats) {
                const completedTasks = app.tasks.filter(t => t.status === 'completed').length;
                const activeTasks = app.tasks.filter(t => 
                    ['new', 'searching', 'assigned', 'in_progress'].includes(t.status)
                ).length;
                const totalSpent = app.payments
                    .filter(p => p.type === 'task' && p.status === 'completed')
                    .reduce((sum, p) => sum + p.amount, 0);
                const averageRating = app.tasks
                    .filter(t => t.rating)
                    .reduce((sum, t, _, arr) => sum + t.rating / arr.length, 0);
                
                profileStats.innerHTML = `
                    <div class="stat-card">
                        <div class="stat-value">${app.tasks.length}</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–¥–∞—á</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${completedTasks}</div>
                        <div class="stat-label">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${activeTasks}</div>
                        <div class="stat-label">–í —Ä–∞–±–æ—Ç–µ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${averageRating.toFixed(1)}</div>
                        <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥</div>
                    </div>
                `;
            }
            
            // –ü–æ–¥–ø–∏—Å–∫–∞
            const subscriptionContainer = document.getElementById('currentSubscription');
            if (subscriptionContainer) {
                const subscription = user.subscription;
                if (subscription) {
                    const plan = app.subscriptions.find(s => s.name === subscription.plan);
                    const endDate = new Date(subscription.end_date);
                    const daysLeft = Math.ceil((endDate - new Date()) / (1000 * 60 * 60 * 24));
                    
                    subscriptionContainer.innerHTML = `
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <div class="text-lg font-semibold">${plan?.display_name || subscription.plan}</div>
                                <div class="text-medium">–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ ${endDate.toLocaleDateString('ru-RU')}</div>
                            </div>
                            <span class="badge ${daysLeft <= 7 ? 'badge-warning' : 'badge-success'}">
                                ${daysLeft} –¥–Ω–µ–π –æ—Å—Ç–∞–ª–æ—Å—å
                            </span>
                        </div>
                        <div class="progress-bar mb-2">
                            <div class="progress-fill" style="width: ${Math.min(100, (30 - daysLeft) / 30 * 100)}%"></div>
                        </div>
                        <div class="flex justify-between text-sm text-medium">
                            <span>${subscription.start_date ? new Date(subscription.start_date).toLocaleDateString('ru-RU') : ''}</span>
                            <span>–ê–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ: ${subscription.auto_renewal ? '–í–∫–ª' : '–í—ã–∫–ª'}</span>
                            <span>${endDate.toLocaleDateString('ru-RU')}</span>
                        </div>
                        <div class="flex gap-2 mt-4">
                            <button class="btn btn-sm btn-secondary" onclick="manageSubscription()">
                                –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
                            </button>
                            ${!subscription.auto_renewal ? `
                                <button class="btn btn-sm btn-primary" onclick="renewSubscription()">
                                    –ü—Ä–æ–¥–ª–∏—Ç—å
                                </button>
                            ` : ''}
                        </div>
                    `;
                } else {
                    subscriptionContainer.innerHTML = `
                        <div class="text-center p-4">
                            <i class="fas fa-crown text-3xl text-gray-300 mb-3"></i>
                            <p class="text-medium mb-4">–£ –≤–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏</p>
                            <button class="btn btn-primary" onclick="navigate('subscriptions')">
                                –í—ã–±—Ä–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
                            </button>
                        </div>
                    `;
                }
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª—ã –¥–ª—è –∞–≤–∞—Ç–∞—Ä–∞
            const avatarText = document.getElementById('profileAvatarText');
            if (avatarText && user.first_name) {
                avatarText.textContent = user.first_name.charAt(0).toUpperCase();
            }
            
            // –ü–æ–ª–Ω–æ–µ –∏–º—è
            const fullName = document.getElementById('profileFullName');
            if (fullName) {
                fullName.textContent = `${user.first_name || ''} ${user.last_name || ''}`.trim() || '–ì–æ—Å—Ç—å';
            }
            
            // –ë–µ–π–¥–∂ —Ä–æ–ª–∏
            const roleBadge = document.getElementById('profileRoleBadge');
            if (roleBadge) {
                const roleInfo = app.constants.USER_ROLES[user.role] || app.constants.USER_ROLES.guest;
                roleBadge.className = `role-badge ${roleInfo.color}`;
                roleBadge.textContent = roleInfo.name;
            }
            
            // –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
            const memberSince = document.getElementById('profileMemberSince');
            if (memberSince && user.created_at) {
                memberSince.textContent = `–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω: ${new Date(user.created_at).toLocaleDateString('ru-RU')}`;
            }
            
            // –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∏
            const recentPayments = document.getElementById('recentPayments');
            if (recentPayments) {
                const payments = app.payments.slice(0, 3);
                
                if (payments.length === 0) {
                    recentPayments.innerHTML = `
                        <div class="text-center text-medium">
                            –ü–ª–∞—Ç–µ–∂–µ–π –ø–æ–∫–∞ –Ω–µ—Ç
                        </div>
                    `;
                } else {
                    recentPayments.innerHTML = payments.map(payment => `
                        <div class="flex justify-between items-center p-3 border-b last:border-b-0">
                            <div>
                                <div class="font-medium">${payment.description}</div>
                                <div class="text-sm text-medium">${new Date(payment.created_at).toLocaleDateString('ru-RU')}</div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold ${payment.status === 'completed' ? 'text-success' : 'text-warning'}">
                                    ${payment.amount.toLocaleString()} ‚ÇΩ
                                </div>
                                <div class="text-xs text-medium">${getPaymentStatusText(payment.status)}</div>
                            </div>
                        </div>
                    `).join('');
                }
            }
        }
        
        function getPaymentStatusText(status) {
            const statuses = {
                'completed': '–ó–∞–≤–µ—Ä—à–µ–Ω',
                'pending': '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ',
                'failed': '–û—à–∏–±–∫–∞',
                'refunded': '–í–æ–∑–≤—Ä–∞—Ç'
            };
            return statuses[status] || status;
        }
        
        function manageSubscription() {
            showNotification('–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è', 'info');
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª–∞ –±—ã —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–æ–π
        }
        
        function renewSubscription() {
            const user = app.currentUser;
            if (!user?.subscription) return;
            
            const plan = app.subscriptions.find(s => s.name === user.subscription.plan);
            if (plan) {
                openPaymentModal(plan);
            }
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
        async function saveProfile() {
            showLoading('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è...');
            
            try {
                const formData = {
                    first_name: document.getElementById('editFirstName').value,
                    last_name: document.getElementById('editLastName').value,
                    phone: document.getElementById('editPhone').value,
                    birth_date: document.getElementById('editBirthDate').value,
                    city: document.getElementById('editCity').value,
                    bio: document.getElementById('editBio').value
                };
                
                const response = await fetch('/api/profile', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${app.token}`
                    },
                    body: JSON.stringify(formData)
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showNotification('–ü—Ä–æ—Ñ–∏–ª—å —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω', 'success');
                    closeModal('editProfileModal');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    Object.assign(app.currentUser, data.user);
                    updateUserMenu();
                    loadProfilePage();
                    
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
            } finally {
                hideLoading();
            }
        }
        
        // –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
        function loadAdminPage() {
            const user = app.currentUser;
            if (!user || !['admin', 'manager', 'superadmin'].includes(user.role)) {
                return;
            }
            
            const container = document.getElementById('adminTabContent');
            if (!container) return;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
            loadAdminData().then(() => {
                renderAdminDashboard();
                setupAdminTabs();
            });
        }
        
        async function loadAdminData() {
            try {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª–∏ –±—ã –∑–∞–ø—Ä–æ—Å—ã –∫ API
                // –î–ª—è –¥–µ–º–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–∞–≥–ª—É—à–∫–∏
                app.adminUsers = getDemoUsers();
                app.adminTasks = getDemoAdminTasks();
                app.adminPayments = getDemoAdminPayments();
                app.adminStats = getDemoAdminStats();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–¥–º–∏–Ω –¥–∞–Ω–Ω—ã—Ö:', error);
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
                app.adminUsers = getDemoUsers();
                app.adminTasks = getDemoAdminTasks();
                app.adminPayments = getDemoAdminPayments();
                app.adminStats = getDemoAdminStats();
            }
        }
        
        // –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
        function getDemoUsers() {
            return [
                { id: 1, email: 'client@test.com', first_name: '–ê–Ω–Ω–∞', last_name: '–ò–≤–∞–Ω–æ–≤–∞', role: 'client', is_active: true, created_at: '2024-01-01', tasks_count: 3 },
                { id: 2, email: 'performer@test.com', first_name: '–ï–ª–µ–Ω–∞', last_name: '–°–º–∏—Ä–Ω–æ–≤–∞', role: 'performer', is_active: true, created_at: '2024-01-05', tasks_count: 42, rating: 4.8 },
                { id: 3, email: 'admin@test.com', first_name: '–ú–∞—Ä–∏—è', last_name: '–ü–µ—Ç—Ä–æ–≤–∞', role: 'admin', is_active: true, created_at: '2023-12-15', tasks_count: 0 },
                { id: 4, email: 'user4@test.com', first_name: '–û–ª—å–≥–∞', last_name: '–°–∏–¥–æ—Ä–æ–≤–∞', role: 'client', is_active: false, created_at: '2024-01-10', tasks_count: 1 },
                { id: 5, email: 'user5@test.com', first_name: '–ò—Ä–∏–Ω–∞', last_name: '–ö—É–∑–Ω–µ—Ü–æ–≤–∞', role: 'performer', is_active: true, created_at: '2024-01-12', tasks_count: 15, rating: 4.5 }
            ];
        }
        
        function getDemoAdminTasks() {
            return [
                { id: 1, title: '–£–±–æ—Ä–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã', client_name: '–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞', performer_name: '–ï–ª–µ–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞', status: 'completed', budget: 5000, created_at: '2024-01-15' },
                { id: 2, title: '–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ —É–∂–∏–Ω–∞', client_name: '–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞', performer_name: null, status: 'searching', budget: 3000, created_at: '2024-01-20' },
                { id: 3, title: '–ü–æ–∫—É–ø–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤', client_name: '–û–ª—å–≥–∞ –°–∏–¥–æ—Ä–æ–≤–∞', performer_name: null, status: 'new', budget: 8000, created_at: '2024-01-22' },
                { id: 4, title: '–£—Ö–æ–¥ –∑–∞ —Ä–µ–±–µ–Ω–∫–æ–º', client_name: '–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å', performer_name: '–ò—Ä–∏–Ω–∞ –ö—É–∑–Ω–µ—Ü–æ–≤–∞', status: 'in_progress', budget: 4000, created_at: '2024-01-21' }
            ];
        }
        
        function getDemoAdminPayments() {
            return [
                { id: 1, user_email: 'client@test.com', amount: 2990, type: 'subscription', status: 'completed', created_at: '2024-01-01' },
                { id: 2, user_email: 'client@test.com', amount: 5000, type: 'task', status: 'completed', created_at: '2024-01-16' },
                { id: 3, user_email: 'user4@test.com', amount: 10000, type: 'deposit', status: 'pending', created_at: '2024-01-20' },
                { id: 4, user_email: 'performer@test.com', amount: 3500, type: 'payout', status: 'completed', created_at: '2024-01-18' }
            ];
        }
        
        function getDemoAdminStats() {
            return {
                total_users: 156,
                active_users: 142,
                total_tasks: 423,
                completed_tasks: 387,
                total_revenue: 1254300,
                pending_payouts: 156000,
                avg_rating: 4.7
            };
        }
        
        function renderAdminDashboard() {
            const container = document.getElementById('adminTabContent');
            if (!container) return;
            
            const stats = app.adminStats;
            
            container.innerHTML = `
                <!-- –î–∞—à–±–æ—Ä–¥ -->
                <div class="tab-content active" id="adminDashboardTab">
                    <div class="grid grid-1 md:grid-3 gap-6 mb-8">
                        <div class="stat-card">
                            <div class="stat-value">${stats.total_users}</div>
                            <div class="stat-label">–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${stats.total_tasks}</div>
                            <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–¥–∞—á</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${stats.total_revenue.toLocaleString()} ‚ÇΩ</div>
                            <div class="stat-label">–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞</div>
                        </div>
                    </div>
                    
                    <div class="grid grid-1 lg:grid-2 gap-8">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="text-lg font-semibold">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–¥–∞—á–∏</h3>
                            </div>
                            <div class="card-body">
                                <div class="space-y-4">
                                    ${app.adminTasks.slice(0, 5).map(task => `
                                        <div class="flex justify-between items-center p-3 border-b last:border-b-0">
                                            <div>
                                                <div class="font-medium">${task.title}</div>
                                                <div class="text-sm text-medium">${task.client_name}</div>
                                            </div>
                                            <span class="${app.constants.TASK_STATUSES[task.status].color}">
                                                ${app.constants.TASK_STATUSES[task.status].name}
                                            </span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-header">
                                <h3 class="text-lg font-semibold">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∏</h3>
                            </div>
                            <div class="card-body">
                                <div class="space-y-4">
                                    ${app.adminPayments.slice(0, 5).map(payment => `
                                        <div class="flex justify-between items-center p-3 border-b last:border-b-0">
                                            <div>
                                                <div class="font-medium">${payment.user_email}</div>
                                                <div class="text-sm text-medium">${getPaymentTypeText(payment.type)}</div>
                                            </div>
                                            <div class="text-right">
                                                <div class="font-semibold">${payment.amount.toLocaleString()} ‚ÇΩ</div>
                                                <div class="text-xs ${payment.status === 'completed' ? 'text-success' : 'text-warning'}">
                                                    ${getPaymentStatusText(payment.status)}
                                                </div>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ -->
                <div class="tab-content" id="adminUsersTab">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-lg font-semibold">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (${app.adminUsers.length})</h3>
                        <button class="btn btn-primary" onclick="openModal('addUserModal')">
                            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                        </button>
                    </div>
                    
                    <div class="card">
                        <div class="card-body">
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="border-b">
                                            <th class="text-left p-3">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                                            <th class="text-left p-3">–†–æ–ª—å</th>
                                            <th class="text-left p-3">–°—Ç–∞—Ç—É—Å</th>
                                            <th class="text-left p-3">–ó–∞–¥–∞—á</th>
                                            <th class="text-left p-3">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</th>
                                            <th class="text-left p-3">–î–µ–π—Å—Ç–≤–∏—è</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${app.adminUsers.map(user => `
                                            <tr class="border-b hover:bg-gray-50">
                                                <td class="p-3">
                                                    <div class="font-medium">${user.first_name} ${user.last_name}</div>
                                                    <div class="text-sm text-medium">${user.email}</div>
                                                </td>
                                                <td class="p-3">
                                                    <span class="${app.constants.USER_ROLES[user.role].color}">
                                                        ${app.constants.USER_ROLES[user.role].name}
                                                    </span>
                                                </td>
                                                <td class="p-3">
                                                    <span class="badge ${user.is_active ? 'badge-success' : 'badge-error'}">
                                                        ${user.is_active ? '–ê–∫—Ç–∏–≤–µ–Ω' : '–ù–µ–∞–∫—Ç–∏–≤–µ–Ω'}
                                                    </span>
                                                </td>
                                                <td class="p-3">${user.tasks_count}</td>
                                                <td class="p-3">${new Date(user.created_at).toLocaleDateString('ru-RU')}</td>
                                                <td class="p-3">
                                                    <div class="flex gap-2">
                                                        <button class="btn btn-sm btn-secondary" onclick="editUser(${user.id})">
                                                            <i class="fas fa-edit"></i>
                                                        </button>
                                                        <button class="btn btn-sm btn-secondary" onclick="viewUser(${user.id})">
                                                            <i class="fas fa-eye"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ó–∞–¥–∞—á–∏ -->
                <div class="tab-content" id="adminTasksTab">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-lg font-semibold">–ó–∞–¥–∞—á–∏ (${app.adminTasks.length})</h3>
                        <div class="flex gap-4">
                            <select class="form-select" id="adminTaskFilter">
                                <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                ${Object.entries(app.constants.TASK_STATUSES).map(([key, status]) => `
                                    <option value="${key}">${status.name}</option>
                                `).join('')}
                            </select>
                            <button class="btn btn-secondary" onclick="exportTasks()">
                                <i class="fas fa-download"></i> –≠–∫—Å–ø–æ—Ä—Ç
                            </button>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-body">
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="border-b">
                                            <th class="text-left p-3">–ó–∞–¥–∞—á–∞</th>
                                            <th class="text-left p-3">–ö–ª–∏–µ–Ω—Ç</th>
                                            <th class="text-left p-3">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</th>
                                            <th class="text-left p-3">–°—Ç–∞—Ç—É—Å</th>
                                            <th class="text-left p-3">–ë—é–¥–∂–µ—Ç</th>
                                            <th class="text-left p-3">–î–∞—Ç–∞</th>
                                            <th class="text-left p-3">–î–µ–π—Å—Ç–≤–∏—è</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${app.adminTasks.map(task => `
                                            <tr class="border-b hover:bg-gray-50">
                                                <td class="p-3">
                                                    <div class="font-medium">${task.title}</div>
                                                </td>
                                                <td class="p-3">${task.client_name}</td>
                                                <td class="p-3">${task.performer_name || '‚Äî'}</td>
                                                <td class="p-3">
                                                    <span class="${app.constants.TASK_STATUSES[task.status].color}">
                                                        ${app.constants.TASK_STATUSES[task.status].name}
                                                    </span>
                                                </td>
                                                <td class="p-3">${task.budget ? `${task.budget.toLocaleString()} ‚ÇΩ` : '‚Äî'}</td>
                                                <td class="p-3">${new Date(task.created_at).toLocaleDateString('ru-RU')}</td>
                                                <td class="p-3">
                                                    <button class="btn btn-sm btn-secondary" onclick="viewAdminTask(${task.id})">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –§–∏–Ω–∞–Ω—Å—ã -->
                <div class="tab-content" id="adminFinancesTab">
                    <div class="grid grid-1 md:grid-2 gap-8">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="text-lg font-semibold">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–ª–∞—Ç–µ–∂–∞–º</h3>
                            </div>
                            <div class="card-body">
                                <div class="space-y-4">
                                    ${['subscription', 'task', 'deposit', 'payout'].map(type => {
                                        const payments = app.adminPayments.filter(p => p.type === type);
                                        const total = payments.reduce((sum, p) => sum + p.amount, 0);
                                        const count = payments.length;
                                        
                                        return `
                                            <div class="flex justify-between items-center p-3 border-b">
                                                <div>
                                                    <div class="font-medium">${getPaymentTypeText(type)}</div>
                                                    <div class="text-sm text-medium">${count} –æ–ø–µ—Ä–∞—Ü–∏–π</div>
                                                </div>
                                                <div class="text-right">
                                                    <div class="font-semibold ${type === 'payout' ? 'text-error' : 'text-success'}">
                                                        ${type === 'payout' ? '-' : ''}${total.toLocaleString()} ‚ÇΩ
                                                    </div>
                                                </div>
                                            </div>
                                        `;
                                    }).join('')}
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-header">
                                <h3 class="text-lg font-semibold">–í—ã–ø–ª–∞—Ç—ã –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º</h3>
                            </div>
                            <div class="card-body">
                                <div class="space-y-4">
                                    ${getDemoPayouts().map(payout => `
                                        <div class="flex justify-between items-center p-3 border-b">
                                            <div>
                                                <div class="font-medium">${payout.performer_name}</div>
                                                <div class="text-sm text-medium">${payout.tasks} –∑–∞–¥–∞—á</div>
                                            </div>
                                            <div class="text-right">
                                                <div class="font-semibold">${payout.amount.toLocaleString()} ‚ÇΩ</div>
                                                <div class="text-xs ${payout.status === 'completed' ? 'text-success' : 'text-warning'}">
                                                    ${getPaymentStatusText(payout.status)}
                                                </div>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                                <button class="btn btn-primary w-full mt-4" onclick="processPayouts()">
                                    –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤—ã–ø–ª–∞—Ç—ã
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
                <div class="tab-content" id="adminContentTab">
                    <div class="space-y-6">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="text-lg font-semibold">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏</h3>
                            </div>
                            <div class="card-body">
                                <div class="grid grid-2 gap-4 mb-4">
                                    ${app.categories.map(cat => `
                                        <div class="flex items-center justify-between p-3 border rounded-lg">
                                            <div class="flex items-center gap-3">
                                                <i class="${cat.icon} text-gold"></i>
                                                <div>
                                                    <div class="font-medium">${cat.display_name}</div>
                                                    <div class="text-sm text-medium">${cat.description}</div>
                                                </div>
                                            </div>
                                            <div class="flex gap-2">
                                                <button class="btn btn-sm btn-secondary" onclick="editCategory(${cat.id})">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                                <button class="btn btn-primary" onclick="openModal('addCategoryModal')">
                                    <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                                </button>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-header">
                                <h3 class="text-lg font-semibold">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏</h3>
                            </div>
                            <div class="card-body">
                                <div class="grid grid-1 md:grid-2 gap-4">
                                    ${app.subscriptions.map(sub => `
                                        <div class="p-4 border rounded-lg">
                                            <div class="flex justify-between items-center mb-2">
                                                <div class="font-semibold">${sub.display_name}</div>
                                                <div class="text-lg font-bold text-gold">${sub.price_monthly.toLocaleString()} ‚ÇΩ</div>
                                            </div>
                                            <div class="text-sm text-medium mb-3">${sub.features.length} –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤</div>
                                            <div class="flex gap-2">
                                                <button class="btn btn-sm btn-secondary" onclick="editSubscription(${sub.id})">
                                                    –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                                                </button>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                <div class="tab-content" id="adminSettingsTab">
                    <div class="grid grid-1 lg:grid-2 gap-8">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="text-lg font-semibold">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h3>
                            </div>
                            <div class="card-body">
                                <div class="space-y-4">
                                    <div class="form-group">
                                        <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</label>
                                        <input type="text" class="form-input" value="–ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">–ö–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (%)</label>
                                        <input type="number" class="form-input" value="15">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞</label>
                                        <input type="number" class="form-input" value="1000">
                                    </div>
                                    <div class="form-group">
                                        <label class="checkbox-label">
                                            <input type="checkbox" class="checkbox-input" checked>
                                            <span class="checkbox-custom"></span>
                                            <span>–†–µ–∂–∏–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è</span>
                                        </label>
                                    </div>
                                    <button class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-header">
                                <h3 class="text-lg font-semibold">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
                            </div>
                            <div class="card-body">
                                <div class="space-y-3">
                                    <button class="btn btn-secondary w-full justify-start" onclick="clearCache()">
                                        <i class="fas fa-broom"></i> –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à
                                    </button>
                                    <button class="btn btn-secondary w-full justify-start" onclick="createBackup()">
                                        <i class="fas fa-database"></i> –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
                                    </button>
                                    <button class="btn btn-secondary w-full justify-start" onclick="viewLogs()">
                                        <i class="fas fa-scroll"></i> –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
                                    </button>
                                    <button class="btn btn-secondary w-full justify-start" onclick="runMaintenance()">
                                        <i class="fas fa-tools"></i> –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ë–î
                                    </button>
                                    <button class="btn btn-error w-full justify-start" onclick="openModal('resetSystemModal')">
                                        <i class="fas fa-exclamation-triangle"></i> –°–±—Ä–æ—Å–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function getPaymentTypeText(type) {
            const types = {
                'subscription': '–ü–æ–¥–ø–∏—Å–∫–∞',
                'task': '–û–ø–ª–∞—Ç–∞ –∑–∞–¥–∞—á–∏',
                'deposit': '–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ',
                'payout': '–í—ã–ø–ª–∞—Ç–∞',
                'refund': '–í–æ–∑–≤—Ä–∞—Ç'
            };
            return types[type] || type;
        }
        
        function getDemoPayouts() {
            return [
                { performer_name: '–ï–ª–µ–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞', tasks: 5, amount: 21250, status: 'pending' },
                { performer_name: '–ò—Ä–∏–Ω–∞ –ö—É–∑–Ω–µ—Ü–æ–≤–∞', tasks: 3, amount: 10200, status: 'pending' },
                { performer_name: '–ê–Ω–Ω–∞ –ú.', tasks: 4, amount: 18000, status: 'completed' }
            ];
        }
        
        function setupAdminTabs() {
            document.querySelectorAll('.tab[data-tab]').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É
                    document.querySelectorAll('.tab').forEach(t => {
                        t.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(`admin${tabId.charAt(0).toUpperCase() + tabId.slice(1)}Tab`).classList.add('active');
                });
            });
        }
        
        // –î–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
        function addAdmin() {
            const email = document.getElementById('adminEmail').value;
            const level = document.getElementById('adminLevel').value;
            
            if (!email) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', 'error');
                return;
            }
            
            showLoading('–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞...');
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞
            setTimeout(() => {
                showNotification(`–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä ${email} —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω`, 'success');
                closeModal('addAdminModal');
                hideLoading();
            }, 1000);
        }
        
        function processPayouts() {
            showLoading('–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—ã–ø–ª–∞—Ç...');
            
            setTimeout(() => {
                showNotification('–í—ã–ø–ª–∞—Ç—ã —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã', 'success');
                hideLoading();
            }, 2000);
        }
        
        function clearCache() {
            showLoading('–û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞...');
            
            setTimeout(() => {
                showNotification('–ö–µ—à —É—Å–ø–µ—à–Ω–æ –æ—á–∏—â–µ–Ω', 'success');
                hideLoading();
            }, 1000);
        }
        
        function createBackup() {
            showLoading('–°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞...');
            
            setTimeout(() => {
                showNotification('–ë—ç–∫–∞–ø —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω', 'success');
                hideLoading();
            }, 2000);
        }
        
        function viewLogs() {
            showNotification('–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏', 'info');
        }
        
        function runMaintenance() {
            showLoading('–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...');
            
            setTimeout(() => {
                showNotification('–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ', 'success');
                hideLoading();
            }, 3000);
        }
        
        // –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
        function loadPerformerPage() {
            const user = app.currentUser;
            if (!user || user.role !== 'performer') {
                return;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            updatePerformerStats();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏
            loadAvailableTasks();
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≤–∫–ª–∞–¥–∫–∏
            setupPerformerTabs();
        }
        
        function updatePerformerStats() {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª–∏ –±—ã –¥–∞–Ω–Ω—ã–µ –∏–∑ API
            // –î–ª—è –¥–µ–º–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∏–∫—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            document.getElementById('perfCompletedTasks').textContent = '42';
            document.getElementById('perfRating').textContent = '4.8';
            document.getElementById('perfEarnings').textContent = '125,400 ‚ÇΩ';
            document.getElementById('perfResponseTime').textContent = '1.2';
        }
        
        function loadAvailableTasks() {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –∑–∞–ø—Ä–æ—Å –∫ API
            // –î–ª—è –¥–µ–º–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∏–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
            const availableTasks = [
                {
                    id: 101,
                    title: '–£–±–æ—Ä–∫–∞ –ø–æ—Å–ª–µ —Ä–µ–º–æ–Ω—Ç–∞',
                    description: '–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±—Ä–∞—Ç—å 2-–∫–æ–º–Ω–∞—Ç–Ω—É—é –∫–≤–∞—Ä—Ç–∏—Ä—É –ø–æ—Å–ª–µ –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–º–æ–Ω—Ç–∞.',
                    category: '–£–±–æ—Ä–∫–∞',
                    budget: 8000,
                    address: '–ú–æ—Å–∫–≤–∞, —Ü–µ–Ω—Ç—Ä',
                    client_rating: 4.9
                },
                {
                    id: 102,
                    title: '–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –¥–∏–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è –Ω–∞ –Ω–µ–¥–µ–ª—é',
                    description: '–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –∫–æ–º–ø–ª–µ–∫—Å—ã –ø–∏—Ç–∞–Ω–∏—è –Ω–∞ 7 –¥–Ω–µ–π –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –º–µ–Ω—é.',
                    category: '–ì–æ—Ç–æ–≤–∫–∞',
                    budget: 12000,
                    address: '–ú–æ—Å–∫–≤–∞, –°–ê–û',
                    client_rating: 4.7
                },
                {
                    id: 103,
                    title: '–°–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –Ω–∞ —à–æ–ø–∏–Ω–≥',
                    description: '–ü–æ–º–æ—â—å –≤ –≤—ã–±–æ—Ä–µ –æ–¥–µ–∂–¥—ã –¥–ª—è –¥–µ–ª–æ–≤–æ–π –≤—Å—Ç—Ä–µ—á–∏.',
                    category: '–ü–æ–∫—É–ø–∫–∏',
                    budget: 5000,
                    address: '–¢–¶ –ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–π',
                    client_rating: 5.0
                }
            ];
            
            const container = document.getElementById('performerTabContent');
            if (container) {
                container.innerHTML = `
                    <div class="tab-content active" id="performerAvailableTab">
                        <div class="grid grid-1 gap-4">
                            ${availableTasks.map(task => `
                                <div class="card hover-lift">
                                    <div class="card-body">
                                        <div class="flex justify-between items-start mb-4">
                                            <div>
                                                <h3 class="text-lg font-semibold mb-1">${task.title}</h3>
                                                <div class="flex items-center gap-2 text-medium">
                                                    <i class="fas fa-tag"></i>
                                                    <span>${task.category}</span>
                                                </div>
                                            </div>
                                            <div class="text-right">
                                                <div class="text-xl font-bold text-gold">${task.budget.toLocaleString()} ‚ÇΩ</div>
                                                <div class="text-sm text-medium">${task.address}</div>
                                            </div>
                                        </div>
                                        <p class="text-medium mb-4">${task.description}</p>
                                        <div class="flex justify-between items-center">
                                            <div class="flex items-center gap-2">
                                                <div class="rating">
                                                    ${Array.from({length: 5}, (_, i) => `
                                                        <i class="fas fa-star ${i < Math.floor(task.client_rating) ? 'text-yellow-400' : 'text-gray-300'}"></i>
                                                    `).join('')}
                                                </div>
                                                <span class="text-sm">${task.client_rating}</span>
                                            </div>
                                            <button class="btn btn-primary" onclick="takeTask(${task.id})">
                                                <i class="fas fa-hand-paper"></i> –ü—Ä–∏–Ω—è—Ç—å –∑–∞–¥–∞—á—É
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="tab-content" id="performerMyTasksTab">
                        <div class="tasks-list">
                            ${app.tasks.filter(t => t.performer_id === user.id).map(task => {
                                const status = app.constants.TASK_STATUSES[task.status];
                                return `
                                    <div class="task-card">
                                        <div class="task-header">
                                            <h3 class="task-title">${task.title}</h3>
                                            <span class="${status.color}">
                                                <i class="${status.icon}"></i>
                                                ${status.name}
                                            </span>
                                        </div>
                                        <div class="task-body">
                                            <p class="task-description">${task.description}</p>
                                        </div>
                                        <div class="task-footer">
                                            <div class="task-meta">
                                                <div class="task-date">
                                                    <i class="far fa-calendar"></i>
                                                    ${new Date(task.created_at).toLocaleDateString('ru-RU')}
                                                </div>
                                                ${task.budget ? `
                                                    <div class="task-price">
                                                        <i class="fas fa-ruble-sign"></i>
                                                        ${task.budget.toLocaleString()} ‚ÇΩ
                                                    </div>
                                                ` : ''}
                                            </div>
                                            <div class="task-actions">
                                                ${task.status === 'assigned' ? `
                                                    <button class="btn btn-sm btn-primary" onclick="updateTaskStatus(${task.id}, 'in_progress')">
                                                        –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É
                                                    </button>
                                                ` : task.status === 'in_progress' ? `
                                                    <button class="btn btn-sm btn-success" onclick="updateTaskStatus(${task.id}, 'completed')">
                                                        –ó–∞–≤–µ—Ä—à–∏—Ç—å
                                                    </button>
                                                ` : ''}
                                                <button class="btn btn-sm btn-secondary" onclick="sendMessage(${task.id})">
                                                    <i class="fas fa-comment"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                    
                    <div class="tab-content" id="performerScheduleTab">
                        <div class="text-center p-8">
                            <i class="fas fa-calendar-alt text-4xl text-gray-300 mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h3>
                            <p class="text-medium mb-6">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é</p>
                            <button class="btn btn-primary" onclick="openModal('scheduleModal')">
                                <i class="fas fa-plus"></i> –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
                            </button>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="performerReviewsTab">
                        <div class="space-y-6">
                            ${getPerformerReviews().map(review => `
                                <div class="card">
                                    <div class="card-body">
                                        <div class="flex justify-between items-start mb-4">
                                            <div>
                                                <div class="font-semibold mb-1">${review.client_name}</div>
                                                <div class="text-medium text-sm">${review.task_title}</div>
                                            </div>
                                            <div class="rating">
                                                ${Array.from({length: 5}, (_, i) => `
                                                    <i class="fas fa-star ${i < review.rating ? 'text-yellow-400' : 'text-gray-300'}"></i>
                                                `).join('')}
                                            </div>
                                        </div>
                                        <p class="text-medium mb-4 italic">"${review.comment}"</p>
                                        <div class="text-sm text-medium">${review.date}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="tab-content" id="performerProfileTab">
                        <div class="grid grid-1 lg:grid-2 gap-8">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="text-lg font-semibold">–ü—Ä–æ—Ñ–∏–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</h3>
                                </div>
                                <div class="card-body">
                                    <div class="space-y-4">
                                        <div class="form-group">
                                            <label class="form-label">–ß–∞—Å–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞</label>
                                            <input type="number" class="form-input" value="1500" id="hourlyRateInput">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª—É–≥</label>
                                            <textarea class="form-input" rows="4" id="servicesDescription">
                                                –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â–Ω–∏—Ü–∞ —Å –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã 5 –ª–µ—Ç. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞ —É–±–æ—Ä–∫–µ, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏ –±—ã—Ç–æ–≤—ã—Ö –∑–∞–¥–∞—á–∞—Ö. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è, –∞–∫–∫—É—Ä–∞—Ç–Ω–∞—è, —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏.
                                            </textarea>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">–§–æ—Ç–æ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è</label>
                                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                                                <i class="fas fa-cloud-upload-alt text-3xl text-gray-400 mb-2"></i>
                                                <p class="text-gray-500 mb-2">–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è</p>
                                                <button class="btn btn-sm btn-secondary">
                                                    –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã
                                                </button>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary" onclick="savePerformerProfile()">
                                            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="text-lg font-semibold">–ú–æ–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</h3>
                                </div>
                                <div class="card-body">
                                    <div class="grid grid-2 gap-3 mb-4">
                                        ${app.categories.slice(0, 6).map(cat => `
                                            <label class="checkbox-label">
                                                <input type="checkbox" class="checkbox-input" checked>
                                                <span class="checkbox-custom"></span>
                                                <span>${cat.display_name}</span>
                                            </label>
                                        `).join('')}
                                    </div>
                                    <button class="btn btn-secondary w-full" onclick="openModal('specializationsModal')">
                                        <i class="fas fa-certificate"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è–º–∏
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
        }
        
        function getPerformerReviews() {
            return [
                {
                    id: 1,
                    client_name: '–ê–Ω–Ω–∞ –ò.',
                    task_title: '–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è —É–±–æ—Ä–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã',
                    rating: 5,
                    comment: '–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –ï–ª–µ–Ω–∞ –æ—á–µ–Ω—å –∞–∫–∫—É—Ä–∞—Ç–Ω–∞—è –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è. –ö–≤–∞—Ä—Ç–∏—Ä–∞ —Å–∏—è–µ—Ç —á–∏—Å—Ç–æ—Ç–æ–π.',
                    date: '15 —è–Ω–≤–∞—Ä—è 2024'
                },
                {
                    id: 2,
                    client_name: '–ú–∞—Ä–∏–Ω–∞ –°.',
                    task_title: '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–µ—Ç—Å–∫–æ–≥–æ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞',
                    rating: 5,
                    comment: '–ü—Ä–µ–∫—Ä–∞—Å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è! –í—Å–µ –ø—Ä–æ—à–ª–æ –∏–¥–µ–∞–ª—å–Ω–æ, –¥–µ—Ç–∏ –≤ –≤–æ—Å—Ç–æ—Ä–≥–µ. –†–µ–∫–æ–º–µ–Ω–¥—É—é!',
                    date: '10 —è–Ω–≤–∞—Ä—è 2024'
                },
                {
                    id: 3,
                    client_name: '–û–ª—å–≥–∞ –í.',
                    task_title: '–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —É–±–æ—Ä–∫–∞',
                    rating: 4,
                    comment: '–•–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞, –Ω–æ –∏–Ω–æ–≥–¥–∞ –æ–ø–∞–∑–¥—ã–≤–∞–µ—Ç. –í —Ü–µ–ª–æ–º –¥–æ–≤–æ–ª—å–Ω–∞.',
                    date: '5 —è–Ω–≤–∞—Ä—è 2024'
                }
            ];
        }
        
        function setupPerformerTabs() {
            document.querySelectorAll('.tab[data-tab]').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É
                    document.querySelectorAll('.tab').forEach(t => {
                        t.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    const contentId = `performer${tabId.charAt(0).toUpperCase() + tabId.slice(1)}Tab`;
                    const contentElement = document.getElementById(contentId);
                    if (contentElement) {
                        contentElement.classList.add('active');
                    }
                });
            });
        }
        
        async function takeTask(taskId) {
            showLoading('–ü—Ä–∏–Ω—è—Ç–∏–µ –∑–∞–¥–∞—á–∏...');
            
            try {
                const response = await fetch(`/api/tasks/${taskId}/take`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${app.token}`
                    }
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showNotification('–ó–∞–¥–∞—á–∞ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–Ω—è—Ç–∞!', 'success');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–¥–∞—á—É –≤ —Å–ø–∏—Å–∫–µ
                    const taskIndex = app.tasks.findIndex(t => t.id === taskId);
                    if (taskIndex !== -1) {
                        app.tasks[taskIndex].status = 'assigned';
                        app.tasks[taskIndex].performer_id = app.currentUser.id;
                    }
                    
                    // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
                    loadPerformerPage();
                    
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –∑–∞–¥–∞—á–∏', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –∑–∞–¥–∞—á–∏:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
            } finally {
                hideLoading();
            }
        }
        
        async function updateTaskStatus(taskId, status) {
            showLoading('–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞...');
            
            try {
                const response = await fetch(`/api/tasks/${taskId}/status`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${app.token}`
                    },
                    body: JSON.stringify({ status })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showNotification('–°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ –æ–±–Ω–æ–≤–ª–µ–Ω', 'success');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–¥–∞—á—É –≤ —Å–ø–∏—Å–∫–µ
                    const taskIndex = app.tasks.findIndex(t => t.id === taskId);
                    if (taskIndex !== -1) {
                        app.tasks[taskIndex].status = status;
                    }
                    
                    // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
                    loadPerformerPage();
                    
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
            } finally {
                hideLoading();
            }
        }
        
        function savePerformerProfile() {
            showLoading('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è...');
            
            setTimeout(() => {
                showNotification('–ü—Ä–æ—Ñ–∏–ª—å —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω', 'success');
                hideLoading();
            }, 1000);
        }
        
        function saveSpecializations() {
            showLoading('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π...');
            
            setTimeout(() => {
                showNotification('–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã', 'success');
                closeModal('specializationsModal');
                hideLoading();
            }, 1000);
        }
        
        // –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–¥–∞—á–∏
        function loadTaskDetailsPage() {
            const taskId = app.currentTaskId;
            if (!taskId) {
                navigate('tasks');
                return;
            }
            
            const task = app.tasks.find(t => t.id === taskId);
            if (!task) {
                showNotification('–ó–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞', 'error');
                navigate('tasks');
                return;
            }
            
            const container = document.getElementById('page-task-details');
            const category = app.categories.find(c => c.id === task.category_id);
            const status = app.constants.TASK_STATUSES[task.status];
            const performer = task.performer_id ? getDemoPerformer(task.performer_id) : null;
            
            container.innerHTML = `
                <div class="page-header">
                    <div class="flex justify-between items-start">
                        <div>
                            <h1 class="section-title">${task.title}</h1>
                            <div class="flex items-center gap-4 mt-2">
                                <span class="${status.color}">
                                    <i class="${status.icon}"></i>
                                    ${status.name}
                                </span>
                                <div class="flex items-center gap-2 text-medium">
                                    <i class="${category?.icon || 'fas fa-hands-helping'}"></i>
                                    ${category?.display_name || '–ö–∞—Ç–µ–≥–æ—Ä–∏—è'}
                                </div>
                                ${task.budget ? `
                                    <div class="flex items-center gap-2 font-semibold text-gold">
                                        <i class="fas fa-ruble-sign"></i>
                                        ${task.budget.toLocaleString()} ‚ÇΩ
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                        <button class="btn btn-secondary" onclick="navigate('tasks')">
                            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                        </button>
                    </div>
                </div>
                
                <div class="grid grid-1 lg:grid-3 gap-8">
                    <div class="lg:col-span-2">
                        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–¥–∞—á–µ -->
                        <div class="card mb-8">
                            <div class="card-header">
                                <h3 class="text-lg font-semibold">–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</h3>
                            </div>
                            <div class="card-body">
                                <p class="text-medium mb-6">${task.description}</p>
                                
                                <div class="grid grid-2 gap-6">
                                    ${task.address ? `
                                        <div>
                                            <label class="form-label">–ê–¥—Ä–µ—Å</label>
                                            <div class="text-medium">${task.address}</div>
                                        </div>
                                    ` : ''}
                                    
                                    ${task.deadline ? `
                                        <div>
                                            <label class="form-label">–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</label>
                                            <div class="text-medium">${new Date(task.deadline).toLocaleDateString('ru-RU')}</div>
                                        </div>
                                    ` : ''}
                                    
                                    <div>
                                        <label class="form-label">–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</label>
                                        <div class="text-medium">${new Date(task.created_at).toLocaleDateString('ru-RU')}</div>
                                    </div>
                                    
                                    <div>
                                        <label class="form-label">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                                        <div class="text-medium">${task.priority === 'high' ? '–í—ã—Å–æ–∫–∏–π' : task.priority === 'urgent' ? '–°—Ä–æ—á–Ω—ã–π' : '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π'}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- –ß–∞—Ç –∑–∞–¥–∞—á–∏ -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="text-lg font-semibold">–û–±—Å—É–∂–¥–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏</h3>
                            </div>
                            <div class="card-body p-0">
                                <div class="chat-container">
                                    <div class="chat-header">
                                        <div class="flex items-center gap-3">
                                            ${performer ? `
                                                <div class="w-10 h-10 rounded-full bg-gradient-to-r from-pink to-lavender"></div>
                                                <div>
                                                    <div class="font-semibold">${performer.name}</div>
                                                    <div class="text-sm text-medium">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</div>
                                                </div>
                                            ` : `
                                                <div class="w-10 h-10 rounded-full bg-gray-200"></div>
                                                <div>
                                                    <div class="font-semibold">–ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</div>
                                                    <div class="text-sm text-medium">–ó–∞–¥–∞—á–∞ –≤ –ø–æ–∏—Å–∫–µ</div>
                                                </div>
                                            `}
                                        </div>
                                    </div>
                                    
                                    <div class="chat-messages" id="taskChatMessages">
                                        <!-- –°–æ–æ–±—â–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                    </div>
                                    
                                    ${['assigned', 'in_progress'].includes(task.status) ? `
                                        <div class="chat-input-container">
                                            <div class="chat-input-wrapper">
                                                <textarea class="chat-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." id="taskChatInput"></textarea>
                                                <button class="btn btn-primary" onclick="sendChatMessage(${task.id})">
                                                    <i class="fas fa-paper-plane"></i>
                                                </button>
                                            </div>
                                        </div>
                                    ` : ''}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ -->
                        ${performer ? `
                            <div class="card mb-8">
                                <div class="card-header">
                                    <h3 class="text-lg font-semibold">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</h3>
                                </div>
                                <div class="card-body">
                                    <div class="text-center mb-4">
                                        <div class="w-20 h-20 rounded-full bg-gradient-to-r from-pink to-lavender mx-auto mb-3"></div>
                                        <h4 class="font-semibold text-lg">${performer.name}</h4>
                                        <div class="flex items-center justify-center gap-1 my-2">
                                            <div class="rating">
                                                ${Array.from({length: 5}, (_, i) => `
                                                    <i class="fas fa-star ${i < Math.floor(performer.rating) ? 'text-yellow-400' : 'text-gray-300'}"></i>
                                                `).join('')}
                                            </div>
                                            <span class="text-sm">${performer.rating}</span>
                                        </div>
                                        <div class="text-sm text-medium">–í—ã–ø–æ–ª–Ω–µ–Ω–æ ${performer.completed_tasks} –∑–∞–¥–∞—á</div>
                                    </div>
                                    
                                    <div class="space-y-3">
                                        <button class="btn btn-secondary w-full" onclick="viewPerformerProfile(${performer.id})">
                                            <i class="fas fa-user"></i> –ü—Ä–æ—Ñ–∏–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
                                        </button>
                                        
                                        ${task.status === 'in_progress' ? `
                                            <button class="btn btn-primary w-full" onclick="completeTask(${task.id})">
                                                <i class="fas fa-check"></i> –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞—á—É
                                            </button>
                                        ` : ''}
                                        
                                        ${task.status === 'completed' && !task.rating ? `
                                            <button class="btn btn-success w-full" onclick="rateTask(${task.id})">
                                                <i class="fas fa-star"></i> –û—Ü–µ–Ω–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
                                            </button>
                                        ` : ''}
                                    </div>
                                </div>
                            </div>
                        ` : `
                            <div class="card mb-8">
                                <div class="card-header">
                                    <h3 class="text-lg font-semibold">–ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</h3>
                                </div>
                                <div class="card-body">
                                    <div class="text-center">
                                        <i class="fas fa-search text-3xl text-gray-300 mb-3"></i>
                                        <p class="text-medium mb-4">–ò—â–µ–º –ø–æ–¥—Ö–æ–¥—è—â—É—é –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü—É –¥–ª—è –≤–∞—à–µ–π –∑–∞–¥–∞—á–∏</p>
                                        <div class="animate-pulse">
                                            <div class="h-2 bg-gray-200 rounded mb-2"></div>
                                            <div class="h-2 bg-gray-200 rounded mb-2"></div>
                                            <div class="h-2 bg-gray-200 rounded"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `}
                        
                        <!-- –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="text-lg font-semibold">–ò—Å—Ç–æ—Ä–∏—è –∑–∞–¥–∞—á–∏</h3>
                            </div>
                            <div class="card-body">
                                <div class="space-y-4">
                                    ${getTaskHistory(task).map(item => `
                                        <div class="flex items-start gap-3">
                                            <div class="w-8 h-8 rounded-full ${item.type === 'status' ? 'bg-gold/20' : 'bg-blue-100'} flex items-center justify-center flex-shrink-0">
                                                <i class="${item.icon} ${item.type === 'status' ? 'text-gold' : 'text-blue-500'}"></i>
                                            </div>
                                            <div>
                                                <div class="font-medium">${item.title}</div>
                                                <div class="text-sm text-medium">${item.date}</div>
                                                ${item.description ? `
                                                    <div class="text-sm text-medium mt-1">${item.description}</div>
                                                ` : ''}
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞
            loadTaskChat(taskId);
        }
        
        function getTaskHistory(task) {
            const history = [
                {
                    type: 'status',
                    icon: 'fas fa-plus-circle',
                    title: '–ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞',
                    date: new Date(task.created_at).toLocaleString('ru-RU'),
                    description: '–ó–∞–¥–∞—á–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ –∏ –æ–∂–∏–¥–∞–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è'
                }
            ];
            
            if (task.performer_id) {
                const performer = getDemoPerformer(task.performer_id);
                history.push({
                    type: 'status',
                    icon: 'fas fa-user-check',
                    title: '–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –Ω–∞–∑–Ω–∞—á–µ–Ω',
                    date: new Date(Date.now() - 86400000).toLocaleString('ru-RU'), // –í—á–µ—Ä–∞
                    description: `–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: ${performer?.name || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}`
                });
            }
            
            if (task.status === 'in_progress') {
                history.push({
                    type: 'status',
                    icon: 'fas fa-spinner',
                    title: '–†–∞–±–æ—Ç–∞ –Ω–∞—á–∞—Ç–∞',
                    date: new Date(Date.now() - 43200000).toLocaleString('ru-RU'), // 12 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥
                    description: '–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –ø—Ä–∏—Å—Ç—É–ø–∏–ª –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∑–∞–¥–∞—á–∏'
                });
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∏—Å—Ç–æ—Ä–∏—é
            const taskMessages = app.messages.filter(m => m.task_id === task.id);
            taskMessages.forEach(msg => {
                history.push({
                    type: 'message',
                    icon: 'fas fa-comment',
                    title: '–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ',
                    date: new Date(msg.created_at).toLocaleString('ru-RU'),
                    description: msg.content.length > 50 ? msg.content.substring(0, 50) + '...' : msg.content
                });
            });
            
            return history.sort((a, b) => new Date(b.date) - new Date(a.date));
        }
        
        function loadTaskChat(taskId) {
            const container = document.getElementById('taskChatMessages');
            if (!container) return;
            
            const taskMessages = app.messages.filter(m => m.task_id === taskId);
            
            if (taskMessages.length === 0) {
                container.innerHTML = `
                    <div class="text-center text-medium py-8">
                        <i class="fas fa-comments text-3xl text-gray-300 mb-3"></i>
                        <p>–ù–∞—á–Ω–∏—Ç–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = taskMessages.map(msg => {
                const isOutgoing = msg.sender_id === app.currentUser.id;
                return `
                    <div class="message ${isOutgoing ? 'outgoing' : 'incoming'}">
                        <div>${msg.content}</div>
                        <div class="message-time">${new Date(msg.created_at).toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' })}</div>
                    </div>
                `;
            }).join('');
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –≤–Ω–∏–∑
            container.scrollTop = container.scrollHeight;
        }
        
        async function sendChatMessage(taskId) {
            const input = document.getElementById('taskChatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            showLoading('–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è...');
            
            try {
                const response = await fetch(`/api/tasks/${taskId}/messages`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${app.token}`
                    },
                    body: JSON.stringify({ content: message })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
                    input.value = '';
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Å–ø–∏—Å–æ–∫
                    app.messages.push(data.message);
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —á–∞—Ç
                    loadTaskChat(taskId);
                    
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
            } finally {
                hideLoading();
            }
        }
        
        async function completeTask(taskId) {
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∑–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞—á—É?')) {
                return;
            }
            
            showLoading('–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏...');
            
            try {
                const response = await fetch(`/api/tasks/${taskId}/complete`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${app.token}`
                    }
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showNotification('–ó–∞–¥–∞—á–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!', 'success');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–¥–∞—á—É
                    const taskIndex = app.tasks.findIndex(t => t.id === taskId);
                    if (taskIndex !== -1) {
                        app.tasks[taskIndex].status = 'completed';
                    }
                    
                    // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –∑–∞–¥–∞—á–∏
                    loadTaskDetailsPage();
                    
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
            } finally {
                hideLoading();
            }
        }
        
        function viewPerformerProfile(performerId) {
            const performer = getDemoPerformer(performerId);
            if (!performer) return;
            
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ—Ñ–∏–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
            showNotification(`–ü—Ä–æ—Ñ–∏–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è: ${performer.name}`, 'info');
        }

        // ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        function switchAuthTab(tab) {
            document.querySelectorAll('.auth-form').forEach(form => {
                form.classList.add('hidden');
            });
            
            document.querySelectorAll('.tab').forEach(t => {
                t.classList.remove('active');
            });
            
            if (tab === 'login') {
                document.getElementById('loginForm').classList.remove('hidden');
                document.querySelector('.tab:first-child').classList.add('active');
            } else {
                document.getElementById('registerForm').classList.remove('hidden');
                document.querySelector('.tab:last-child').classList.add('active');
            }
        }
        
        function switchProfileTab(tab) {
            document.querySelectorAll('.profile-tab').forEach(tabElement => {
                tabElement.classList.add('hidden');
            });
            
            document.querySelectorAll('.tab').forEach(t => {
                t.classList.remove('active');
            });
            
            document.getElementById(`profile${tab.charAt(0).toUpperCase() + tab.slice(1)}Tab`).classList.remove('hidden');
            document.querySelector(`.tab[onclick*="${tab}"]`).classList.add('active');
        }
        
        function completeWelcomeSetup() {
            const userType = document.querySelector('input[name="userType"]:checked').value;
            const usageFrequency = document.getElementById('usageFrequency').value;
            const newsletter = document.getElementById('welcomeNewsletter').checked;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            localStorage.setItem('welcomeShown', 'true');
            localStorage.setItem('userType', userType);
            localStorage.setItem('usageFrequency', usageFrequency);
            localStorage.setItem('newsletter', newsletter);
            
            closeModal('welcomeOverlay');
            showNotification('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂!', 'success');
            
            // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å", –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
            if (userType === 'performer' && app.currentUser?.role === 'client') {
                setTimeout(() => {
                    if (confirm('–•–æ—Ç–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è?')) {
                        openModal('specializationsModal');
                    }
                }, 1000);
            }
        }
        
        function setDepositAmount(amount) {
            document.getElementById('depositAmount').value = amount;
            updateDepositSummary();
        }
        
        function updateDepositSummary() {
            const amount = parseFloat(document.getElementById('depositAmount').value) || 0;
            const fee = amount * 0.02; // 2% –∫–æ–º–∏—Å—Å–∏—è
            const total = amount + fee;
            
            document.getElementById('depositSummaryAmount').textContent = `${amount.toLocaleString()} ‚ÇΩ`;
            document.getElementById('depositSummaryFee').textContent = `${fee.toLocaleString()} ‚ÇΩ`;
            document.getElementById('depositSummaryTotal').textContent = `${total.toLocaleString()} ‚ÇΩ`;
        }
        
        async function processDeposit() {
            const amount = parseFloat(document.getElementById('depositAmount').value);
            const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
            
            if (!amount || amount < 100) {
                showNotification('–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è 100 ‚ÇΩ', 'error');
                return;
            }
            
            showLoading('–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞...');
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–∞
            setTimeout(() => {
                showNotification('–ë–∞–ª–∞–Ω—Å —É—Å–ø–µ—à–Ω–æ –ø–æ–ø–æ–ª–Ω–µ–Ω!', 'success');
                closeModal('depositModal');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                if (app.currentUser) {
                    app.currentUser.balance = (app.currentUser.balance || 0) + amount;
                    updateUserMenu();
                }
                
                hideLoading();
            }, 2000);
        }
        
        async function deleteAccount() {
            const password = document.getElementById('deletePassword').value;
            const confirmDelete = document.getElementById('confirmDelete').checked;
            
            if (!password) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è', 'error');
                return;
            }
            
            if (!confirmDelete) {
                showNotification('–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞', 'error');
                return;
            }
            
            showLoading('–£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞...');
            
            try {
                const response = await fetch('/api/profile', {
                    method: 'DELETE',
                    headers: {
                        'Authorization': `Bearer ${app.token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ password })
                });
                
                if (response.ok) {
                    showNotification('–ê–∫–∫–∞—É–Ω—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω', 'success');
                    
                    // –í—ã—Ö–æ–¥–∏–º –∏–∑ —Å–∏—Å—Ç–µ–º—ã
                    app.token = null;
                    app.currentUser = null;
                    localStorage.removeItem('token');
                    
                    updateUserMenu();
                    navigate('home');
                    
                } else {
                    const data = await response.json();
                    showNotification(data.error || '–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
            } finally {
                hideLoading();
            }
        }
        
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }
        
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = '';
            }
        }
        
        function closeAllModals() {
            document.querySelectorAll('.modal.active').forEach(modal => {
                modal.classList.remove('active');
            });
            document.body.style.overflow = '';
        }
        
        function showNotification(message, type = 'info') {
            const container = document.getElementById('notificationContainer');
            if (!container) return;
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icons = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };
            
            notification.innerHTML = `
                <i class="${icons[type] || icons.info} notification-icon"></i>
                <div class="notification-content">
                    <div class="notification-message">${message}</div>
                </div>
                <button class="notification-close" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            container.appendChild(notification);
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.classList.add('hiding');
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.remove();
                        }
                    }, 300);
                }
            }, 5000);
        }
        
        function showLoading(text = '–ó–∞–≥—Ä—É–∑–∫–∞...') {
            const overlay = document.getElementById('loadingOverlay');
            const loadingText = document.getElementById('loadingText');
            
            if (overlay && loadingText) {
                loadingText.textContent = text;
                overlay.classList.add('active');
                document.body.style.cursor = 'wait';
            }
        }
        
        function hideLoading() {
            const overlay = document.getElementById('loadingOverlay');
            if (overlay) {
                overlay.classList.remove('active');
                document.body.style.cursor = '';
            }
        }
        
        function toggleMobileMenu() {
            const overlay = document.getElementById('mobileOverlay');
            const sidebar = document.getElementById('mobileSidebar');
            
            if (overlay && sidebar) {
                overlay.classList.toggle('active');
                sidebar.classList.toggle('active');
                document.body.style.overflow = sidebar.classList.contains('active') ? 'hidden' : '';
            }
        }
        
        function closeMobileMenu() {
            const overlay = document.getElementById('mobileOverlay');
            const sidebar = document.getElementById('mobileSidebar');
            
            if (overlay && sidebar) {
                overlay.classList.remove('active');
                sidebar.classList.remove('active');
                document.body.style.overflow = '';
            }
        }
        
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // ==================== –ù–ê–°–¢–†–û–ô–ö–ê –û–ë–†–ê–ë–û–¢–ß–ò–ö–û–í –°–û–ë–´–¢–ò–ô ====================
        function setupEventListeners() {
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è
            document.querySelectorAll('.nav-link[data-page]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    navigate(page);
                });
            });
            
            // –õ–æ–≥–æ—Ç–∏–ø
            document.getElementById('logoHome').addEventListener('click', function(e) {
                e.preventDefault();
                navigate('home');
            });
            
            // –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
            document.getElementById('mobileMenuBtn').addEventListener('click', toggleMobileMenu);
            document.getElementById('mobileOverlay').addEventListener('click', closeMobileMenu);
            document.getElementById('mobileCloseBtn').addEventListener('click', closeMobileMenu);
            
            // –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            document.getElementById('userTrigger').addEventListener('click', function(e) {
                e.stopPropagation();
                document.getElementById('dropdownMenu').classList.toggle('active');
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
            document.addEventListener('click', function(e) {
                const dropdown = document.getElementById('dropdownMenu');
                const trigger = document.getElementById('userTrigger');
                
                if (dropdown && trigger && !dropdown.contains(e.target) && !trigger.contains(e.target)) {
                    dropdown.classList.remove('active');
                }
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ overlay
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    closeModal(e.target.id);
                }
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ Escape
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeAllModals();
                    closeMobileMenu();
                }
            });
            
            // –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
            document.addEventListener('click', function(e) {
                if (e.target.id === 'btnLogout' || e.target.closest('#btnLogout')) {
                    e.preventDefault();
                    logout();
                }
            });
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            document.addEventListener('click', function(e) {
                if (e.target.id === 'btnSettings' || e.target.closest('#btnSettings')) {
                    e.preventDefault();
                    showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏', 'info');
                }
            });
            
            // –ü–æ–º–æ—â—å
            document.addEventListener('click', function(e) {
                if (e.target.id === 'btnHelp' || e.target.closest('#btnHelp')) {
                    e.preventDefault();
                    openModal('helpModal');
                }
            });
            
            // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            document.addEventListener('click', function(e) {
                if (e.target.id === 'btnNotifications' || e.target.closest('#btnNotifications')) {
                    e.preventDefault();
                    showNotification('–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏', 'info');
                }
            });
            
            // –†–µ–π—Ç–∏–Ω–≥ –≤ –º–æ–¥–∞–ª–∫–µ –æ—Ü–µ–Ω–∫–∏
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('rating-star')) {
                    const rating = parseInt(e.target.getAttribute('data-rating'));
                    const stars = e.target.parentElement.querySelectorAll('.rating-star');
                    
                    stars.forEach((star, index) => {
                        if (index < rating) {
                            star.classList.add('active');
                        } else {
                            star.classList.remove('active');
                        }
                    });
                    
                    const ratingText = document.getElementById('ratingText');
                    if (ratingText) {
                        const texts = ['–£–∂–∞—Å–Ω–æ', '–ü–ª–æ—Ö–æ', '–ù–æ—Ä–º–∞–ª—å–Ω–æ', '–•–æ—Ä–æ—à–æ', '–û—Ç–ª–∏—á–Ω–æ'];
                        ratingText.textContent = texts[rating - 1] || '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–≤–µ–∑–¥—É –¥–ª—è –æ—Ü–µ–Ω–∫–∏';
                    }
                }
            });
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É–º–º—ã –¥–µ–ø–æ–∑–∏—Ç–∞
            const depositAmount = document.getElementById('depositAmount');
            if (depositAmount) {
                depositAmount.addEventListener('input', updateDepositSummary);
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è FAQ –ø–æ–¥–ø–∏—Å–æ–∫
            loadSubscriptionFAQ();
        }

        // ==================== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        window.navigate = navigate;
        window.login = login;
        window.register = register;
        window.logout = logout;
        window.openModal = openModal;
        window.closeModal = closeModal;
        window.switchAuthTab = switchAuthTab;
        window.switchProfileTab = switchProfileTab;
        window.openTaskWizard = openTaskWizard;
        window.taskWizardNext = taskWizardNext;
        window.taskWizardPrev = taskWizardPrev;
        window.submitNewTask = submitNewTask;
        window.selectSubscription = selectSubscription;
        window.subscriptionWizardNext = subscriptionWizardNext;
        window.subscriptionWizardPrev = subscriptionWizardPrev;
        window.completeSubscriptionWizard = completeSubscriptionWizard;
        window.processSubscriptionPayment = processSubscriptionPayment;
        window.subscribeToPlan = subscribeToPlan;
        window.startOrderFromCategory = startOrderFromCategory;
        window.rateTask = rateTask;
        window.submitTaskRating = submitTaskRating;
        window.sendMessage = sendMessage;
        window.viewTaskDetails = viewTaskDetails;
        window.takeTask = takeTask;
        window.updateTaskStatus = updateTaskStatus;
        window.saveProfile = saveProfile;
        window.savePerformerProfile = savePerformerProfile;
        window.saveSpecializations = saveSpecializations;
        window.addAdmin = addAdmin;
        window.processPayouts = processPayouts;
        window.clearCache = clearCache;
        window.createBackup = createBackup;
        window.runMaintenance = runMaintenance;
        window.setDepositAmount = setDepositAmount;
        window.processDeposit = processDeposit;
        window.deleteAccount = deleteAccount;
        window.completeWelcomeSetup = completeWelcomeSetup;
        window.toggleMobileMenu = toggleMobileMenu;
        window.closeMobileMenu = closeMobileMenu;
        window.showNotification = showNotification;
    </script>
</body>
</html>
