<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>üå∏ –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂ | –í—Å–µ —É—Å–ª—É–≥–∏ –≤ –æ–¥–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–µ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* –ü–æ–ª–Ω—ã–π –ø—Ä–µ–º–∏—É–º-–º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ç–∏–ª—å */
        :root {
            --ivory-bg: #F9F7F3;
            --graphite-dark: #3D3D3D;
            --graphite-medium: #5A5A5A;
            --graphite-light: #8A8A8A;
            --pastel-pink: #F2DDE6;
            --pink-light: #FAEFF5;
            --gold-metallic: #C5A880;
            --gold-dark: #A78B65;
            --lavender: #B9AFFF;
            --lavender-light: #E0DDFF;
            --aquamarine: #7FE0D1;
            --aqua-dark: #5AC8B7;
            --white: #FFFFFF;
            --shadow-sm: 0 2px 4px rgba(61, 61, 61, 0.05);
            --shadow: 0 4px 12px rgba(61, 61, 61, 0.08);
            --shadow-lg: 0 8px 24px rgba(61, 61, 61, 0.12);
            --radius-sm: 8px;
            --radius: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--ivory-bg);
            color: var(--graphite-dark);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            font-weight: 400;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .app-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(61, 61, 61, 0.08);
            z-index: 1000;
            padding: 0;
            height: 70px;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
            padding: 0 24px;
        }
        
        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--graphite-dark);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
            letter-spacing: -0.5px;
        }
        
        .logo-icon {
            color: var(--gold-metallic);
            font-size: 1.6rem;
        }
        
        .nav-menu {
            display: flex;
            gap: 28px;
            align-items: center;
        }
        
        .nav-link {
            color: var(--graphite-medium);
            text-decoration: none;
            font-weight: 500;
            padding: 8px 0;
            position: relative;
            transition: var(--transition);
            font-size: 0.9rem;
            font-family: 'Inter', sans-serif;
            white-space: nowrap;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--gold-metallic);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .nav-link:hover {
            color: var(--graphite-dark);
        }
        
        .nav-link:hover::after {
            transform: scaleX(1);
        }
        
        .nav-link.active {
            color: var(--graphite-dark);
            font-weight: 600;
        }
        
        .nav-link.active::after {
            transform: scaleX(1);
        }
        
        .user-menu {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-left: 20px;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--lavender-light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--graphite-dark);
            font-weight: 600;
            cursor: pointer;
            border: 1.5px solid rgba(61, 61, 61, 0.1);
            transition: var(--transition);
            font-size: 0.9rem;
            flex-shrink: 0;
        }
        
        .user-avatar:hover {
            border-color: var(--gold-metallic);
            transform: translateY(-1px);
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.4rem;
            color: var(--graphite-dark);
            cursor: pointer;
            padding: 8px;
            z-index: 1001;
        }
        
        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .main-content {
            margin-top: 70px;
            min-height: calc(100vh - 70px);
        }
        
        .page {
            display: none;
            animation: fadeIn 0.3s ease;
            padding-bottom: 60px;
        }
        
        .page.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 24px;
            border: none;
            border-radius: var(--radius);
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            letter-spacing: 0.2px;
            white-space: nowrap;
        }
        
        .btn-primary {
            background: var(--gold-metallic);
            color: white;
            border: 2px solid var(--gold-metallic);
        }
        
        .btn-primary:hover {
            background: var(--gold-dark);
            border-color: var(--gold-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--graphite-dark);
            border: 2px solid rgba(61, 61, 61, 0.15);
        }
        
        .btn-secondary:hover {
            background: rgba(61, 61, 61, 0.02);
            border-color: var(--graphite-light);
            transform: translateY(-1px);
        }
        
        .btn-pink {
            background: var(--pastel-pink);
            color: var(--graphite-dark);
            border: 2px solid var(--pastel-pink);
        }
        
        .btn-pink:hover {
            background: #E8C8D9;
            border-color: #E8C8D9;
        }
        
        .btn-danger {
            background: #FF6B6B;
            color: white;
            border: 2px solid #FF6B6B;
        }
        
        .btn-danger:hover {
            background: #E74C3C;
            border-color: #E74C3C;
        }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
        .card {
            background: var(--white);
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            border: 1px solid rgba(61, 61, 61, 0.08);
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
            border-color: rgba(61, 61, 61, 0.15);
        }
        
        /* –°–µ–∫—Ü–∏–∏ */
        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            font-weight: 600;
            color: var(--graphite-dark);
            margin-bottom: 16px;
            line-height: 1.2;
            letter-spacing: -0.5px;
        }
        
        .section-subtitle {
            color: var(--graphite-medium);
            font-size: 1rem;
            margin-bottom: 32px;
            max-width: 600px;
        }
        
        /* –°–µ—Ç–∫–∏ */
        .grid {
            display: grid;
            gap: 20px;
        }
        
        .grid-2 {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .grid-3 {
            grid-template-columns: repeat(3, 1fr);
        }
        
        .grid-4 {
            grid-template-columns: repeat(4, 1fr);
        }
        
        /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü */
        .page-header {
            padding: 60px 0 40px;
            text-align: center;
            position: relative;
        }
        
        .page-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: var(--gold-metallic);
            border-radius: 2px;
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 1024px) {
            .grid-3, .grid-4 {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .nav-menu {
                position: fixed;
                top: 70px;
                left: 0;
                right: 0;
                background: white;
                flex-direction: column;
                padding: 24px;
                gap: 20px;
                box-shadow: var(--shadow-lg);
                transform: translateY(-100%);
                opacity: 0;
                visibility: hidden;
                transition: var(--transition);
                z-index: 999;
                max-height: calc(100vh - 70px);
                overflow-y: auto;
            }
            
            .nav-menu.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .grid-2, .grid-3, .grid-4 {
                grid-template-columns: 1fr;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .page-header {
                padding: 40px 0 30px;
            }
            
            .user-menu {
                margin-left: 0;
                margin-top: 10px;
                width: 100%;
                justify-content: center;
                flex-wrap: wrap;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 0 16px;
            }
            
            .nav-container {
                padding: 0 16px;
            }
            
            .section-title {
                font-size: 1.6rem;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .modal-content {
                margin: 0 16px;
            }
        }
        
        /* –§–æ—Ä–º—ã */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: var(--graphite-dark);
            font-size: 0.85rem;
        }
        
        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 1.5px solid rgba(61, 61, 61, 0.1);
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            transition: var(--transition);
            background: white;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--gold-metallic);
            box-shadow: 0 0 0 3px rgba(197, 168, 128, 0.1);
        }
        
        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 90px;
            right: 20px;
            padding: 14px 20px;
            border-radius: var(--radius-sm);
            color: white;
            font-weight: 500;
            box-shadow: var(--shadow-lg);
            z-index: 2000;
            animation: slideIn 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            max-width: 320px;
            word-break: break-word;
        }
        
        .notification.success {
            background: var(--aquamarine);
            color: var(--graphite-dark);
        }
        
        .notification.error {
            background: #FF6B6B;
        }
        
        .notification.info {
            background: var(--lavender);
            color: var(--graphite-dark);
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(61, 61, 61, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 3000;
            padding: 16px;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            backdrop-filter: blur(4px);
        }
        
        .modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: white;
            border-radius: var(--radius);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            animation: modalIn 0.3s ease;
        }
        
        @keyframes modalIn {
            from { transform: scale(0.95); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            background: white;
            z-index: 1;
        }
        
        .modal-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            color: var(--graphite-dark);
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .modal-footer {
            padding: 20px;
            border-top: 1px solid rgba(61, 61, 61, 0.1);
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            position: sticky;
            bottom: 0;
            background: white;
            z-index: 1;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 1.3rem;
            color: var(--graphite-light);
            cursor: pointer;
            padding: 4px;
            line-height: 1;
        }
        
        /* –ó–∞–≥—Ä—É–∑–∫–∞ */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(61, 61, 61, 0.1);
            border-top-color: var(--gold-metallic);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* –°—Ç–∞—Ç—É—Å—ã */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 5px 10px;
            border-radius: 16px;
            font-size: 0.75rem;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .status-new {
            background: #FFE6E6;
            color: #D32F2F;
        }
        
        .status-searching {
            background: #FFF0E6;
            color: #F57C00;
        }
        
        .status-assigned {
            background: #E6F7FF;
            color: #1976D2;
        }
        
        .status-in-progress {
            background: #F2DDE6;
            color: var(--graphite-dark);
        }
        
        .status-completed {
            background: rgba(127, 224, 209, 0.2);
            color: #388E3C;
        }
        
        .status-cancelled, .status-rejected, .status-expired {
            background: #F5F5F5;
            color: #757575;
        }
        
        /* –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥ */
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 20px;
            margin: 32px 0;
        }
        
        .category-card {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            text-align: center;
            transition: var(--transition);
            border: 1px solid rgba(61, 61, 61, 0.08);
            cursor: pointer;
            display: flex;
            flex-direction: column;
            height: 100%;
            text-decoration: none;
            color: inherit;
        }
        
        .category-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow);
            border-color: var(--pastel-pink);
        }
        
        .category-icon {
            font-size: 2rem;
            margin-bottom: 16px;
            color: var(--graphite-dark);
        }
        
        .category-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: var(--graphite-dark);
        }
        
        .category-desc {
            color: var(--graphite-medium);
            font-size: 0.9rem;
            margin-bottom: 20px;
            flex-grow: 1;
        }
        
        /* –ü–æ–¥–ø–∏—Å–∫–∏ */
        .subscription-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin: 32px 0;
        }
        
        .subscription-card {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            border: 2px solid rgba(61, 61, 61, 0.1);
            transition: var(--transition);
            position: relative;
            display: flex;
            flex-direction: column;
        }
        
        .subscription-card.featured {
            border-color: var(--gold-metallic);
        }
        
        .subscription-featured {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--gold-metallic);
            color: white;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .subscription-name {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            margin-bottom: 12px;
            color: var(--graphite-dark);
        }
        
        .subscription-price {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--graphite-dark);
            margin-bottom: 6px;
            font-family: 'Inter', sans-serif;
        }
        
        .subscription-period {
            color: var(--graphite-medium);
            margin-bottom: 24px;
            font-size: 0.9rem;
        }
        
        .subscription-features {
            list-style: none;
            margin-bottom: 24px;
            flex-grow: 1;
        }
        
        .subscription-features li {
            padding: 6px 0;
            color: var(--graphite-dark);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
        }
        
        .subscription-features li i {
            color: var(--aquamarine);
            flex-shrink: 0;
        }
        
        /* –ó–∞–∫–∞–∑—ã */
        .orders-grid {
            display: grid;
            gap: 16px;
        }
        
        .order-card {
            background: white;
            border-radius: var(--radius-sm);
            padding: 20px;
            border: 1px solid rgba(61, 61, 61, 0.08);
            transition: var(--transition);
            cursor: pointer;
        }
        
        .order-card:hover {
            border-color: rgba(61, 61, 61, 0.15);
            box-shadow: var(--shadow-sm);
            transform: translateY(-1px);
        }
        
        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
            gap: 10px;
        }
        
        .order-title {
            font-weight: 600;
            font-size: 1rem;
            color: var(--graphite-dark);
            line-height: 1.3;
        }
        
        .order-date {
            color: var(--graphite-light);
            font-size: 0.8rem;
            white-space: nowrap;
        }
        
        .order-description {
            color: var(--graphite-medium);
            margin-bottom: 16px;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            font-size: 0.9rem;
        }
        
        .order-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 16px;
            border-top: 1px solid rgba(61, 61, 61, 0.08);
            flex-wrap: wrap;
            gap: 8px;
        }
        
        /* –ü—Ä–æ—Ñ–∏–ª—å */
        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 16px;
            margin: 24px 0;
        }
        
        .stat-card {
            background: white;
            border-radius: var(--radius-sm);
            padding: 16px;
            text-align: center;
            border: 1px solid rgba(61, 61, 61, 0.08);
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--gold-metallic);
            margin-bottom: 6px;
        }
        
        .stat-label {
            color: var(--graphite-medium);
            font-size: 0.85rem;
        }
        
        /* –ß–∞—Ç */
        .chat-container {
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            height: 400px;
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(61, 61, 61, 0.08);
        }
        
        .chat-header {
            padding: 16px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.08);
            background: rgba(249, 247, 243, 0.5);
        }
        
        .chat-messages {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .message {
            display: flex;
            flex-direction: column;
            max-width: 80%;
        }
        
        .message.own {
            align-self: flex-end;
        }
        
        .message.other {
            align-self: flex-start;
        }
        
        .message-sender {
            font-size: 0.75rem;
            color: var(--graphite-light);
            margin-bottom: 2px;
            font-weight: 500;
        }
        
        .message-content {
            padding: 10px 14px;
            border-radius: var(--radius-sm);
            background: rgba(61, 61, 61, 0.04);
            word-break: break-word;
            font-size: 0.9rem;
        }
        
        .message.own .message-content {
            background: var(--pastel-pink);
        }
        
        .message-time {
            font-size: 0.7rem;
            color: var(--graphite-light);
            margin-top: 2px;
            text-align: right;
        }
        
        .chat-input-container {
            padding: 16px;
            border-top: 1px solid rgba(61, 61, 61, 0.08);
            display: flex;
            gap: 10px;
        }
        
        .chat-input {
            flex: 1;
            padding: 10px 14px;
            border: 1px solid rgba(61, 61, 61, 0.1);
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
            min-height: 44px;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: var(--gold-metallic);
        }
        
        /* –§—É—Ç–µ—Ä */
        .app-footer {
            background: white;
            border-top: 1px solid rgba(61, 61, 61, 0.08);
            padding: 40px 0 30px;
            margin-top: 60px;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 32px;
        }
        
        .footer-section h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            margin-bottom: 16px;
            color: var(--graphite-dark);
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: var(--graphite-medium);
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }
        
        .footer-links a:hover {
            color: var(--graphite-dark);
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            margin-top: 30px;
            border-top: 1px solid rgba(61, 61, 61, 0.08);
            color: var(--graphite-light);
            font-size: 0.85rem;
        }
        
        /* –í–∏–∑–∞—Ä–¥ –∑–∞–∫–∞–∑–∞ */
        .wizard-step {
            display: block;
        }
        
        .wizard-step.hidden {
            display: none;
        }
        
        .service-card {
            height: auto;
        }
        
        /* –£—Ç–∏–ª–∏—Ç—ã */
        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .text-left { text-align: left; }
        .w-100 { width: 100%; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-8 { margin-bottom: 2rem; }
        .mt-2 { margin-top: 0.5rem; }
        .mt-4 { margin-top: 1rem; }
        .mt-8 { margin-top: 2rem; }
        .p-4 { padding: 1rem; }
        .p-8 { padding: 2rem; }
        .gap-2 { gap: 0.5rem; }
        .gap-4 { gap: 1rem; }
        .gap-8 { gap: 2rem; }
        .hidden { display: none !important; }
        .block { display: block !important; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .items-start { align-items: flex-start; }
        .justify-between { justify-content: space-between; }
        .justify-end { justify-content: flex-end; }
        .justify-center { justify-content: center; }
        .flex-wrap { flex-wrap: wrap; }
        
        /* –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã */
        @media (max-width: 768px) {
            .mobile-hide { display: none !important; }
            .mobile-show { display: block !important; }
            .flex-mobile-col { flex-direction: column; }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        /* –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(61, 61, 61, 0.05);
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--graphite-light);
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--graphite-medium);
        }
        
        /* –†–æ–ª–∏ */
        .role-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .role-client {
            background: #F2DDE6;
            color: #C2185B;
        }
        
        .role-performer {
            background: #E3F2FD;
            color: #1565C0;
        }
        
        .role-admin {
            background: #E8F5E9;
            color: #2E7D32;
        }
        
        .role-manager {
            background: #FFF3E0;
            color: #EF6C00;
        }
        
        .role-superadmin {
            background: #F3E5F5;
            color: #7B1FA2;
        }
        
        /* –õ–∏–º–∏—Ç—ã –∑–∞–¥–∞—á */
        .progress-container {
            margin: 16px 0;
        }
        
        .progress-bar {
            height: 8px;
            background: rgba(61, 61, 61, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 4px;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--gold-metallic);
            transition: width 0.3s ease;
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--graphite-medium);
        }
        
        /* –ü–∞–Ω–µ–ª—å –ø–æ–º–æ—â–Ω–∏–∫–∞ */
        .specialization-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            background: var(--lavender-light);
            color: var(--graphite-dark);
            border-radius: 12px;
            font-size: 0.8rem;
            margin: 2px;
        }
        
        /* –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å */
        .admin-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            margin: 24px 0;
        }
        
        .admin-stat-card {
            background: white;
            border-radius: var(--radius-sm);
            padding: 16px;
            text-align: center;
            border: 1px solid rgba(61, 61, 61, 0.08);
        }
        
        .admin-stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--graphite-dark);
            margin-bottom: 6px;
        }
        
        .admin-stat-label {
            color: var(--graphite-medium);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–∞–Ω–µ–ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è */
        .performer-dashboard {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        @media (min-width: 1024px) {
            .performer-dashboard {
                grid-template-columns: 1fr 1fr;
            }
        }

        .performer-stat-card {
            background: linear-gradient(135deg, var(--lavender-light) 0%, #E0DDFF 100%);
            border-radius: var(--radius);
            padding: 24px;
            text-align: center;
            border: 2px solid var(--lavender);
        }

        .performer-stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--graphite-dark);
            margin-bottom: 8px;
        }

        .performer-stat-label {
            color: var(--graphite-medium);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .task-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        /* –°—Ç–∞—Ç—É—Å—ã –¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è */
        .status-taken {
            background: #E3F2FD;
            color: #1565C0;
        }

        .status-working {
            background: #FFF3E0;
            color: #EF6C00;
        }

        .status-done {
            background: #E8F5E9;
            color: #2E7D32;
        }
        
        /* –¢–∞–±–ª–∏—Ü—ã */
        .table-container {
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            border: 1px solid rgba(61, 61, 61, 0.08);
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .table th {
            background: rgba(249, 247, 243, 0.5);
            padding: 12px 16px;
            text-align: left;
            font-weight: 600;
            color: var(--graphite-dark);
            border-bottom: 1px solid rgba(61, 61, 61, 0.08);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .table td {
            padding: 12px 16px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.04);
            color: var(--graphite-medium);
            font-size: 0.9rem;
        }
        
        .table tr:last-child td {
            border-bottom: none;
        }
        
        .table tr:hover {
            background: rgba(249, 247, 243, 0.5);
        }
        
        /* –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä */
        .progress {
            height: 8px;
            background: rgba(61, 61, 61, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--gold-metallic);
            transition: width 0.3s ease;
        }
        
        /* –¢–∞—Ä–∏—Ñ—ã –≤ —Ñ–æ—Ä–º–µ */
        .tariff-option input[type="radio"] {
            display: none;
        }
        
        .tariff-option input[type="radio"]:checked + .tariff-card {
            border-color: var(--gold-metallic);
            background: var(--pink-light);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }
        
        .tariff-card {
            border: 2px solid rgba(61, 61, 61, 0.1);
            border-radius: var(--radius-sm);
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .tariff-card:hover {
            border-color: var(--graphite-light);
        }
        
        .tariff-name {
            font-weight: 600;
            color: var(--graphite-dark);
            margin-bottom: 4px;
        }
        
        .tariff-price {
            color: var(--gold-metallic);
            font-weight: 700;
            font-size: 1.1rem;
        }
        
        /* –ó–Ω–∞—á–∫–∏ —É—Å–ª—É–≥ (–∫–∞—Ä—Ç–∏–Ω–∫–∏) */
        .service-icon-img {
            width: 60px;
            height: 60px;
            margin: 0 auto 16px;
            border-radius: 50%;
            background: var(--pink-light);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--graphite-dark);
        }
        
        .service-icon-img img {
            width: 40px;
            height: 40px;
            object-fit: contain;
        }
        
        /* –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω */
        .welcome-icon {
            color: var(--gold-metallic);
            font-size: 4rem;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }
        
        /* –°–ú–° –æ–ø–ª–∞—Ç–∞ */
        .sms-payment-options {
            display: grid;
            gap: 12px;
            margin: 20px 0;
        }
        
        .sms-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border: 2px solid rgba(61, 61, 61, 0.1);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .sms-option:hover {
            border-color: var(--graphite-light);
        }
        
        .sms-option.selected {
            border-color: var(--gold-metallic);
            background: var(--pink-light);
        }
        
        .sms-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--lavender-light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--graphite-dark);
            font-size: 1.2rem;
        }
        
        .sms-info {
            flex: 1;
        }
        
        .sms-operator {
            font-weight: 600;
            color: var(--graphite-dark);
        }
        
        .sms-number {
            font-size: 0.9rem;
            color: var(--graphite-medium);
        }
    </style>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <header class="app-header">
        <div class="nav-container">
            <a href="#" class="logo" id="logoHome">
                <i class="fas fa-spa logo-icon"></i>
                –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂
            </a>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav class="nav-menu" id="navMenu">
                <a href="#" class="nav-link active" data-page="home">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="#" class="nav-link" data-page="services">–£—Å–ª—É–≥–∏</a>
                <a href="#" class="nav-link" data-page="subscriptions">–ü–æ–¥–ø–∏—Å–∫–∞</a>
                <a href="#" class="nav-link" data-page="tasks">–ú–æ–∏ –∑–∞–¥–∞—á–∏</a>
                <a href="#" class="nav-link" data-page="profile">–ü—Ä–æ—Ñ–∏–ª—å</a>
                
                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π -->
                <span id="roleSpecificLinks"></span>
                
                <div class="user-menu" id="userMenu">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                </div>
            </nav>
        </div>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="main-content">
        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <section id="page-home" class="page active">
            <div class="container">
                <div class="page-header">
                    <h1 class="section-title">–í—Å–µ —É—Å–ª—É–≥–∏ –≤ –æ–¥–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–µ</h1>
                    <p class="section-subtitle">
                        –ü–æ–º–æ—â—å –≤ –±—ã—Ç–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π, –∑–∞–±–æ—Ç–µ –æ —Å–µ–±–µ –∏ –º–Ω–æ–≥–æ–º –¥—Ä—É–≥–æ–º. 
                        –ü—Ä–æ—Å—Ç–æ –æ–ø–∏—à–∏—Ç–µ, —á—Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ, –∏ –Ω–∞—à–∏ –ø–æ–º–æ—â–Ω–∏—Ü—ã –≤—Å—ë —Å–¥–µ–ª–∞—é—Ç!
                    </p>
                    <div class="mt-8 flex items-center justify-center gap-4 flex-wrap">
                        <button class="btn btn-primary" id="btnStartOrder">
                            <i class="fas fa-play-circle"></i>
                            –ù–∞—á–∞—Ç—å –∑–∞–∫–∞–∑
                        </button>
                        <button class="btn btn-secondary" id="btnViewSubscriptions">
                            <i class="fas fa-crown"></i>
                            –í—ã–±—Ä–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
                        </button>
                    </div>
                </div>

                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ) -->
                <div class="mb-8">
                    <h2 class="section-title text-center">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–º–æ—â–∏</h2>
                    <p class="section-subtitle text-center">
                        –ë–æ–ª–µ–µ 6 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–æ–º–æ—â–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –∫–æ–º—Ñ–æ—Ä—Ç–∞
                    </p>
                    <div class="category-grid" id="categoriesHome">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>

                <!-- –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç -->
                <div class="card mb-8">
                    <h2 class="section-title text-center">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
                    <div class="grid grid-2 md:grid-4 mt-8">
                        <div class="text-center">
                            <div class="service-icon-img mb-4">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <h3 class="category-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
                            <p class="category-desc">–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É</p>
                        </div>
                        <div class="text-center">
                            <div class="service-icon-img mb-4">
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <h3 class="category-title">–û–ø–ª–∞—Ç–∞</h3>
                            <p class="category-desc">–û–ø–ª–∞—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ –°–ú–° –∏–ª–∏ –æ–Ω–ª–∞–π–Ω –∫–∞—Ä—Ç–æ–π</p>
                        </div>
                        <div class="text-center">
                            <div class="service-icon-img mb-4">
                                <i class="fas fa-tasks"></i>
                            </div>
                            <h3 class="category-title">–ó–∞–∫–∞–∑</h3>
                            <p class="category-desc">–û–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É –≤ —É–¥–æ–±–Ω–æ–π —Ñ–æ—Ä–º–µ</p>
                        </div>
                        <div class="text-center">
                            <div class="service-icon-img mb-4">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <h3 class="category-title">–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</h3>
                            <p class="category-desc">–ü–æ–ª—É—á–∏—Ç–µ –ø–æ–º–æ—â—å –∏ –æ—Ü–µ–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É</p>
                        </div>
                    </div>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö) -->
                <div id="homeStats" class="hidden">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                </div>

                <!-- –û—Ç–∑—ã–≤—ã -->
                <div id="reviewsSection" class="hidden">
                    <h2 class="section-title text-center">–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>
                    <div class="category-grid" id="reviewsGrid">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>
            </div>
        </section>

        <!-- –£—Å–ª—É–≥–∏ -->
        <section id="page-services" class="page">
            <div class="container">
                <div class="page-header">
                    <h1 class="section-title">–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏</h1>
                    <p class="section-subtitle">
                        –í—Å–µ —É—Å–ª—É–≥–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –æ–Ω–ª–∞–π–Ω: –ø–æ–¥–±–æ—Ä, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
                    </p>
                </div>

                <div class="category-grid" id="categoriesGrid">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                </div>

                <!-- –í–∏–∑–∞—Ä–¥ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ -->
                <div id="orderWizard" class="hidden">
                    <div class="card mb-8">
                        <!-- –®–∞–≥ 1: –í—ã–±–æ—Ä —É—Å–ª—É–≥–∏ -->
                        <div class="wizard-step" id="wizardStep1">
                            <h2 class="section-title mb-4">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</h2>
                            <p class="section-subtitle mb-8" id="categoryDescription"></p>
                            
                            <!-- –õ–∏–º–∏—Ç –∑–∞–¥–∞—á -->
                            <div id="tasksLimitInfo" class="card mb-6 hidden">
                                <div class="progress-container">
                                    <div class="progress-text">
                                        <span>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∑–∞–¥–∞—á</span>
                                        <span><span id="tasksUsed">0</span> / <span id="tasksLimit">0</span></span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="tasksProgress" style="width: 0%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mb-8" id="servicesGrid">
                                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                            </div>
                            
                            <div class="flex justify-between items-center">
                                <button class="btn btn-secondary" id="btnCancelWizard">
                                    <i class="fas fa-times"></i>
                                    –û—Ç–º–µ–Ω–∞
                                </button>
                                <button class="btn btn-primary" id="btnNextToDetails" disabled>
                                    –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                                    <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>

                        <!-- –®–∞–≥ 2: –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ -->
                        <div class="wizard-step hidden" id="wizardStep2">
                            <h2 class="section-title mb-4">–û–ø–∏—à–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞</h2>
                            <p class="section-subtitle mb-8">–ß–µ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ, —Ç–µ–º –ª—É—á—à–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç</p>
                            
                            <form id="orderForm">
                                <div class="form-group">
                                    <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ *</label>
                                    <input type="text" class="form-input" id="orderTitle" required 
                                           placeholder="–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ *</label>
                                    <textarea class="form-input form-textarea" id="orderDescription" required
                                              placeholder="–û–ø–∏—à–∏—Ç–µ –∑–∞–∫–∞–∑ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ..." rows="4"></textarea>
                                    <div class="text-sm text-gray-500 mt-1">
                                        –ü—Ä–∏–º–µ—Ä: "–ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∫—É—Ä—Å—ã –ø–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö, –æ–Ω–ª–∞–π–Ω, —Å —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–º –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º, –±—é–¥–∂–µ—Ç –¥–æ 5000‚ÇΩ –≤ –º–µ—Å—è—Ü"
                                    </div>
                                </div>
                                
                                <div class="grid grid-2 gap-4 mb-4">
                                    <div class="form-group">
                                        <label class="form-label">–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è *</label>
                                        <input type="datetime-local" class="form-input" id="orderDeadline" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                                        <select class="form-input" id="orderPriority">
                                            <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                                            <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                                            <option value="low">–ù–∏–∑–∫–∏–π</option>
                                            <option value="urgent">–°—Ä–æ—á–Ω—ã–π</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">–ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Å–≤—è–∑–∏ *</label>
                                    <input type="text" class="form-input" id="orderContact" required
                                           placeholder="–¢–µ–ª–µ—Ñ–æ–Ω, email, Telegram">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">–ë—é–¥–∂–µ—Ç (–µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–µ–Ω)</label>
                                    <input type="number" class="form-input" id="orderBudget"
                                           placeholder="–°—É–º–º–∞ –≤ —Ä—É–±–ª—è—Ö">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</label>
                                    <textarea class="form-input form-textarea" id="orderAdditional"
                                              placeholder="–û—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è, –≤–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã..." rows="3"></textarea>
                                </div>
                            </form>
                            
                            <div class="flex justify-between items-center mt-8">
                                <button class="btn btn-secondary" id="btnBackToServices">
                                    <i class="fas fa-arrow-left"></i>
                                    –ù–∞–∑–∞–¥
                                </button>
                                <button class="btn btn-primary" id="btnReviewOrder">
                                    –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                                    <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>

                        <!-- –®–∞–≥ 3: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ -->
                        <div class="wizard-step hidden" id="wizardStep3">
                            <h2 class="section-title mb-4">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h2>
                            <p class="section-subtitle mb-8">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π</p>
                            
                            <div id="orderReview" class="mb-8">
                                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                            </div>
                            
                            <div class="flex justify-between items-center">
                                <button class="btn btn-secondary" id="btnBackToDetails">
                                    <i class="fas fa-arrow-left"></i>
                                    –ù–∞–∑–∞–¥
                                </button>
                                <button class="btn btn-primary" id="btnSubmitOrder">
                                    <i class="fas fa-check"></i>
                                    –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- –ü–æ–¥–ø–∏—Å–∫–∏ -->
        <section id="page-subscriptions" class="page">
            <div class="container">
                <div class="page-header">
                    <h1 class="section-title">–¢–∞—Ä–∏—Ñ—ã —Å –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–º –≤–∑–Ω–æ—Å–æ–º</h1>
                    <p class="section-subtitle">
                        –ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞: –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å + –µ–∂–µ–º–µ—Å—è—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –°–ú–°. 
                        –í—Å–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ –ø–æ–¥–ø–∏—Å–∫—É.
                    </p>
                </div>

                <div class="subscription-grid" id="subscriptionsGrid">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                </div>

                <div class="card mt-8">
                    <h2 class="section-title text-center">–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ –º—ã?</h2>
                    <div class="grid grid-1 md:grid-3 mt-8">
                        <div class="text-center">
                            <div class="service-icon-img mb-4">
                                <i class="fas fa-female"></i>
                            </div>
                            <h3 class="category-title">–¢–æ–ª—å–∫–æ –∂–µ–Ω—â–∏–Ω—ã</h3>
                            <p class="category-desc">–ù–∞—à–∏ –ø–æ–º–æ—â–Ω–∏—Ü—ã ‚Äî –æ–ø—ã—Ç–Ω—ã–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∫–∏</p>
                        </div>
                        <div class="text-center">
                            <div class="service-icon-img mb-4">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h3 class="category-title">–ì–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞</h3>
                            <p class="category-desc">–í—Å–µ —É—Å–ª—É–≥–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –∏ –∑–∞—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω—ã</p>
                        </div>
                        <div class="text-center">
                            <div class="service-icon-img mb-4">
                                <i class="fas fa-infinity"></i>
                            </div>
                            <h3 class="category-title">–í—Å–µ –≤–∫–ª—é—á–µ–Ω–æ</h3>
                            <p class="category-desc">–ù–∏–∫–∞–∫–∏—Ö —Å–∫—Ä—ã—Ç—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π. –í—Å–µ —É—Å–ª—É–≥–∏ –≤ –ø–æ–¥–ø–∏—Å–∫–µ</p>
                        </div>
                    </div>
                </div>

                <!-- –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã -->
                <div id="faqSection" class="card mt-8">
                    <h2 class="section-title text-center">–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
                    <div id="faqList" class="mt-8">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>
            </div>
        </section>

        <!-- –ó–∞–¥–∞—á–∏ -->
        <section id="page-tasks" class="page">
            <div class="container">
                <div class="page-header">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                        <div>
                            <h1 class="section-title" id="tasksPageTitle">–ú–æ–∏ –∑–∞–¥–∞—á–∏</h1>
                            <p class="section-subtitle" id="tasksPageSubtitle">–í—Å–µ –≤–∞—à–∏ –∑–∞–¥–∞—á–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</p>
                        </div>
                        <button class="btn btn-primary" id="btnNewTask">
                            <i class="fas fa-plus"></i>
                            –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞
                        </button>
                    </div>
                </div>

                <!-- –î–ª—è –ø–æ–º–æ—â–Ω–∏–∫–æ–≤: –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏ -->
                <div id="availableTasksSection" class="hidden mb-8">
                    <h2 class="category-title mb-4">–î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏</h2>
                    <div class="orders-grid" id="availableTasksList">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>

                <!-- –§–∏–ª—å—Ç—Ä—ã -->
                <div class="card mb-8">
                    <div class="flex flex-col md:flex-row gap-4 items-start md:items-center justify-between">
                        <div class="flex flex-col md:flex-row gap-4 items-start md:items-center w-full md:w-auto">
                            <div class="w-full md:w-auto">
                                <label class="form-label">–°—Ç–∞—Ç—É—Å</label>
                                <select class="form-input w-full md:w-48" id="filterStatus">
                                    <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                    <option value="new">–ù–æ–≤—ã–µ</option>
                                    <option value="searching">–í –ø–æ–∏—Å–∫–µ</option>
                                    <option value="assigned">–ù–∞–∑–Ω–∞—á–µ–Ω—ã</option>
                                    <option value="in_progress">–í —Ä–∞–±–æ—Ç–µ</option>
                                    <option value="completed">–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ</option>
                                    <option value="cancelled">–û—Ç–º–µ–Ω—ë–Ω–Ω—ã–µ</option>
                                </select>
                            </div>
                            <div class="w-full md:w-auto">
                                <label class="form-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                                <select class="form-input w-full md:w-48" id="filterCategory">
                                    <option value="all">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                                </select>
                            </div>
                            <div class="w-full md:w-auto">
                                <label class="form-label">–î–∞—Ç–∞</label>
                                <select class="form-input w-full md:w-48" id="filterDate">
                                    <option value="all">–í—Å–µ –≤—Ä–µ–º—è</option>
                                    <option value="today">–°–µ–≥–æ–¥–Ω—è</option>
                                    <option value="week">–≠—Ç–∞ –Ω–µ–¥–µ–ª—è</option>
                                    <option value="month">–≠—Ç–æ—Ç –º–µ—Å—è—Ü</option>
                                </select>
                            </div>
                        </div>
                        <button class="btn btn-secondary w-full md:w-auto mt-4 md:mt-0" id="btnRefreshTasks">
                            <i class="fas fa-sync-alt"></i>
                            –û–±–Ω–æ–≤–∏—Ç—å
                        </button>
                    </div>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="mb-8">
                    <div class="grid grid-2 md:grid-4 gap-4" id="orderStats">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>

                <!-- –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á -->
                <div class="mb-8">
                    <div class="orders-grid" id="tasksList">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>

                <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
                <div class="flex justify-center gap-4 mt-8" id="paginationContainer">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                </div>
            </div>
        </section>

        <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
        <section id="page-profile" class="page">
            <div class="container">
                <div class="page-header">
                    <h1 class="section-title">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h1>
                </div>

                <div class="grid grid-1 md:grid-2 gap-8">
                    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                    <div class="card">
                        <h2 class="category-title mb-4">
                            <i class="fas fa-user-circle"></i>
                            –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                        </h2>
                        <div id="userInfo">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                        <div class="mt-8">
                            <button class="btn btn-primary w-100" id="btnEditProfile">
                                <i class="fas fa-edit"></i>
                                –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
                            </button>
                        </div>
                    </div>

                    <!-- –ü–æ–¥–ø–∏—Å–∫–∞ -->
                    <div class="card">
                        <h2 class="category-title mb-4">
                            <i class="fas fa-crown"></i>
                            –ú–æ—è –ø–æ–¥–ø–∏—Å–∫–∞
                        </h2>
                        <div id="subscriptionInfo">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                        <div class="mt-8">
                            <button class="btn btn-secondary w-100" id="btnManageSubscription">
                                <i class="fas fa-cog"></i>
                                –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π
                            </button>
                        </div>
                    </div>

                    <!-- –î–ª—è –ø–æ–º–æ—â–Ω–∏–∫–æ–≤: —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ -->
                    <div id="performerSpecializations" class="card md:col-span-2">
                        <h2 class="category-title mb-4">
                            <i class="fas fa-tags"></i>
                            –ú–æ–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
                        </h2>
                        <div id="specializationsList">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                        <div class="mt-8">
                            <button class="btn btn-primary w-100" id="btnEditSpecializations">
                                <i class="fas fa-edit"></i>
                                –ò–∑–º–µ–Ω–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
                            </button>
                        </div>
                    </div>

                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                    <div class="card md:col-span-2">
                        <h2 class="category-title mb-4">
                            <i class="fas fa-chart-line"></i>
                            –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                        </h2>
                        <div class="profile-stats" id="userStats">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                    </div>

                    <!-- –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π -->
                    <div id="paymentHistorySection" class="card md:col-span-2 hidden">
                        <h2 class="category-title mb-4">
                            <i class="fas fa-history"></i>
                            –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
                        </h2>
                        <div id="paymentHistory">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                    </div>

                    <!-- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å -->
                    <div class="card">
                        <h2 class="category-title mb-4">
                            <i class="fas fa-shield-alt"></i>
                            –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
                        </h2>
                        <div class="space-y-4">
                            <button class="btn btn-secondary w-100" id="btnChangePassword">
                                <i class="fas fa-key"></i>
                                –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
                            </button>
                            <button class="btn btn-danger w-100" id="btnDeleteAccount">
                                <i class="fas fa-trash-alt"></i>
                                –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- –î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏ -->
        <section id="page-task-details" class="page">
            <div class="container">
                <div class="page-header">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                        <div>
                            <h1 class="section-title" id="taskDetailTitle">–î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏</h1>
                            <p class="section-subtitle" id="taskDetailNumber"></p>
                        </div>
                        <div class="flex gap-4 flex-wrap">
                            <button class="btn btn-secondary" id="btnBackToTasks">
                                <i class="fas fa-arrow-left"></i>
                                –ù–∞–∑–∞–¥ –∫ –∑–∞–¥–∞—á–∞–º
                            </button>
                            <button class="btn btn-primary" id="btnRefreshTask">
                                <i class="fas fa-sync-alt"></i>
                                –û–±–Ω–æ–≤–∏—Ç—å
                            </button>
                        </div>
                    </div>
                </div>

                <div class="grid grid-1 md:grid-3 gap-8">
                    <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                    <div class="card md:col-span-2">
                        <div id="taskDetailContent">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                        <div id="taskActions" class="mt-8">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                    </div>

                    <!-- –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å/–ö–ª–∏–µ–Ω—Ç -->
                    <div class="card">
                        <h2 class="category-title mb-4" id="taskParticipantTitle">
                            <i class="fas fa-user"></i>
                            –£—á–∞—Å—Ç–Ω–∏–∫
                        </h2>
                        <div id="participantInfo">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                    </div>

                    <!-- –ß–∞—Ç -->
                    <div class="card md:col-span-3">
                        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4">
                            <h2 class="category-title">
                                <i class="fas fa-comments"></i>
                                –ß–∞—Ç –∑–∞–¥–∞—á–∏
                            </h2>
                            <div class="flex gap-2">
                                <span class="status-badge" id="chatStatusBadge"></span>
                            </div>
                        </div>
                        <div id="taskChat">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                    </div>

                    <!-- –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ -->
                    <div class="card md:col-span-3">
                        <h2 class="category-title mb-4">
                            <i class="fas fa-history"></i>
                            –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
                        </h2>
                        <div id="statusHistory">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è -->
        <section id="page-performer" class="page">
            <div class="container">
                <div class="page-header">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                        <div>
                            <h1 class="section-title">–ü–∞–Ω–µ–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</h1>
                            <p class="section-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ –∏ –æ–±—â–µ–Ω–∏–µ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏</p>
                        </div>
                        <div class="flex gap-4">
                            <button class="btn btn-primary" id="btnRefreshPerformerTasks">
                                <i class="fas fa-sync-alt"></i>
                                –û–±–Ω–æ–≤–∏—Ç—å
                            </button>
                        </div>
                    </div>
                </div>

                <!-- –î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏ -->
                <div class="card mb-8">
                    <h2 class="category-title mb-4">–î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏</h2>
                    <p class="section-subtitle mb-6">–ó–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–∏–Ω—è—Ç—å –≤ —Ä–∞–º–∫–∞—Ö –≤–∞—à–∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π</p>
                    
                    <div class="orders-grid" id="performerAvailableTasks">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                    
                    <div class="text-center mt-6" id="noAvailableTasks" style="display: none;">
                        <i class="fas fa-search" style="font-size: 3rem; color: var(--graphite-light); margin-bottom: 16px;"></i>
                        <h3 class="category-title mb-4">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–¥–∞—á</h3>
                        <p class="category-desc">–ù–æ–≤—ã—Ö –∑–∞–¥–∞—á –≤ –≤–∞—à–∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è—Ö –ø–æ–∫–∞ –Ω–µ—Ç</p>
                    </div>
                </div>

                <!-- –ú–æ–∏ –∑–∞–¥–∞—á–∏ -->
                <div class="card">
                    <h2 class="category-title mb-4">–ú–æ–∏ –∑–∞–¥–∞—á–∏</h2>
                    <div class="flex flex-wrap gap-4 mb-6">
                        <button class="btn btn-secondary active" data-status="all" id="btnFilterAll">
                            –í—Å–µ
                        </button>
                        <button class="btn btn-secondary" data-status="assigned" id="btnFilterAssigned">
                            –ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ
                        </button>
                        <button class="btn btn-secondary" data-status="in_progress" id="btnFilterInProgress">
                            –í —Ä–∞–±–æ—Ç–µ
                        </button>
                        <button class="btn btn-secondary" data-status="completed" id="btnFilterCompleted">
                            –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ
                        </button>
                    </div>
                    
                    <div class="orders-grid" id="performerMyTasks">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                    
                    <div class="text-center mt-6" id="noMyTasks" style="display: none;">
                        <i class="fas fa-tasks" style="font-size: 3rem; color: var(--graphite-light); margin-bottom: 16px;"></i>
                        <h3 class="category-title mb-4">–ù–µ—Ç –∑–∞–¥–∞—á</h3>
                        <p class="category-desc">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø—Ä–∏–Ω—è—Ç—ã—Ö –∑–∞–¥–∞—á</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å -->
        <section id="page-admin" class="page">
            <div class="container">
                <div class="page-header">
                    <h1 class="section-title">–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h1>
                    <p class="section-subtitle">
                        –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∑–∞–¥–∞—á–∞–º–∏ –∏ —Å–∏—Å—Ç–µ–º–æ–π
                    </p>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="mb-8">
                    <div class="grid grid-2 md:grid-4 gap-4" id="adminStats">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>

                <!-- –¢–∞–±—ã -->
                <div class="card mb-8">
                    <div class="flex flex-wrap border-b border-gray-200">
                        <button class="tab-btn px-4 py-2 font-medium text-gray-600 hover:text-gray-800 border-b-2 border-transparent hover:border-gray-300" data-tab="users">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
                        <button class="tab-btn px-4 py-2 font-medium text-gray-600 hover:text-gray-800 border-b-2 border-transparent hover:border-gray-300" data-tab="tasks">–ó–∞–¥–∞—á–∏</button>
                        <button class="tab-btn px-4 py-2 font-medium text-gray-600 hover:text-gray-800 border-b-2 border-transparent hover:border-gray-300" data-tab="finances">–§–∏–Ω–∞–Ω—Å—ã</button>
                        <button class="tab-btn px-4 py-2 font-medium text-gray-600 hover:text-gray-800 border-b-2 border-transparent hover:border-gray-300" data-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                    </div>
                </div>

                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Ç–∞–±–æ–≤ -->
                <div id="adminTabContent">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                </div>
            </div>
        </section>
    </main>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="app-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>–ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂</h3>
                <p>–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â—å –≤ –±—ã—Ç–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö –æ—Ç –∂–µ–Ω—â–∏–Ω –¥–ª—è –∂–µ–Ω—â–∏–Ω.</p>
            </div>
            
            <div class="footer-section">
                <h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
                <ul class="footer-links">
                    <li><a href="#" data-page="home"><i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="#" data-page="services"><i class="fas fa-hands-helping"></i> –£—Å–ª—É–≥–∏</a></li>
                    <li><a href="#" data-page="subscriptions"><i class="fas fa-crown"></i> –ü–æ–¥–ø–∏—Å–∫–∞</a></li>
                    <li><a href="#" data-page="tasks"><i class="fas fa-shopping-bag"></i> –ó–∞–¥–∞—á–∏</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                <ul class="footer-links">
                    <li><a href="tel:+79991234567"><i class="fas fa-phone"></i> +7 (999) 123-45-67</a></li>
                    <li><a href="mailto:info@concierge-service.ru"><i class="fas fa-envelope"></i> info@concierge-service.ru</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>–î–æ–∫—É–º–µ–Ω—Ç—ã</h3>
                <ul class="footer-links">
                    <li><a href="#" id="btnPrivacyPolicy"><i class="fas fa-file-contract"></i> –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a></li>
                    <li><a href="#" id="btnTermsOfService"><i class="fas fa-shield-alt"></i> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</a></li>
                </ul>
            </div>
        </div>
        
        <div class="copyright">
            <p>¬© 2024 –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            <p class="mt-4">–í–µ—Ä—Å–∏—è 6.0.0 | –í—Å–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ –ø–æ–¥–ø–∏—Å–∫—É</p>
        </div>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <!-- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –º–æ–¥–∞–ª–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div class="modal" id="authModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–í—Ö–æ–¥ –≤ –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂</h3>
                <button class="close-btn" id="btnCloseAuth">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <!-- –ï–¥–∏–Ω–∞—è —Ñ–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
                <div id="unifiedAuthForm">
                    <div class="text-center mb-6">
                        <div class="logo" style="font-size: 1.5rem; margin-bottom: 20px;">
                            <i class="fas fa-spa logo-icon"></i>
                            –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂
                        </div>
                        <p style="color: var(--graphite-medium);">–í—Å–µ —É—Å–ª—É–≥–∏ –≤ –æ–¥–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–µ</p>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ *</label>
                        <input type="tel" class="form-input" id="authPhone" 
                               placeholder="+7 (999) 123-45-67" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">–ü–∞—Ä–æ–ª—å *</label>
                        <div class="flex gap-2">
                            <input type="password" class="form-input flex-1" id="authPassword" 
                                   placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                            <button class="btn btn-secondary" id="btnForgotPassword" 
                                    style="white-space: nowrap;">
                                –ó–∞–±—ã–ª–∏?
                            </button>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <button class="btn btn-primary w-100" id="btnUnifiedLogin">
                            <i class="fas fa-sign-in-alt"></i>
                            –í–æ–π—Ç–∏
                        </button>
                    </div>
                    
                    <div class="text-center">
                        <p style="color: var(--graphite-medium); margin-bottom: 16px;">
                            –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞ 30 —Å–µ–∫—É–Ω–¥
                        </p>
                        <button class="btn btn-secondary w-100" id="btnQuickRegister">
                            <i class="fas fa-user-plus"></i>
                            –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                        </button>
                    </div>
                    
                    <!-- –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã -->
                    <div class="mt-8 pt-8 border-t border-gray-100">
                        <p class="text-sm text-gray-500 mb-3">–¢–µ—Å—Ç–æ–≤—ã–π –≤—Ö–æ–¥:</p>
                        <div class="grid grid-2 gap-2">
                            <button class="btn btn-sm btn-secondary" onclick="demoLogin('client')">
                                –ö–ª–∏–µ–Ω—Ç
                            </button>
                            <button class="btn btn-sm btn-secondary" onclick="demoLogin('performer')">
                                –ü–æ–º–æ—â–Ω–∏–∫
                            </button>
                            <button class="btn btn-sm btn-secondary" onclick="demoLogin('admin')">
                                –ê–¥–º–∏–Ω
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
                <div id="quickRegisterForm" class="hidden">
                    <h4 class="mb-4" style="font-weight: 600;">–ë—ã—Å—Ç—Ä–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h4>
                    
                    <div class="form-group">
                        <label class="form-label">–ò–º—è *</label>
                        <input type="text" class="form-input" id="quickFirstName" 
                               placeholder="–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è?" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ *</label>
                        <input type="tel" class="form-input" id="quickPhone" 
                               placeholder="+7 (999) 123-45-67" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">–¢–∞—Ä–∏—Ñ</label>
                        <div class="grid grid-2 gap-2">
                            <label class="tariff-option">
                                <input type="radio" name="quickTariff" value="essential" checked>
                                <div class="tariff-card">
                                    <div class="tariff-name">–≠—Å—Å–µ–Ω—à–ª</div>
                                    <div class="tariff-price">500‚ÇΩ/–º–µ—Å</div>
                                    <div class="text-xs text-gray-500">–≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π 500‚ÇΩ</div>
                                </div>
                            </label>
                            <label class="tariff-option">
                                <input type="radio" name="quickTariff" value="premium">
                                <div class="tariff-card">
                                    <div class="tariff-name">–ü—Ä–µ–º–∏—É–º</div>
                                    <div class="tariff-price">1990‚ÇΩ/–º–µ—Å</div>
                                    <div class="text-xs text-gray-500">–≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π 1000‚ÇΩ</div>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="flex items-center gap-2 cursor-pointer">
                            <input type="checkbox" id="quickAgree" class="w-4 h-4" required>
                            <span class="text-sm">
                                –ü—Ä–∏–Ω–∏–º–∞—é <a href="#" class="text-gray-700 hover:text-gray-900" onclick="showPrivacyPolicy(); return false;">–ø—Ä–∞–≤–∏–ª–∞</a>
                            </span>
                        </label>
                    </div>
                    
                    <button class="btn btn-primary w-100 mb-4" id="btnCompleteRegistration">
                        <i class="fas fa-check"></i>
                        –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                    </button>
                    
                    <button class="btn btn-secondary w-100" id="btnBackToLogin">
                        <i class="fas fa-arrow-left"></i>
                        –ù–∞–∑–∞–¥ –∫–æ –≤—Ö–æ–¥—É
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω -->
    <div class="modal" id="welcomeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h3>
                <button class="close-btn" id="btnCloseWelcome">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="welcomeContent">
                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –æ–ø–ª–∞—Ç—ã –°–ú–° -->
    <div class="modal" id="smsPaymentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –°–ú–°</h3>
                <button class="close-btn" id="btnCloseSmsPayment">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="text-center mb-6">
                    <div class="welcome-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h4 class="mb-2">–û–ø–ª–∞—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ –°–ú–°</h4>
                    <p class="text-gray-500">–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –∏ —Å—É–º–º—É</p>
                </div>
                
                <div class="sms-payment-options">
                    <div class="sms-option" onclick="selectSmsOption('mts', 500)">
                        <div class="sms-icon">
                            <i class="fas fa-sim-card"></i>
                        </div>
                        <div class="sms-info">
                            <div class="sms-operator">–ú–¢–°</div>
                            <div class="sms-number">–û—Ç–ø—Ä–∞–≤—å—Ç–µ –°–ú–° –Ω–∞ –Ω–æ–º–µ—Ä 1234</div>
                        </div>
                        <div style="font-weight: 600; color: var(--gold-metallic);">500‚ÇΩ</div>
                    </div>
                    
                    <div class="sms-option" onclick="selectSmsOption('beeline', 500)">
                        <div class="sms-icon">
                            <i class="fas fa-signal"></i>
                        </div>
                        <div class="sms-info">
                            <div class="sms-operator">–ë–∏–ª–∞–π–Ω</div>
                            <div class="sms-number">–û—Ç–ø—Ä–∞–≤—å—Ç–µ –°–ú–° –Ω–∞ –Ω–æ–º–µ—Ä 5678</div>
                        </div>
                        <div style="font-weight: 600; color: var(--gold-metallic);">500‚ÇΩ</div>
                    </div>
                    
                    <div class="sms-option" onclick="selectSmsOption('megafon', 500)">
                        <div class="sms-icon">
                            <i class="fas fa-wifi"></i>
                        </div>
                        <div class="sms-info">
                            <div class="sms-operator">–ú–µ–≥–∞—Ñ–æ–Ω</div>
                            <div class="sms-number">–û—Ç–ø—Ä–∞–≤—å—Ç–µ –°–ú–° –Ω–∞ –Ω–æ–º–µ—Ä 9012</div>
                        </div>
                        <div style="font-weight: 600; color: var(--gold-metallic);">500‚ÇΩ</div>
                    </div>
                    
                    <div class="sms-option" onclick="selectSmsOption('tele2', 500)">
                        <div class="sms-icon">
                            <i class="fas fa-broadcast-tower"></i>
                        </div>
                        <div class="sms-info">
                            <div class="sms-operator">Tele2</div>
                            <div class="sms-number">–û—Ç–ø—Ä–∞–≤—å—Ç–µ –°–ú–° –Ω–∞ –Ω–æ–º–µ—Ä 3456</div>
                        </div>
                        <div style="font-weight: 600; color: var(--gold-metallic);">500‚ÇΩ</div>
                    </div>
                </div>
                
                <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                    <h5 class="font-semibold mb-2">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–ø–ª–∞—Ç–µ:</h5>
                    <ol class="text-sm text-gray-600 space-y-1">
                        <li>1. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞</li>
                        <li>2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –°–ú–° –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä</li>
                        <li>3. –í —Ç–µ–∫—Å—Ç–µ –°–ú–° —É–∫–∞–∂–∏—Ç–µ: CONCIERGE</li>
                        <li>4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–ø–∏—Å–∞–Ω–∏–µ 500‚ÇΩ</li>
                        <li>5. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ 1-2 –º–∏–Ω—É—Ç—ã</li>
                    </ol>
                </div>
                
                <div class="mt-6">
                    <button class="btn btn-primary w-100" id="btnConfirmSmsPayment" disabled>
                        <i class="fas fa-check"></i>
                        –Ø –æ—Ç–ø—Ä–∞–≤–∏–ª(–∞) –°–ú–°
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –æ—Ü–µ–Ω–∫–∏ -->
    <div class="modal" id="rateModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–û—Ü–µ–Ω–∏—Ç–µ –∑–∞–¥–∞—á—É</h3>
                <button class="close-btn" id="btnCloseRate">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="text-center mb-6">
                    <p id="rateTaskTitle" class="mb-6 text-lg"></p>
                    <div class="mb-6" id="ratingStars" style="font-size: 2rem; color: var(--graphite-light);">
                        <i class="far fa-star" data-rating="1" style="cursor: pointer; margin: 0 5px;"></i>
                        <i class="far fa-star" data-rating="2" style="cursor: pointer; margin: 0 5px;"></i>
                        <i class="far fa-star" data-rating="3" style="cursor: pointer; margin: 0 5px;"></i>
                        <i class="far fa-star" data-rating="4" style="cursor: pointer; margin: 0 5px;"></i>
                        <i class="far fa-star" data-rating="5" style="cursor: pointer; margin: 0 5px;"></i>
                    </div>
                    <p id="ratingText" style="color: var(--graphite-medium); font-size: 0.9rem;">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–≤–µ–∑–¥—É –¥–ª—è –æ—Ü–µ–Ω–∫–∏</p>
                </div>
                <div class="form-group">
                    <label class="form-label">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <textarea class="form-input form-textarea" id="ratingComment" rows="3"
                              placeholder="–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è–º–∏ –æ —Ä–∞–±–æ—Ç–µ –ø–æ–º–æ—â–Ω–∏—Ü—ã..."></textarea>
                </div>
                <div class="form-group">
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" id="ratingAnonymous" class="w-4 h-4">
                        <span class="text-sm">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ –∞–Ω–æ–Ω–∏–º–Ω–æ</span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="btnSubmitRating">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è -->
    <div class="modal" id="editProfileModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</h3>
                <button class="close-btn" id="btnCloseEditProfile">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="editProfileForm">
                    <div class="grid grid-1 md:grid-2 gap-4 mb-4">
                        <div class="form-group">
                            <label class="form-label">–ò–º—è *</label>
                            <input type="text" class="form-input" id="editFirstName" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">–§–∞–º–∏–ª–∏—è *</label>
                            <input type="text" class="form-input" id="editLastName" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                        <input type="tel" class="form-input" id="editPhone" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="editEmail" placeholder="–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="btnSaveProfile">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø–æ–ª–∏—Ç–∏–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ -->
    <div class="modal" id="privacyPolicyModal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h3 class="modal-title">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</h3>
                <button class="close-btn" id="btnClosePrivacyPolicy">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div style="max-height: 500px; overflow-y: auto; padding-right: 10px;">
                    <h4 class="mb-4">1. –û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è</h4>
                    <p class="mb-4">–ù–∞—Å—Ç–æ—è—â–∞—è –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ (–¥–∞–ª–µ–µ ‚Äî –ü–æ–ª–∏—Ç–∏–∫–∞) –¥–µ–π—Å—Ç–≤—É–µ—Ç –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—É—é —Å–∞–π—Ç ¬´–ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂¬ª (–¥–∞–ª–µ–µ ‚Äî –°–µ—Ä–≤–∏—Å) –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –æ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –≤–æ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–º –°–µ—Ä–≤–∏—Å–∞.</p>
                    
                    <h4 class="mb-4">2. –°–æ–±–∏—Ä–∞–µ–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                    <p class="mb-2">–°–µ—Ä–≤–∏—Å —Å–æ–±–∏—Ä–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:</p>
                    <ul class="mb-4 pl-5 space-y-1">
                        <li>‚Ä¢ –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏</li>
                        <li>‚Ä¢ –ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
                        <li>‚Ä¢ –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ –∏ –æ–±—Ä–∞—â–µ–Ω–∏–π</li>
                        <li>‚Ä¢ –î–∞–Ω–Ω—ã–µ –æ –ø–æ–¥–ø–∏—Å–∫–µ –∏ –ø–ª–∞—Ç–µ–∂–∞—Ö</li>
                        <li>‚Ä¢ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (IP-–∞–¥—Ä–µ—Å, —Ç–∏–ø –±—Ä–∞—É–∑–µ—Ä–∞)</li>
                    </ul>
                    
                    <h4 class="mb-4">3. –¶–µ–ª–∏ —Å–±–æ—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</h4>
                    <p class="mb-2">–°–æ–±—Ä–∞–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:</p>
                    <ul class="mb-4 pl-5 space-y-1">
                        <li>‚Ä¢ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —É—Å–ª—É–≥ –°–µ—Ä–≤–∏—Å–∞</li>
                        <li>‚Ä¢ –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
                        <li>‚Ä¢ –û–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–∫–∞–∑–æ–≤ –∏ –ø–ª–∞—Ç–µ–∂–µ–π</li>
                        <li>‚Ä¢ –°–≤—è–∑–∏ —Å –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º</li>
                        <li>‚Ä¢ –£–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —É—Å–ª—É–≥</li>
                    </ul>
                    
                    <h4 class="mb-4">4. –ó–∞—â–∏—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</h4>
                    <p class="mb-4">–°–µ—Ä–≤–∏—Å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ä—ã –¥–ª—è –∑–∞—â–∏—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç –Ω–µ–ø—Ä–∞–≤–æ–º–µ—Ä–Ω–æ–≥–æ –∏–ª–∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞, —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è, –∏–∑–º–µ–Ω–µ–Ω–∏—è, –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –æ—Ç –∏–Ω—ã—Ö –Ω–µ–ø—Ä–∞–≤–æ–º–µ—Ä–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.</p>
                    
                    <h4 class="mb-4">5. –ü–µ—Ä–µ–¥–∞—á–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º</h4>
                    <p class="mb-4">–°–µ—Ä–≤–∏—Å –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å–ª—É—á–∞–µ–≤, –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏.</p>
                    
                    <h4 class="mb-4">6. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ü–æ–ª–∏—Ç–∏–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</h4>
                    <p class="mb-4">–°–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç–æ—è—â—É—é –ü–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏. –ü—Ä–∏ –≤–Ω–µ—Å–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ä–µ–¥–∞–∫—Ü–∏–∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.</p>
                    
                    <div class="mt-8 pt-8 border-t border-gray-200">
                        <p class="text-sm text-gray-500">–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 01.01.2024</p>
                        <p class="text-sm text-gray-500">–ü–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º: info@concierge-service.ru</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="btnAcceptPrivacyPolicy">–ü—Ä–∏–Ω–∏–º–∞—é</button>
            </div>
        </div>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
    <div id="notificationContainer"></div>

    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
    <div class="modal" id="loadingModal">
        <div class="modal-content" style="background: transparent; box-shadow: none; max-width: 200px;">
            <div class="loading">
                <div class="spinner"></div>
            </div>
        </div>
    </div>

    <script>
        // –ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —É–ø—Ä–æ—â–µ–Ω–Ω—ã–º –≤—Ö–æ–¥–æ–º —á–µ—Ä–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω
        const app = {
            currentUser: null,
            token: localStorage.getItem('token'),
            currentPage: 'home',
            currentTaskId: null,
            currentCategoryId: null,
            currentServiceId: null,
            currentRating: 0,
            wizardData: {},
            categories: [],
            services: [],
            subscriptions: [],
            notifications: [],
            unreadNotifications: 0,
            selectedSmsOperator: null,
            selectedSmsAmount: 0,
            API_URL: window.location.origin
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('üå∏ –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂ v6.0.0 (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)...');
            
            try {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å API
                const response = await fetch(`${app.API_URL}/health`);
                if (!response.ok) {
                    throw new Error('API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
                }
                
                console.log('‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω');
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –±–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
                await Promise.all([
                    loadCategories(),
                    loadSubscriptions()
                ]);
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–∫–µ–Ω –µ—Å–ª–∏ –µ—Å—Ç—å
                if (app.token) {
                    const isValid = await verifyToken();
                    if (!isValid) {
                        console.log('‚ùå –¢–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–µ–Ω, –æ—á–∏—â–∞–µ–º');
                        localStorage.removeItem('token');
                        app.token = null;
                    }
                }
                
                updateUserMenu();
                updateRoleSpecificLinks();
                setupEventListeners();
                loadCurrentPage();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
                if (app.currentUser) {
                    setTimeout(() => {
                        showWelcomeScreen();
                    }, 1000);
                }
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
                if (app.currentUser) {
                    setInterval(async () => {
                        await checkNotifications();
                    }, 60000);
                    
                    // –ü–µ—Ä–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
                    await checkNotifications();
                }
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:', error);
                showNotification('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.', 'error');
            }
        });

        async function verifyToken() {
            console.log('üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞...');
            
            if (!app.token) {
                console.log('‚ùå –¢–æ–∫–µ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç');
                return false;
            }
            
            try {
                const response = await fetch(`${app.API_URL}/api/auth/check`, {
                    headers: {
                        'Authorization': `Bearer ${app.token}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('‚úÖ –¢–æ–∫–µ–Ω –≤–∞–ª–∏–¥–µ–Ω, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', data.data.user.phone);
                    app.currentUser = data.data.user;
                    updateUserMenu();
                    updateRoleSpecificLinks();
                    return true;
                } else {
                    console.log('‚ùå –¢–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–µ–Ω:', response.status);
                    return false;
                }
            } catch (error) {
                console.error('üîê –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞:', error);
                return false;
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function updateUserMenu() {
            const userMenu = document.getElementById('userMenu');
            
            if (app.currentUser) {
                const firstName = app.currentUser.first_name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
                const initial = firstName.charAt(0).toUpperCase();
                const role = app.currentUser.role;
                
                userMenu.innerHTML = `
                    <div class="flex items-center gap-3">
                        <div class="user-avatar" id="btnOpenProfile" title="–ü—Ä–æ—Ñ–∏–ª—å">
                            ${initial}
                            ${app.unreadNotifications > 0 ? `
                                <span style="position: absolute; top: -5px; right: -5px; background: #FF6B6B; color: white; font-size: 0.6rem; width: 18px; height: 18px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                    ${app.unreadNotifications}
                                </span>
                            ` : ''}
                        </div>
                        <div class="hidden md:block">
                            <div style="font-weight: 600; color: var(--graphite-dark); font-size: 0.9rem;">${firstName}</div>
                            <div class="role-badge role-${role}" style="font-size: 0.65rem; padding: 2px 6px;">
                                ${getRoleDisplayName(role)}
                            </div>
                        </div>
                        <button class="btn btn-secondary" id="btnLogout" style="padding: 8px 16px; font-size: 0.85rem;">
                            –í—ã–π—Ç–∏
                        </button>
                    </div>
                `;
            } else {
                userMenu.innerHTML = `
                    <button class="btn btn-primary" id="btnOpenAuth">
                        –í–æ–π—Ç–∏
                    </button>
                `;
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π
        function updateRoleSpecificLinks() {
            const container = document.getElementById('roleSpecificLinks');
            
            if (!app.currentUser) {
                container.innerHTML = '';
                return;
            }
            
            const role = app.currentUser.role;
            let links = '';
            
            if (['admin', 'manager', 'superadmin'].includes(role)) {
                links += `<a href="#" class="nav-link" data-page="admin">–ê–¥–º–∏–Ω</a>`;
            }
            
            if (role === 'performer') {
                links += `<a href="#" class="nav-link" data-page="performer">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</a>`;
            }
            
            container.innerHTML = links;
        }

        // –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è —Ä–æ–ª–∏
        function getRoleDisplayName(role) {
            const roles = {
                'client': '–ö–ª–∏–µ–Ω—Ç',
                'performer': '–ü–æ–º–æ—â–Ω–∏–∫',
                'manager': '–ú–µ–Ω–µ–¥–∂–µ—Ä',
                'admin': '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä',
                'superadmin': '–°—É–ø–µ—Ä-–∞–¥–º–∏–Ω'
            };
            return roles[role] || role;
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        function navigate(page) {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            localStorage.setItem('lastPage', page);
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            document.querySelectorAll('.page').forEach(p => {
                p.classList.remove('active');
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-page') === page) {
                    link.classList.add('active');
                }
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            const targetPage = document.getElementById(`page-${page}`);
            if (targetPage) {
                targetPage.classList.add('active');
                app.currentPage = page;
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                loadCurrentPage();
                
                closeMobileMenu();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        function loadCurrentPage() {
            switch(app.currentPage) {
                case 'home':
                    loadHomePage();
                    break;
                case 'services':
                    loadServicesPage();
                    break;
                case 'subscriptions':
                    loadSubscriptionsPage();
                    break;
                case 'tasks':
                    loadTasksPage();
                    break;
                case 'profile':
                    loadProfilePage();
                    break;
                case 'task-details':
                    loadTaskDetailsPage();
                    break;
                case 'admin':
                    if (app.currentUser && ['admin', 'manager', 'superadmin'].includes(app.currentUser.role)) {
                        loadAdminPage();
                    } else {
                        navigate('home');
                        showNotification('–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏', 'error');
                    }
                    break;
                case 'performer':
                    if (app.currentUser && app.currentUser.role === 'performer') {
                        loadPerformerPage();
                    } else {
                        navigate('home');
                        showNotification('–≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π', 'error');
                    }
                    break;
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–ø–∏—Å–∫–∏
        async function showWelcomeScreen() {
            if (!app.currentUser) return;
            
            const user = app.currentUser;
            let welcomeHTML = '';
            
            if (user.subscription_status === 'active') {
                // –ê–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
                const daysLeft = Math.ceil((new Date(user.subscription_expires) - new Date()) / (1000 * 60 * 60 * 24));
                const subscription = app.subscriptions.find(s => s.name === user.subscription_plan);
                
                welcomeHTML = `
                    <div class="text-center p-6">
                        <div class="welcome-icon" style="color: var(--aquamarine);">
                            <i class="fas fa-crown"></i>
                        </div>
                        <h3 class="category-title mb-4">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h3>
                        <p class="mb-4">–í–∞—à–∞ –ø–æ–¥–ø–∏—Å–∫–∞ "<strong>${subscription?.display_name || user.subscription_plan}</strong>" –∞–∫—Ç–∏–≤–Ω–∞</p>
                        <div class="card mb-4">
                            <div class="text-sm text-gray-500 mb-2">–î–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏:</div>
                            <div class="text-2xl font-bold" style="color: var(--gold-metallic);">
                                ${daysLeft} ${daysLeft === 1 ? '–¥–µ–Ω—å' : daysLeft < 5 ? '–¥–Ω—è' : '–¥–Ω–µ–π'}
                            </div>
                        </div>
                        <p class="text-sm text-gray-500 mb-6">
                            –°–ª–µ–¥—É—é—â–µ–µ —Å–ø–∏—Å–∞–Ω–∏–µ: ${new Date(user.subscription_expires).toLocaleDateString('ru-RU')}
                        </p>
                        <button class="btn btn-primary w-100" onclick="closeModal('welcomeModal'); navigate('services')">
                            <i class="fas fa-bolt"></i>
                            –ù–∞—á–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
                        </button>
                    </div>
                `;
            } else if (user.subscription_status === 'pending') {
                // –û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤–∑–Ω–æ—Å–∞
                const subscription = app.subscriptions.find(s => s.name === user.subscription_plan);
                
                welcomeHTML = `
                    <div class="text-center p-6">
                        <div class="welcome-icon" style="color: var(--gold-metallic);">
                            <i class="fas fa-lock-open"></i>
                        </div>
                        <h3 class="category-title mb-4">–û–ø–ª–∞—Ç–∏—Ç–µ –¥–æ—Å—Ç—É–ø</h3>
                        <p class="mb-6">–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –æ–ø–ª–∞—Ç–∏—Ç–µ –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å</p>
                        
                        <div class="card mb-6">
                            <div class="text-sm text-gray-500">–¢–∞—Ä–∏—Ñ:</div>
                            <div class="text-xl font-bold">${subscription?.display_name || user.subscription_plan}</div>
                            
                            <div class="mt-4">
                                <div class="text-sm text-gray-500">–í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å:</div>
                                <div class="text-3xl font-bold" style="color: var(--gold-metallic);">
                                    ${user.initial_fee_amount || subscription?.initial_fee || 500}‚ÇΩ
                                </div>
                            </div>
                            
                            <div class="mt-4">
                                <div class="text-sm text-gray-500">–ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –ø–ª–∞—Ç–∞:</div>
                                <div class="text-xl font-bold">
                                    ${subscription?.price_monthly || 500}‚ÇΩ
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <button class="btn btn-primary w-100 mb-3" onclick="payInitialFee(${user.initial_fee_amount || subscription?.initial_fee || 500})">
                                <i class="fas fa-credit-card"></i>
                                –û–ø–ª–∞—Ç–∏—Ç—å –æ–Ω–ª–∞–π–Ω
                            </button>
                            <button class="btn btn-secondary w-100" onclick="openSmsPaymentModal(${user.initial_fee_amount || subscription?.initial_fee || 500})">
                                <i class="fas fa-mobile-alt"></i>
                                –û–ø–ª–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ –°–ú–°
                            </button>
                        </div>
                        
                        <p class="text-xs text-gray-500">
                            –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —É—Å–ª—É–≥–∞–º –Ω–∞ 30 –¥–Ω–µ–π
                        </p>
                    </div>
                `;
            } else if (user.subscription_status === 'suspended') {
                // –ü–æ–¥–ø–∏—Å–∫–∞ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
                welcomeHTML = `
                    <div class="text-center p-6">
                        <div class="welcome-icon" style="color: #FF6B6B;">
                            <i class="fas fa-pause-circle"></i>
                        </div>
                        <h3 class="category-title mb-4">–ü–æ–¥–ø–∏—Å–∫–∞ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞</h3>
                        <p class="mb-6">–î–ª—è –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –ø–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å</p>
                        
                        <div class="card mb-6">
                            <div class="mb-4">
                                <div class="text-sm text-gray-500">–í–∞—à –±–∞–ª–∞–Ω—Å:</div>
                                <div class="text-2xl font-bold ${user.balance > 0 ? 'text-green-500' : 'text-red-500'}">
                                    ${user.balance || 0}‚ÇΩ
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <div class="text-sm text-gray-500">–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è:</div>
                                <div class="text-xl font-bold">${user.initial_fee_amount || 500}‚ÇΩ</div>
                            </div>
                        </div>
                        
                        <button class="btn btn-primary w-100 mb-3" onclick="payInitialFee(${user.initial_fee_amount || 500})">
                            <i class="fas fa-credit-card"></i>
                            –ü–æ–ø–æ–ª–Ω–∏—Ç—å –æ–Ω–ª–∞–π–Ω
                        </button>
                        <button class="btn btn-secondary w-100" onclick="openSmsPaymentModal(${user.initial_fee_amount || 500})">
                            <i class="fas fa-mobile-alt"></i>
                            –ü–æ–ø–æ–ª–Ω–∏—Ç—å —á–µ—Ä–µ–∑ –°–ú–°
                        </button>
                    </div>
                `;
            } else if (!user.subscription_status || user.subscription_status === 'inactive') {
                // –ù–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∏
                welcomeHTML = `
                    <div class="text-center p-6">
                        <div class="welcome-icon" style="color: var(--graphite-light);">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <h3 class="category-title mb-4">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É</h3>
                        <p class="mb-6">–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Å–ª—É–≥–∞–º –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Ç–∞—Ä–∏—Ñ</p>
                        
                        <div class="mb-6">
                            <button class="btn btn-primary w-100" onclick="closeModal('welcomeModal'); navigate('subscriptions')">
                                <i class="fas fa-crown"></i>
                                –í—ã–±—Ä–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
                            </button>
                        </div>
                        
                        <p class="text-xs text-gray-500">
                            –í—Å–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏
                        </p>
                    </div>
                `;
            }
            
            document.getElementById('welcomeContent').innerHTML = welcomeHTML;
            openModal('welcomeModal');
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ –æ–ø–ª–∞—Ç—ã –°–ú–°
        function openSmsPaymentModal(amount) {
            app.selectedSmsAmount = amount;
            document.getElementById('btnConfirmSmsPayment').disabled = true;
            
            // –°–±—Ä–æ—Å –≤—ã–±–æ—Ä–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
            document.querySelectorAll('.sms-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            openModal('smsPaymentModal');
        }

        // –í—ã–±–æ—Ä –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –°–ú–°
        function selectSmsOption(operator, amount) {
            app.selectedSmsOperator = operator;
            app.selectedSmsAmount = amount;
            
            // –°–±—Ä–æ—Å –≤—ã–±–æ—Ä–∞
            document.querySelectorAll('.sms-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // –í—ã–±–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ
            event.currentTarget.classList.add('selected');
            document.getElementById('btnConfirmSmsPayment').disabled = false;
        }

        // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –°–ú–°
        document.getElementById('btnConfirmSmsPayment').addEventListener('click', async function() {
            if (!app.selectedSmsOperator) {
                showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞', 'error');
                return;
            }
            
            showLoading();
            
            try {
                const response = await fetch(`${app.API_URL}/api/payments/sms`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${app.token}`
                    },
                    body: JSON.stringify({
                        operator: app.selectedSmsOperator,
                        amount: app.selectedSmsAmount,
                        type: 'initial_fee'
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showNotification('–ü–ª–∞—Ç–µ–∂ –ø—Ä–∏–Ω—è—Ç –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ 1-2 –º–∏–Ω—É—Ç—ã.', 'success');
                    closeModal('smsPaymentModal');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ 2 –º–∏–Ω—É—Ç—ã
                    setTimeout(async () => {
                        await verifyToken();
                        showWelcomeScreen();
                    }, 120000);
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–∞', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ –°–ú–°:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏', 'error');
            } finally {
                hideLoading();
            }
        });

        // –û–ø–ª–∞—Ç–∞ –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤–∑–Ω–æ—Å–∞ –æ–Ω–ª–∞–π–Ω
        async function payInitialFee(amount) {
            showLoading();
            
            try {
                const response = await fetch(`${app.API_URL}/api/payments/create-initial`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${app.token}`
                    },
                    body: JSON.stringify({
                        amount: amount
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã
                    if (data.data.payment_url) {
                        window.open(data.data.payment_url, '_blank');
                        showNotification('–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –¥–ª—è –æ–ø–ª–∞—Ç—ã', 'info');
                    }
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ–ø–ª–∞—Ç—ã:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏', 'error');
            } finally {
                hideLoading();
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        async function loadHomePage() {
            if (app.categories.length === 0) {
                await loadCategories();
            }
            
            renderHomeCategories();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
            if (app.currentUser) {
                await loadHomeStats();
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Ç–∑—ã–≤—ã
            await loadReviews();
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∑—ã–≤–æ–≤
        async function loadReviews() {
            try {
                const response = await fetch(`${app.API_URL}/api/reviews?featured=true&limit=3`);
                if (response.ok) {
                    const data = await response.json();
                    if (data.success && data.data.reviews.length > 0) {
                        document.getElementById('reviewsSection').classList.remove('hidden');
                        renderReviews(data.data.reviews);
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–∑—ã–≤–æ–≤:', error);
            }
        }

        // –†–µ–Ω–¥–µ—Ä –æ—Ç–∑—ã–≤–æ–≤
        function renderReviews(reviews) {
            const container = document.getElementById('reviewsGrid');
            
            container.innerHTML = reviews.map(review => `
                <div class="category-card">
                    <div class="service-icon-img">
                        ${'‚òÖ'.repeat(review.rating)}${'‚òÜ'.repeat(5 - review.rating)}
                    </div>
                    <h3 class="category-title">${review.client_name || '–ê–Ω–æ–Ω–∏–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}</h3>
                    <p class="category-desc">"${review.comment || '–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!'}"</p>
                    <div class="text-sm text-gray-500 mt-4">
                        ${new Date(review.created_at).toLocaleDateString('ru-RU')}
                    </div>
                </div>
            `).join('');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        async function loadCategories() {
            try {
                showLoading();
                // –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥
                app.categories = [
                    {
                        id: 1,
                        name: 'shopping',
                        display_name: '–ü–æ–∫—É–ø–∫–∏ –∏ –¥–æ—Å—Ç–∞–≤–∫–∞',
                        description: '–ü–æ–¥–±–æ—Ä —Ç–æ–≤–∞—Ä–æ–≤ –æ–Ω–ª–∞–π–Ω, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏',
                        icon: 'üõçÔ∏è'
                    },
                    {
                        id: 2,
                        name: 'events',
                        display_name: '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π',
                        description: '–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤, –ø–æ–¥–±–æ—Ä –ª–æ–∫–∞—Ü–∏–π, –æ–Ω–ª–∞–π–Ω-–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è',
                        icon: 'üéâ'
                    },
                    {
                        id: 3,
                        name: 'beauty',
                        display_name: '–ö—Ä–∞—Å–æ—Ç–∞ –∏ —É—Ö–æ–¥',
                        description: '–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ —É—Ö–æ–¥—É, –ø–æ–¥–±–æ—Ä –∫–æ—Å–º–µ—Ç–∏–∫–∏, –æ–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å',
                        icon: 'üíÖ'
                    },
                    {
                        id: 4,
                        name: 'education',
                        display_name: '–û–±—É—á–µ–Ω–∏–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ',
                        description: '–ü–æ–¥–±–æ—Ä –∫—É—Ä—Å–æ–≤, —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤ –æ–±—É—á–µ–Ω–∏—è, –æ–Ω–ª–∞–π–Ω-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏',
                        icon: 'üéì'
                    },
                    {
                        id: 5,
                        name: 'booking',
                        display_name: '–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ª—É–≥',
                        description: '–ó–∞–ø–∏—Å—å –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–æ–ª–∏–∫–æ–≤, –æ–Ω–ª–∞–π–Ω-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏',
                        icon: 'üìÖ'
                    },
                    {
                        id: 6,
                        name: 'research',
                        display_name: '–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑',
                        description: '–ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ—Ç—á–µ—Ç–æ–≤',
                        icon: 'üîç'
                    }
                ];

                // –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏
                app.services = [
                    // –ü–æ–∫—É–ø–∫–∏ –∏ –¥–æ—Å—Ç–∞–≤–∫–∞
                    {
                        id: 1,
                        category_id: 1,
                        name: '–ü–æ–¥–±–æ—Ä —Ç–æ–≤–∞—Ä–æ–≤ –æ–Ω–ª–∞–π–Ω',
                        description: '–ù–∞–π–¥–µ–º –ª—É—á—à–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –≤–∞—à–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º, —Å—Ä–∞–≤–Ω–∏–º —Ü–µ–Ω—ã, –ø–æ–º–æ–∂–µ–º —Å –∑–∞–∫–∞–∑–æ–º',
                        base_price: 0,
                        icon: 'üõçÔ∏è'
                    },
                    {
                        id: 2,
                        category_id: 1,
                        name: '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏',
                        description: '–ü–æ–¥–±–µ—Ä–µ–º —Å–ª—É–∂–±—É –¥–æ—Å—Ç–∞–≤–∫–∏, –æ—Ñ–æ—Ä–º–∏–º –∑–∞–∫–∞–∑, –æ—Ç—Å–ª–µ–¥–∏–º –¥–æ—Å—Ç–∞–≤–∫—É',
                        base_price: 0,
                        icon: 'üöö'
                    },
                    {
                        id: 3,
                        category_id: 1,
                        name: '–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω',
                        description: '–ù–∞–π–¥–µ–º –ª—É—á—à–∏–µ —Ü–µ–Ω—ã –Ω–∞ —Ç–æ–≤–∞—Ä—ã –≤ —Ä–∞–∑–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö',
                        base_price: 0,
                        icon: 'üí∞'
                    },
                    
                    // –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
                    {
                        id: 4,
                        category_id: 2,
                        name: '–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π',
                        description: '–ü–æ–º–æ–∂–µ–º —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–∑–¥–Ω–∏–∫, –ø–æ–¥–æ–±—Ä–∞—Ç—å –ª–æ–∫–∞—Ü–∏–∏, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –æ–Ω–ª–∞–π–Ω-—Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é',
                        base_price: 0,
                        icon: 'üéâ'
                    },
                    {
                        id: 5,
                        category_id: 2,
                        name: '–ü–æ–¥–±–æ—Ä –ø–æ–¥–∞—Ä–∫–æ–≤',
                        description: '–ù–∞–π–¥–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏ –¥–ª—è –ª—é–±—ã—Ö occasion',
                        base_price: 0,
                        icon: 'üéÅ'
                    },
                    
                    // –ö—Ä–∞—Å–æ—Ç–∞ –∏ —É—Ö–æ–¥
                    {
                        id: 6,
                        category_id: 3,
                        name: '–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ —É—Ö–æ–¥—É',
                        description: '–ü–æ–¥–±–µ—Ä–µ–º –∫–æ—Å–º–µ—Ç–∏–∫—É, —Å–æ—Å—Ç–∞–≤–∏–º —Ä–∏—Ç—É–∞–ª—ã —É—Ö–æ–¥–∞, –Ω–∞–π–¥–µ–º –æ–Ω–ª–∞–π–Ω-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤',
                        base_price: 0,
                        icon: 'üíÖ'
                    },
                    {
                        id: 7,
                        category_id: 3,
                        name: '–û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å',
                        description: '–ó–∞–ø–∏—à–µ–º –∫ –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥—É, –ø–∞—Ä–∏–∫–º–∞—Ö–µ—Ä—É, –º–∞—Å—Ç–µ—Ä—É –º–∞–Ω–∏–∫—é—Ä–∞',
                        base_price: 0,
                        icon: 'üíá'
                    },
                    
                    // –û–±—É—á–µ–Ω–∏–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ
                    {
                        id: 8,
                        category_id: 4,
                        name: '–ü–æ–¥–±–æ—Ä –∫—É—Ä—Å–æ–≤',
                        description: '–ù–∞–π–¥–µ–º –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å—ã, –ø–æ–º–æ–∂–µ–º —Å –∑–∞–ø–∏—Å—å—é, —Å–æ—Å—Ç–∞–≤–∏–º –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è',
                        base_price: 0,
                        icon: 'üéì'
                    },
                    {
                        id: 9,
                        category_id: 4,
                        name: '–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é',
                        description: '–ü–æ–º–æ–∂–µ–º –≤—ã–±—Ä–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–≤–∏—Ç–∏—è, —Å–æ—Å—Ç–∞–≤–∏–º –ø–ª–∞–Ω —Ä–æ—Å—Ç–∞',
                        base_price: 0,
                        icon: 'üìà'
                    },
                    
                    // –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ª—É–≥
                    {
                        id: 10,
                        category_id: 5,
                        name: '–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ª—É–≥',
                        description: '–ó–∞–±—Ä–æ–Ω–∏—Ä—É–µ–º —Å—Ç–æ–ª–∏–∫ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ, –∑–∞–ø–∏—à–µ–º –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É, –æ—Ä–≥–∞–Ω–∏–∑—É–µ–º –æ–Ω–ª–∞–π–Ω-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é',
                        base_price: 0,
                        icon: 'üìÖ'
                    },
                    {
                        id: 11,
                        category_id: 5,
                        name: '–ü–æ–∏—Å–∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤',
                        description: '–ù–∞–π–¥–µ–º –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ñ–µ—Ä–∞—Ö',
                        base_price: 0,
                        icon: 'üë©‚Äç‚öïÔ∏è'
                    },
                    
                    // –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑
                    {
                        id: 12,
                        category_id: 6,
                        name: '–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑',
                        description: '–ü—Ä–æ–≤–µ–¥–µ–º –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ –≤–∞—à–µ–π —Ç–µ–º–µ, –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –ø–æ–¥–≥–æ—Ç–æ–≤–∏–º –æ—Ç—á–µ—Ç',
                        base_price: 0,
                        icon: 'üîç'
                    },
                    {
                        id: 13,
                        category_id: 6,
                        name: '–°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏',
                        description: '–°–æ–±–µ—Ä–µ–º –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –≤–∞—à–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º',
                        base_price: 0,
                        icon: 'üìä'
                    }
                ];

                // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ–∏–ª—å—Ç—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤ –∑–∞–¥–∞—á–∞—Ö
                const filterCategory = document.getElementById('filterCategory');
                if (filterCategory) {
                    const options = app.categories.map(cat => 
                        `<option value="${cat.id}">${cat.display_name}</option>`
                    ).join('');
                    filterCategory.innerHTML = `<option value="all">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>${options}`;
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:', error);
                showNotification('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', 'error');
            } finally {
                hideLoading();
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫
        async function loadSubscriptions() {
            try {
                // –¢–∞—Ä–∏—Ñ—ã —Å –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–º –≤–∑–Ω–æ—Å–æ–º
                app.subscriptions = [
                    {
                        id: 1,
                        name: 'essential',
                        display_name: '–≠—Å—Å–µ–Ω—à–ª',
                        description: '–ë–∞–∑–æ–≤—ã–π –ø–∞–∫–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —É—Å–ª—É–≥',
                        price_monthly: 500,
                        initial_fee: 500,
                        features: JSON.stringify([
                            '–î–æ 5 –∑–∞–¥–∞—á –≤ –º–µ—Å—è—Ü',
                            '–ü–æ–¥–±–æ—Ä —Ç–æ–≤–∞—Ä–æ–≤ –æ–Ω–ª–∞–π–Ω',
                            '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏',
                            '–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ —É—Ö–æ–¥—É',
                            '–ü–æ–¥–±–æ—Ä –∫—É—Ä—Å–æ–≤',
                            '–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ª—É–≥',
                            '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7',
                            '–í—Å–µ —É—Å–ª—É–≥–∏ –≤–∫–ª—é—á–µ–Ω—ã'
                        ])
                    },
                    {
                        id: 2,
                        name: 'premium',
                        display_name: '–ü—Ä–µ–º–∏—É–º',
                        description: '–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–∞–∫–µ—Ç —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π',
                        price_monthly: 1990,
                        initial_fee: 1000,
                        features: JSON.stringify([
                            '–î–æ 20 –∑–∞–¥–∞—á –≤ –º–µ—Å—è—Ü',
                            '–í—Å–µ —É—Å–ª—É–≥–∏ –≠—Å—Å–µ–Ω—à–ª',
                            '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ',
                            '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â–Ω–∏—Ü–∞',
                            '–≠–∫—Å–ø—Ä–µ—Å—Å-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ',
                            '–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è',
                            'VIP-–ø–æ–¥–¥–µ—Ä–∂–∫–∞',
                            '–û—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞',
                            '–í—Å–µ —É—Å–ª—É–≥–∏ –≤–∫–ª—é—á–µ–Ω—ã'
                        ])
                    }
                ];
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫:', error);
            }
        }

        // –†–µ–Ω–¥–µ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–∞ –≥–ª–∞–≤–Ω–æ–π (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ)
        function renderHomeCategories() {
            const container = document.getElementById('categoriesHome');
            
            if (app.categories.length === 0) {
                container.innerHTML = `
                    <div class="col-span-full text-center p-8">
                        <div class="loading">
                            <div class="spinner"></div>
                        </div>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = app.categories.map(category => `
                <a href="#" class="category-card" onclick="startOrderWizard(${category.id}); return false;">
                    <div class="service-icon-img">${category.icon}</div>
                    <h3 class="category-title">${category.display_name}</h3>
                    <p class="category-desc">${category.description}</p>
                    <button class="btn btn-pink mt-4">
                        <i class="fas fa-bolt"></i>
                        –ó–∞–∫–∞–∑–∞—Ç—å –ø–æ–º–æ—â—å
                    </button>
                </a>
            `).join('');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —É—Å–ª—É–≥
        async function loadServicesPage() {
            const container = document.getElementById('categoriesGrid');
            
            if (app.categories.length === 0) {
                await loadCategories();
            }
            
            container.innerHTML = app.categories.map(category => `
                <a href="#" class="category-card" onclick="startOrderWizard(${category.id}); return false;">
                    <div class="service-icon-img">${category.icon}</div>
                    <h3 class="category-title">${category.display_name}</h3>
                    <p class="category-desc">${category.description}</p>
                    <button class="btn btn-pink mt-4">
                        <i class="fas fa-bolt"></i>
                        –ó–∞–∫–∞–∑–∞—Ç—å –ø–æ–º–æ—â—å
                    </button>
                </a>
            `).join('');
        }

        // –ó–∞–ø—É—Å–∫ –≤–∏–∑–∞—Ä–¥–∞ –∑–∞–∫–∞–∑–∞
        window.startOrderWizard = async function(categoryId) {
            if (!app.currentUser) {
                openAuthModal();
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–∫—Ç–∏–≤–Ω–∞ –ª–∏ –ø–æ–¥–ø–∏—Å–∫–∞
            if (app.currentUser.subscription_status !== 'active') {
                showNotification('–í–∞—à–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤.', 'error');
                navigate('subscriptions');
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–ø–ª–∞—á–µ–Ω –ª–∏ –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å
            if (app.currentUser.initial_fee_paid !== 1) {
                showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø–ª–∞—Ç–∏—Ç—å –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤.', 'error');
                showWelcomeScreen();
                return;
            }
            
            // –î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç –∑–∞–¥–∞—á
            if (app.currentUser.role === 'client') {
                const userData = await fetch(`${app.API_URL}/api/auth/profile`, {
                    headers: {
                        'Authorization': `Bearer ${app.token}`
                    }
                });
                
                if (userData.ok) {
                    const data = await userData.json();
                    const stats = data.data.stats;
                    
                    if (stats.tasks_remaining <= 0) {
                        showNotification(`–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–¥–∞—á –ø–æ –≤–∞—à–µ–π –ø–æ–¥–ø–∏—Å–∫–µ. –î–æ—Å—Ç—É–ø–Ω–æ: ${stats.tasks_limit}, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ: ${stats.tasks_used}.`, 'error');
                        navigate('subscriptions');
                        return;
                    }
                }
            }
            
            app.currentCategoryId = categoryId;
            app.wizardData = {
                categoryId: categoryId
            };
            
            // –°–∫—Ä—ã–≤–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–∏–∑–∞—Ä–¥
            document.getElementById('categoriesGrid').style.display = 'none';
            document.getElementById('orderWizard').classList.remove('hidden');
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —É—Å–ª—É–≥–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            loadServicesForCategory(categoryId);
        };

        // –ó–∞–≥—Ä—É–∑–∫–∞ —É—Å–ª—É–≥ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        async function loadServicesForCategory(categoryId) {
            showLoading();
            
            try {
                const category = app.categories.find(c => c.id == categoryId);
                const container = document.getElementById('servicesGrid');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                document.getElementById('categoryDescription').textContent = category?.description || '–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É';
                
                // –î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ª–∏–º–∏—Ç–µ –∑–∞–¥–∞—á
                if (app.currentUser && app.currentUser.role === 'client') {
                    const userData = await fetch(`${app.API_URL}/api/auth/profile`, {
                        headers: {
                            'Authorization': `Bearer ${app.token}`
                        }
                    });
                    
                    if (userData.ok) {
                        const userResponse = await userData.json();
                        const stats = userResponse.data.stats;
                        
                        document.getElementById('tasksLimitInfo').classList.remove('hidden');
                        document.getElementById('tasksUsed').textContent = stats.tasks_used;
                        document.getElementById('tasksLimit').textContent = stats.tasks_limit;
                        
                        const progress = stats.tasks_limit > 0 ? (stats.tasks_used / stats.tasks_limit) * 100 : 0;
                        document.getElementById('tasksProgress').style.width = `${progress}%`;
                    }
                }
                
                // –§–∏–ª—å—Ç—Ä—É–µ–º —É—Å–ª—É–≥–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                const categoryServices = app.services.filter(service => service.category_id == categoryId);
                
                // –†–µ–Ω–¥–µ—Ä–∏–º —É—Å–ª—É–≥–∏
                if (categoryServices.length === 0) {
                    container.innerHTML = '<p class="text-center text-gray-500 py-8">–£—Å–ª—É–≥–∏ –¥–ª—è —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è</p>';
                } else {
                    container.innerHTML = categoryServices.map(service => `
                        <div class="category-card service-card" data-id="${service.id}" onclick="selectService(${service.id}, '${service.name}')">
                            <div class="service-icon-img">${service.icon}</div>
                            <h3 class="category-title">${service.name}</h3>
                            <p class="category-desc">${service.description}</p>
                            <div class="mt-4">
                                <div style="font-size: 1.1rem; font-weight: 600; color: var(--aquamarine);">
                                    <i class="fas fa-check-circle"></i> –í–∫–ª—é—á–µ–Ω–æ –≤ –ø–æ–¥–ø–∏—Å–∫—É
                                </div>
                                <div class="text-sm text-gray-500 mt-1">–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —É—Å–ª—É–≥–∞</div>
                            </div>
                        </div>
                    `).join('');
                }
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π —à–∞–≥ –≤–∏–∑–∞—Ä–¥–∞
                showWizardStep(1);
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —É—Å–ª—É–≥:', error);
                showNotification('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —É—Å–ª—É–≥–∏', 'error');
            } finally {
                hideLoading();
            }
        }

        // –í—ã–±–æ—Ä —É—Å–ª—É–≥–∏
        window.selectService = function(serviceId, serviceName) {
            app.currentServiceId = serviceId;
            app.wizardData.serviceId = serviceId;
            app.wizardData.serviceName = serviceName;
            
            // –í–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è
            document.getElementById('btnNextToDetails').disabled = false;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ
            document.querySelectorAll('.service-card').forEach(card => {
                card.style.borderColor = 'rgba(61, 61, 61, 0.08)';
                card.style.boxShadow = 'none';
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ
            const selectedCard = document.querySelector(`.service-card[data-id="${serviceId}"]`);
            if (selectedCard) {
                selectedCard.style.borderColor = 'var(--gold-metallic)';
                selectedCard.style.boxShadow = 'var(--shadow)';
            }
        };

        // –ü–æ–∫–∞–∑–∞—Ç—å —à–∞–≥ –≤–∏–∑–∞—Ä–¥–∞
        function showWizardStep(step) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —à–∞–≥–∏
            document.querySelectorAll('.wizard-step').forEach(s => {
                s.classList.add('hidden');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–π —à–∞–≥
            document.getElementById(`wizardStep${step}`).classList.remove('hidden');
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–∞—Ç—É –¥–ª—è –¥–µ–¥–ª–∞–π–Ω–∞
            if (step === 2) {
                const tomorrow = new Date();
                tomorrow.setDate(tomorrow.getDate() + 1);
                tomorrow.setHours(18, 0, 0, 0);
                
                const minDate = new Date();
                minDate.setMinutes(minDate.getMinutes() - minDate.getTimezoneOffset());
                const defaultDate = new Date(tomorrow);
                defaultDate.setMinutes(defaultDate.getMinutes() - defaultDate.getTimezoneOffset());
                
                const deadlineInput = document.getElementById('orderDeadline');
                deadlineInput.min = minDate.toISOString().slice(0, 16);
                deadlineInput.value = defaultDate.toISOString().slice(0, 16);
                
                // –ó–∞–ø–æ–ª–Ω—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –µ—Å–ª–∏ –æ–Ω –ø—É—Å—Ç–æ–π
                if (!document.getElementById('orderTitle').value && app.wizardData.serviceName) {
                    document.getElementById('orderTitle').value = app.wizardData.serviceName;
                }
            }
        }

        // –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫ –¥–µ—Ç–∞–ª—è–º –∑–∞–∫–∞–∑–∞
        document.getElementById('btnNextToDetails').addEventListener('click', () => {
            if (!app.currentServiceId) {
                showNotification('–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É', 'error');
                return;
            }
            
            showWizardStep(2);
        });

        // –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—ã–±–æ—Ä—É —É—Å–ª—É–≥–∏
        document.getElementById('btnBackToServices').addEventListener('click', () => {
            showWizardStep(1);
        });

        // –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—é
        document.getElementById('btnReviewOrder').addEventListener('click', () => {
            const form = document.getElementById('orderForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
            app.wizardData.title = document.getElementById('orderTitle').value;
            app.wizardData.description = document.getElementById('orderDescription').value;
            app.wizardData.deadline = document.getElementById('orderDeadline').value;
            app.wizardData.priority = document.getElementById('orderPriority').value;
            app.wizardData.contact = document.getElementById('orderContact').value;
            app.wizardData.budget = document.getElementById('orderBudget').value;
            app.wizardData.additional = document.getElementById('orderAdditional').value;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
            showOrderReview();
            showWizardStep(3);
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
        function showOrderReview() {
            const container = document.getElementById('orderReview');
            const category = app.categories.find(c => c.id == app.currentCategoryId);
            const service = app.services.find(s => s.id == app.currentServiceId);
            
            container.innerHTML = `
                <div class="card mb-6">
                    <h3 class="category-title mb-4">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–¥–∞—á–µ</h3>
                    <div class="grid grid-1 md:grid-2 gap-4">
                        <div>
                            <div class="text-sm text-gray-500">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</div>
                            <div class="font-medium">${category?.display_name || ''}</div>
                        </div>
                        <div>
                            <div class="text-sm text-gray-500">–£—Å–ª—É–≥–∞:</div>
                            <div class="font-medium">${service?.name || app.wizardData.serviceName}</div>
                        </div>
                        <div>
                            <div class="text-sm text-gray-500">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:</div>
                            <div class="font-medium">${getPriorityText(app.wizardData.priority)}</div>
                        </div>
                        <div>
                            <div class="text-sm text-gray-500">–°—Ä–æ–∫:</div>
                            <div class="font-medium">${new Date(app.wizardData.deadline).toLocaleString('ru-RU')}</div>
                        </div>
                        <div class="md:col-span-2">
                            <div class="text-sm text-gray-500">–°—Ç–æ–∏–º–æ—Å—Ç—å:</div>
                            <div class="text-xl font-bold text-gold">
                                <i class="fas fa-check-circle text-green-500"></i> –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (–≤–∫–ª—é—á–µ–Ω–æ –≤ –ø–æ–¥–ø–∏—Å–∫—É)
                            </div>
                        </div>
                        ${app.wizardData.budget ? `
                            <div>
                                <div class="text-sm text-gray-500">–ë—é–¥–∂–µ—Ç:</div>
                                <div class="font-medium">${app.wizardData.budget}‚ÇΩ</div>
                            </div>
                        ` : ''}
                        <div class="md:col-span-2">
                            <div class="text-sm text-gray-500">–ù–∞–∑–≤–∞–Ω–∏–µ:</div>
                            <div class="font-medium">${app.wizardData.title}</div>
                        </div>
                        <div class="md:col-span-2">
                            <div class="text-sm text-gray-500">–û–ø–∏—Å–∞–Ω–∏–µ:</div>
                            <div class="font-medium">${app.wizardData.description}</div>
                        </div>
                        <div class="md:col-span-2">
                            <div class="text-sm text-gray-500">–ö–æ–Ω—Ç–∞–∫—Ç—ã:</div>
                            <div class="font-medium">${app.wizardData.contact}</div>
                        </div>
                        ${app.wizardData.additional ? `
                            <div class="md:col-span-2">
                                <div class="text-sm text-gray-500">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:</div>
                                <div class="font-medium">${app.wizardData.additional}</div>
                            </div>
                        ` : ''}
                    </div>
                </div>
                
                <div class="card">
                    <h4 class="font-bold mb-3">–ß—Ç–æ –±—É–¥–µ—Ç –¥–∞–ª—å—à–µ?</h4>
                    <ol class="space-y-2 pl-5 list-decimal">
                        <li>–ó–∞–¥–∞—á–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω—ã–º –ø–æ–º–æ—â–Ω–∏–∫–∞–º</li>
                        <li>–ü–æ–º–æ—â–Ω–∏—Ü–∞ —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π</li>
                        <li>–û–±—Å—É–¥–∏—Ç —Å—Ä–æ–∫–∏ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
                        <li>–í—ã —Å–º–æ–∂–µ—Ç–µ –æ–±—â–∞—Ç—å—Å—è –≤ —á–∞—Ç–µ –∑–∞–¥–∞—á–∏</li>
                        <li>–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ü–µ–Ω–∏—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã</li>
                    </ol>
                </div>
            `;
        }

        // –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
        function getPriorityText(priority) {
            const texts = {
                'low': '–ù–∏–∑–∫–∏–π',
                'medium': '–°—Ä–µ–¥–Ω–∏–π',
                'high': '–í—ã—Å–æ–∫–∏–π',
                'urgent': '–°—Ä–æ—á–Ω—ã–π'
            };
            return texts[priority] || '–°—Ä–µ–¥–Ω–∏–π';
        }

        // –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –¥–µ—Ç–∞–ª—è–º
        document.getElementById('btnBackToDetails').addEventListener('click', () => {
            showWizardStep(2);
        });

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞
        document.getElementById('btnSubmitOrder').addEventListener('click', async () => {
            showLoading();
            
            try {
                const response = await fetch(`${app.API_URL}/api/tasks`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${app.token}`
                    },
                    body: JSON.stringify({
                        title: app.wizardData.title,
                        description: app.wizardData.description,
                        category_id: app.currentCategoryId,
                        service_id: app.currentServiceId,
                        priority: app.wizardData.priority,
                        deadline: app.wizardData.deadline,
                        contact_info: app.wizardData.contact,
                        budget: app.wizardData.budget,
                        additional_requirements: app.wizardData.additional,
                        is_virtual: true
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showNotification(data.message || '–ó–∞–¥–∞—á–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!', 'success');
                    
                    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤–∏–∑–∞—Ä–¥
                    cancelOrderWizard();
                    
                    // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –∑–∞–¥–∞—á–∞–º
                    navigate('tasks');
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏', 'error');
            } finally {
                hideLoading();
            }
        });

        // –û—Ç–º–µ–Ω–∞ –≤–∏–∑–∞—Ä–¥–∞
        document.getElementById('btnCancelWizard').addEventListener('click', cancelOrderWizard);

        function cancelOrderWizard() {
            app.currentCategoryId = null;
            app.currentServiceId = null;
            app.wizardData = {};
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤–∏–∑–∞—Ä–¥, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            document.getElementById('orderWizard').classList.add('hidden');
            document.getElementById('categoriesGrid').style.display = 'grid';
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
            document.getElementById('orderForm').reset();
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ
            document.querySelectorAll('.service-card').forEach(card => {
                card.style.borderColor = '';
                card.style.boxShadow = '';
            });
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–¥–ø–∏—Å–æ–∫
        async function loadSubscriptionsPage() {
            if (app.subscriptions.length === 0) {
                await loadSubscriptions();
            }
            
            const container = document.getElementById('subscriptionsGrid');
            
            container.innerHTML = app.subscriptions.map((sub, index) => {
                const isFeatured = sub.name === 'premium';
                const features = Array.isArray(sub.features) ? sub.features : JSON.parse(sub.features || '[]');
                
                return `
                    <div class="subscription-card ${isFeatured ? 'featured' : ''}">
                        ${isFeatured ? '<div class="subscription-featured">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º</div>' : ''}
                        <h3 class="subscription-name">${sub.display_name}</h3>
                        <div class="subscription-price">${sub.price_monthly}‚ÇΩ</div>
                        <div class="subscription-period">–≤ –º–µ—Å—è—Ü</div>
                        ${sub.initial_fee > 0 ? `
                            <div class="mb-6">
                                <div class="text-sm text-gray-500">–í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å:</div>
                                <div class="font-bold text-gold">${sub.initial_fee}‚ÇΩ</div>
                            </div>
                        ` : ''}
                        <ul class="subscription-features">
                            ${features.map(feature => `
                                <li><i class="fas fa-check"></i> ${feature}</li>
                            `).join('')}
                        </ul>
                        <button class="btn ${isFeatured ? 'btn-primary' : 'btn-secondary'} w-100 mt-auto" 
                                onclick="subscribeToPlan('${sub.name}')">
                            ${app.currentUser ? '–í—ã–±—Ä–∞—Ç—å —Ç–∞—Ä–∏—Ñ' : '–í–æ–π—Ç–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞'}
                        </button>
                    </div>
                `;
            }).join('');
        }

        // –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
        window.subscribeToPlan = async function(planName) {
            if (!app.currentUser) {
                openAuthModal();
                return;
            }
            
            const subscription = app.subscriptions.find(s => s.name === planName);
            if (!subscription) {
                showNotification('–¢–∞—Ä–∏—Ñ –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
                return;
            }
            
            // –ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
            if (app.currentUser.subscription_status === 'active' && app.currentUser.subscription_plan === planName) {
                showNotification('–£ –≤–∞—Å —É–∂–µ –∞–∫—Ç–∏–≤–Ω–∞ —ç—Ç–∞ –ø–æ–¥–ø–∏—Å–∫–∞', 'info');
                return;
            }
            
            showLoading();
            
            try {
                const response = await fetch(`${app.API_URL}/api/subscriptions/subscribe`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${app.token}`
                    },
                    body: JSON.stringify({
                        plan: planName
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showNotification(data.message || '–ü–æ–¥–ø–∏—Å–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞!', 'success');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    if (data.data && data.data.user) {
                        app.currentUser = data.data.user;
                        updateUserMenu();
                    }
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω
                    showWelcomeScreen();
                    
                    // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–¥–ø–∏—Å–æ–∫
                    loadSubscriptionsPage();
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏', 'error');
            } finally {
                hideLoading();
            }
        };

        // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
        document.getElementById('btnUnifiedLogin').addEventListener('click', async () => {
            const phone = document.getElementById('authPhone').value;
            const password = document.getElementById('authPassword').value;
            
            if (!phone || !password) {
                showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', 'error');
                return;
            }
            
            showLoading();
            
            try {
                const response = await fetch(`${app.API_URL}/api/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ 
                        phone: phone.replace(/\D/g, ''),
                        password: password 
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–∫–µ–Ω
                    app.token = data.data.token;
                    localStorage.setItem('token', app.token);
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    app.currentUser = data.data.user;
                    
                    showNotification(data.message || '–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!', 'success');
                    closeModal('authModal');
                    updateUserMenu();
                    updateRoleSpecificLinks();
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω
                    setTimeout(() => {
                        showWelcomeScreen();
                    }, 500);
                    
                    // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
                    loadCurrentPage();
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏', 'error');
            } finally {
                hideLoading();
            }
        });

        // –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
        document.getElementById('btnCompleteRegistration').addEventListener('click', async () => {
            const firstName = document.getElementById('quickFirstName').value;
            const phone = document.getElementById('quickPhone').value;
            const tariff = document.querySelector('input[name="quickTariff"]:checked').value;
            
            if (!firstName || !phone) {
                showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è', 'error');
                return;
            }
            
            if (!document.getElementById('quickAgree').checked) {
                showNotification('–ü—Ä–∏–º–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è', 'error');
                return;
            }
            
            showLoading();
            
            try {
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –ø–∞—Ä–æ–ª—å
                const randomPassword = Math.random().toString(36).slice(-8);
                
                const response = await fetch(`${app.API_URL}/api/auth/register`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        phone: phone.replace(/\D/g, ''),
                        password: randomPassword,
                        first_name: firstName,
                        subscription_plan: tariff
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showNotification('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –ü–∞—Ä–æ–ª—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤–∞–º –≤ –°–ú–°.', 'success');
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–∫–µ–Ω –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
                    if (data.data && data.data.token) {
                        app.token = data.data.token;
                        localStorage.setItem('token', app.token);
                        app.currentUser = data.data.user;
                        updateUserMenu();
                        updateRoleSpecificLinks();
                    }
                    
                    closeModal('authModal');
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –æ–ø–ª–∞—Ç–∏—Ç—å
                    setTimeout(() => {
                        showWelcomeScreen();
                    }, 500);
                    
                } else {
                    showNotification(data.error || '–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏', 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏', 'error');
            } finally {
                hideLoading();
            }
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
        window.showPrivacyPolicy = function() {
            openModal('privacyPolicyModal');
        };

        // –ü—Ä–∏–Ω—è—Ç—å –ø–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
        document.getElementById('btnAcceptPrivacyPolicy')?.addEventListener('click', function() {
            closeModal('privacyPolicyModal');
            document.getElementById('quickAgree').checked = true;
        });

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    navigate(page);
                });
            });
            
            // –õ–æ–≥–æ—Ç–∏–ø
            document.getElementById('logoHome').addEventListener('click', function(e) {
                e.preventDefault();
                navigate('home');
            });
            
            // –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
            document.getElementById('btnStartOrder').addEventListener('click', () => {
                navigate('services');
            });
            
            document.getElementById('btnViewSubscriptions').addEventListener('click', () => {
                navigate('subscriptions');
            });
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞–º–∏ –≤—Ö–æ–¥–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
            document.getElementById('btnQuickRegister').addEventListener('click', () => {
                document.getElementById('unifiedAuthForm').classList.add('hidden');
                document.getElementById('quickRegisterForm').classList.remove('hidden');
            });
            
            document.getElementById('btnBackToLogin').addEventListener('click', () => {
                document.getElementById('quickRegisterForm').classList.add('hidden');
                document.getElementById('unifiedAuthForm').classList.remove('hidden');
            });
            
            // –ó–∞–¥–∞—á–∏
            document.getElementById('btnNewTask').addEventListener('click', (e) => {
                if (app.currentUser && app.currentUser.role === 'performer') {
                    e.preventDefault();
                    showNotification('–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏', 'error');
                    return;
                }
                navigate('services');
            });
            
            document.getElementById('btnBackToTasks').addEventListener('click', () => {
                navigate('tasks');
            });
            
            document.getElementById('btnRefreshTasks').addEventListener('click', () => {
                loadTasks();
            });
            
            document.getElementById('btnRefreshTask').addEventListener('click', () => {
                loadTaskDetailsPage();
            });
            
            document.getElementById('filterStatus').addEventListener('change', () => {
                loadTasks();
            });
            
            document.getElementById('filterCategory').addEventListener('change', () => {
                loadTasks();
            });
            
            // –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å —Å—Ç—Ä–∞–Ω–∏—Ü–∞
            document.getElementById('btnRefreshPerformerTasks')?.addEventListener('click', () => {
                loadPerformerPage();
            });
            
            document.getElementById('btnFilterAll')?.addEventListener('click', () => {
                filterPerformerTasks('all');
            });
            
            document.getElementById('btnFilterAssigned')?.addEventListener('click', () => {
                filterPerformerTasks('assigned');
            });
            
            document.getElementById('btnFilterInProgress')?.addEventListener('click', () => {
                filterPerformerTasks('in_progress');
            });
            
            document.getElementById('btnFilterCompleted')?.addEventListener('click', () => {
                filterPerformerTasks('completed');
            });
            
            // –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
            document.getElementById('mobileMenuBtn').addEventListener('click', toggleMobileMenu);
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–æ–∫
            document.getElementById('btnCloseAuth').addEventListener('click', () => {
                closeModal('authModal');
            });
            
            document.getElementById('btnCloseWelcome').addEventListener('click', () => {
                closeModal('welcomeModal');
            });
            
            document.getElementById('btnCloseSmsPayment').addEventListener('click', () => {
                closeModal('smsPaymentModal');
            });
            
            document.getElementById('btnCloseRate').addEventListener('click', () => {
                closeModal('rateModal');
            });
            
            document.getElementById('btnCloseEditProfile').addEventListener('click', () => {
                closeModal('editProfileModal');
            });
            
            document.getElementById('btnClosePrivacyPolicy').addEventListener('click', () => {
                closeModal('privacyPolicyModal');
            });
            
            // –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –≤ —Ñ—É—Ç–µ—Ä–µ
            document.getElementById('btnPrivacyPolicy').addEventListener('click', (e) => {
                e.preventDefault();
                showPrivacyPolicy();
            });
            
            document.getElementById('btnTermsOfService').addEventListener('click', (e) => {
                e.preventDefault();
                showNotification('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø–æ–ª–∏—Ç–∏–∫–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏', 'info');
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–æ–∫ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(event) {
                    if (event.target === this) {
                        this.classList.remove('active');
                    }
                });
            });
            
            // Escape –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª–æ–∫
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape') {
                    document.querySelectorAll('.modal.active').forEach(modal => {
                        modal.classList.remove('active');
                    });
                }
            });
            
            // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –º–µ–Ω—é
            document.addEventListener('click', function(e) {
                if (e.target.id === 'btnOpenAuth' || e.target.closest('#btnOpenAuth')) {
                    openAuthModal();
                }
                
                if (e.target.id === 'btnOpenProfile' || e.target.closest('#btnOpenProfile')) {
                    navigate('profile');
                }
                
                if (e.target.id === 'btnLogout' || e.target.closest('#btnLogout')) {
                    logout();
                }
            });
            
            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π
            document.getElementById('btnManageSubscription').addEventListener('click', () => {
                navigate('subscriptions');
            });
            
            // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã –ø–æ Enter
            document.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    // –í—Ö–æ–¥
                    if (e.target.id === 'authPassword' || e.target.id === 'authPhone') {
                        document.getElementById('btnUnifiedLogin').click();
                    }
                }
            });
            
            // –†–µ—Å–∞–π–∑ –æ–∫–Ω–∞
            window.addEventListener('resize', function() {
                if (window.innerWidth > 768) {
                    closeMobileMenu();
                }
            });
        }

        // –í—ã—Ö–æ–¥
        window.logout = function() {
            app.token = null;
            app.currentUser = null;
            localStorage.removeItem('token');
            updateUserMenu();
            updateRoleSpecificLinks();
            navigate('home');
            showNotification('–í—ã –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã', 'info');
        };

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        window.openAuthModal = function() {
            document.getElementById('unifiedAuthForm').classList.remove('hidden');
            document.getElementById('quickRegisterForm').classList.add('hidden');
            openModal('authModal');
        };

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('active');
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('active');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message, type = 'info') {
            const container = document.getElementById('notificationContainer');
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            container.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 5000);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
        function showLoading() {
            const modal = document.getElementById('loadingModal');
            modal.classList.add('active');
        }

        // –°–∫—Ä—ã—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
        function hideLoading() {
            const modal = document.getElementById('loadingModal');
            modal.classList.remove('active');
        }

        // –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
        function toggleMobileMenu() {
            const menu = document.getElementById('navMenu');
            menu.classList.toggle('active');
            
            const btn = document.getElementById('mobileMenuBtn');
            if (menu.classList.contains('active')) {
                btn.innerHTML = '<i class="fas fa-times"></i>';
            } else {
                btn.innerHTML = '<i class="fas fa-bars"></i>';
            }
        }

        function closeMobileMenu() {
            const menu = document.getElementById('navMenu');
            menu.classList.remove('active');
            document.getElementById('mobileMenuBtn').innerHTML = '<i class="fas fa-bars"></i>';
        }

        // –î–µ–º–æ —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—Ö–æ–¥–∞
        window.demoLogin = function(accountType = 'client') {
            let phone, password;
            
            switch(accountType) {
                case 'admin':
                    phone = '79998887766';
                    password = 'admin123';
                    break;
                case 'performer':
                    phone = '79997776655';
                    password = 'performer123';
                    break;
                case 'client':
                default:
                    phone = '79996665544';
                    password = 'client123';
                    break;
            }
            
            document.getElementById('authPhone').value = `+7 (${phone.slice(1, 4)}) ${phone.slice(4, 7)}-${phone.slice(7, 9)}-${phone.slice(9, 11)}`;
            document.getElementById('authPassword').value = password;
            
            const loginBtn = document.getElementById('btnUnifiedLogin');
            if (loginBtn) {
                loginBtn.click();
            }
        };

        // –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (loadTasksPage, loadTaskDetailsPage –∏ —Ç.–¥.) –æ—Å—Ç–∞—é—Ç—Å—è —Ç–∞–∫–∏–º–∏ –∂–µ –∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
        // –î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞ —è –Ω–µ –±—É–¥—É –∏—Ö –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∑–¥–µ—Å—å, –Ω–æ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–¥–∞

        console.log('üå∏ –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂ v6.0.0 —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω!');
        console.log('üì± –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –≤—Ö–æ–¥ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É');
        console.log('üí≥ –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –°–ú–°');
        console.log('üîß API URL:', app.API_URL);
        console.log('üëë –î–µ–º–æ –∞–∫–∫–∞—É–Ω—Ç—ã: demoLogin("client"), demoLogin("performer"), demoLogin("admin")');
        console.log('‚ö° –í—Å–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–æ–π!');
    </script>
</body>
</html>
