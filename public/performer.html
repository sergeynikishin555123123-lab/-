<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>üë®‚Äçüíº –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂ | –ü–∞–Ω–µ–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ivory-bg: #F9F7F3;
            --graphite-dark: #3D3D3D;
            --graphite-medium: #5A5A5A;
            --graphite-light: #8A8A8A;
            --pastel-pink: #F2DDE6;
            --pink-light: #FAEFF5;
            --gold-metallic: #C5A880;
            --gold-dark: #A78B65;
            --blue-primary: #3498DB;
            --blue-dark: #2980B9;
            --blue-light: #EBF5FB;
            --lavender: #B9AFFF;
            --lavender-light: #E0DDFF;
            --aquamarine: #7FE0D1;
            --aqua-dark: #5AC8B7;
            --white: #FFFFFF;
            --success: #38B2AC;
            --warning: #ED8936;
            --error: #FC8181;
            --info: #4299E1;
            
            --shadow-sm: 0 2px 8px rgba(61, 61, 61, 0.05);
            --shadow: 0 4px 16px rgba(61, 61, 61, 0.08);
            --shadow-lg: 0 8px 32px rgba(61, 61, 61, 0.12);
            --shadow-xl: 0 20px 40px rgba(61, 61, 61, 0.15);
            
            --radius-sm: 8px;
            --radius: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --radius-full: 9999px;
            
            --transition-fast: 0.15s ease;
            --transition: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 0.4s ease;
            
            --header-height: 70px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--ivory-bg);
            color: var(--graphite-dark);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            font-weight: 400;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        /* –®–∞–ø–∫–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è */
        .performer-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, var(--blue-primary), var(--blue-dark));
            color: white;
            z-index: 1000;
            height: var(--header-height);
            box-shadow: var(--shadow-lg);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
            padding: 0 24px;
        }
        
        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.6rem;
            font-weight: 700;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo i {
            font-size: 1.8rem;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .performer-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .performer-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--blue-primary), var(--blue-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .performer-name {
            font-weight: 600;
            font-size: 0.95rem;
        }
        
        .logout-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 16px;
            border-radius: var(--radius);
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .main-content {
            margin-top: var(--header-height);
            min-height: calc(100vh - var(--header-height));
            padding: 24px 0;
        }
        
        /* –ë–æ–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
        .performer-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 24px;
        }
        
        .sidebar {
            background: white;
            border-radius: var(--radius-lg);
            padding: 24px;
            box-shadow: var(--shadow);
            height: fit-content;
            position: sticky;
            top: calc(var(--header-height) + 24px);
        }
        
        .sidebar-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.2rem;
            margin-bottom: 24px;
            color: var(--graphite-dark);
            padding-bottom: 16px;
            border-bottom: 2px solid var(--blue-light);
        }
        
        .nav-menu {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            color: var(--graphite-medium);
            text-decoration: none;
            border-radius: var(--radius);
            transition: var(--transition);
            font-weight: 500;
        }
        
        .nav-item:hover {
            background: var(--blue-light);
            color: var(--graphite-dark);
        }
        
        .nav-item.active {
            background: linear-gradient(135deg, var(--blue-light), #D6EAF8);
            color: var(--graphite-dark);
            font-weight: 600;
        }
        
        .nav-item i {
            width: 20px;
            text-align: center;
        }
        
        .nav-badge {
            margin-left: auto;
            background: var(--blue-primary);
            color: white;
            font-size: 0.7rem;
            padding: 2px 8px;
            border-radius: 10px;
            min-width: 24px;
            text-align: center;
        }
        
        /* –ö–æ–Ω—Ç–µ–Ω—Ç */
        .content {
            background: white;
            border-radius: var(--radius-lg);
            padding: 32px;
            box-shadow: var(--shadow);
            min-height: calc(100vh - var(--header-height) - 48px);
        }
        
        .content-header {
            margin-bottom: 32px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.1);
        }
        
        .content-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--graphite-dark);
            margin-bottom: 8px;
        }
        
        .content-subtitle {
            color: var(--graphite-medium);
            font-size: 1rem;
        }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }
        
        .stat-card {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow-sm);
            border: 1px solid rgba(61, 61, 61, 0.08);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--blue-primary), var(--aquamarine));
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow);
        }
        
        .stat-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--blue-primary);
            margin-bottom: 8px;
            line-height: 1;
        }
        
        .stat-label {
            color: var(--graphite-medium);
            font-size: 0.9rem;
            margin-bottom: 12px;
        }
        
        .stat-change {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .stat-change.positive {
            color: var(--success);
        }
        
        .stat-change.negative {
            color: var(--error);
        }
        
        /* –¢–∞–±–ª–∏—Ü—ã */
        .table-container {
            overflow-x: auto;
            border-radius: var(--radius);
            border: 1px solid rgba(61, 61, 61, 0.1);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }
        
        th {
            background: rgba(61, 61, 61, 0.03);
            padding: 16px;
            text-align: left;
            font-weight: 600;
            color: var(--graphite-dark);
            border-bottom: 2px solid rgba(61, 61, 61, 0.1);
            white-space: nowrap;
        }
        
        td {
            padding: 16px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.05);
            vertical-align: middle;
        }
        
        tr:hover {
            background: rgba(61, 61, 61, 0.02);
        }
        
        /* –ë–µ–π–¥–∂–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: var(--radius-full);
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .status-new {
            background: rgba(52, 152, 219, 0.15);
            color: var(--blue-primary);
        }
        
        .status-search {
            background: rgba(237, 137, 54, 0.15);
            color: var(--warning);
        }
        
        .status-assigned {
            background: rgba(66, 153, 225, 0.15);
            color: var(--info);
        }
        
        .status-in-progress {
            background: rgba(127, 224, 209, 0.15);
            color: var(--aqua-dark);
        }
        
        .status-completed {
            background: rgba(56, 178, 172, 0.15);
            color: var(--success);
        }
        
        .status-cancelled {
            background: rgba(61, 61, 61, 0.08);
            color: var(--graphite-medium);
        }
        
        /* –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π */
        .action-buttons {
            display: flex;
            gap: 8px;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 8px 16px;
            border: none;
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
        }
        
        .btn-sm {
            padding: 6px 12px;
            font-size: 0.8rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--blue-primary), var(--blue-dark));
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
        }
        
        .btn-secondary {
            background: white;
            color: var(--graphite-dark);
            border: 1px solid rgba(61, 61, 61, 0.1);
        }
        
        .btn-secondary:hover {
            background: rgba(61, 61, 61, 0.02);
            border-color: var(--graphite-light);
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--success), #2C9C95);
            color: white;
        }
        
        .btn-warning {
            background: linear-gradient(135deg, var(--warning), #DD6B20);
            color: white;
        }
        
        /* –§–∏–ª—å—Ç—Ä—ã */
        .filters {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 24px;
            border: 1px solid rgba(61, 61, 61, 0.1);
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            align-items: center;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 6px;
            min-width: 200px;
        }
        
        .filter-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--graphite-dark);
        }
        
        .filter-input, .filter-select {
            padding: 10px 12px;
            border: 1px solid rgba(61, 61, 61, 0.1);
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
            background: white;
        }
        
        .filter-input:focus, .filter-select:focus {
            outline: none;
            border-color: var(--blue-primary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        /* –ü—Ä–æ—Ñ–∏–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è */
        .profile-card {
            background: linear-gradient(135deg, var(--blue-light), #EBF5FB);
            border-radius: var(--radius-lg);
            padding: 32px;
            margin-bottom: 32px;
            border: 1px solid rgba(52, 152, 219, 0.1);
        }
        
        .profile-header {
            display: flex;
            align-items: center;
            gap: 24px;
            margin-bottom: 32px;
        }
        
        .profile-avatar-large {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--blue-primary), var(--blue-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.5rem;
            font-weight: 700;
            border: 4px solid white;
            box-shadow: var(--shadow);
        }
        
        .profile-info {
            flex: 1;
        }
        
        .profile-name {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--graphite-dark);
            margin-bottom: 8px;
        }
        
        .profile-rating {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }
        
        .stars {
            color: #FFD700;
        }
        
        .rating-value {
            font-weight: 600;
            color: var(--graphite-dark);
        }
        
        .profile-categories {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 16px;
        }
        
        .category-tag {
            background: white;
            padding: 6px 12px;
            border-radius: var(--radius-full);
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--blue-primary);
            border: 1px solid rgba(52, 152, 219, 0.2);
        }
        
        /* –û—Ç–∑—ã–≤—ã */
        .reviews-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 24px;
        }
        
        .review-card {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            border: 1px solid rgba(61, 61, 61, 0.08);
            box-shadow: var(--shadow-sm);
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }
        
        .review-client {
            font-weight: 600;
            color: var(--graphite-dark);
        }
        
        .review-date {
            font-size: 0.85rem;
            color: var(--graphite-light);
        }
        
        .review-comment {
            color: var(--graphite-medium);
            line-height: 1.5;
            margin-top: 8px;
        }
        
        /* –ß–∞—Ç –∑–∞–¥–∞—á–∏ */
        .task-chat-container {
            background: white;
            border-radius: var(--radius-lg);
            border: 1px solid rgba(61, 61, 61, 0.1);
            margin-top: 32px;
            height: 500px;
            display: flex;
            flex-direction: column;
        }
        
        .chat-header {
            padding: 20px;
            border-bottom: 1px solid rgba(61, 61, 61, 0.1);
            background: var(--blue-light);
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .chat-message {
            max-width: 70%;
            animation: fadeInMessage 0.3s ease;
        }
        
        .chat-message.sent {
            align-self: flex-end;
        }
        
        .chat-message.received {
            align-self: flex-start;
        }
        
        .message-bubble {
            padding: 12px 16px;
            border-radius: 18px;
            position: relative;
            box-shadow: var(--shadow-sm);
            word-break: break-word;
        }
        
        .chat-message.sent .message-bubble {
            background: linear-gradient(135deg, var(--blue-primary), var(--blue-dark));
            color: white;
            border-bottom-right-radius: 4px;
        }
        
        .chat-message.received .message-bubble {
            background: white;
            border: 1px solid rgba(61, 61, 61, 0.1);
            color: var(--graphite-dark);
            border-bottom-left-radius: 4px;
        }
        
        .message-sender {
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--graphite-medium);
        }
        
        .chat-message.sent .message-sender {
            text-align: right;
        }
        
        .message-time {
            font-size: 0.7rem;
            color: var(--graphite-light);
            margin-top: 4px;
        }
        
        .chat-message.sent .message-time {
            text-align: right;
        }
        
        .chat-input-area {
            padding: 16px 20px;
            border-top: 1px solid rgba(61, 61, 61, 0.08);
            background: white;
            display: flex;
            gap: 10px;
        }
        
        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid rgba(61, 61, 61, 0.1);
            border-radius: 24px;
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            resize: none;
            min-height: 48px;
            max-height: 120px;
            transition: var(--transition);
        }
        
        .chat-input:focus {
            outline: none;
            border-color: var(--blue-primary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        .send-message-btn {
            background: linear-gradient(135deg, var(--blue-primary), var(--blue-dark));
            color: white;
            border: none;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .send-message-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
        }
        
        .send-message-btn:disabled {
            background: var(--graphite-light);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .no-messages {
            text-align: center;
            padding: 40px 20px;
            color: var(--graphite-medium);
        }
        
        .no-messages i {
            font-size: 3rem;
            margin-bottom: 16px;
            opacity: 0.3;
        }
        
        @keyframes fadeInMessage {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* –ó–∞–≥—Ä—É–∑–∫–∞ */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(4px);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 3000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }
        
        .loading-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .loader {
            width: 60px;
            height: 60px;
            border: 4px solid var(--blue-light);
            border-top: 4px solid var(--blue-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification-container {
            position: fixed;
            top: 100px;
            right: 24px;
            z-index: 2001;
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 400px;
        }
        
        .notification {
            background: white;
            border-radius: var(--radius);
            padding: 16px 20px;
            box-shadow: var(--shadow-lg);
            border-left: 4px solid var(--blue-primary);
            animation: slideInRight 0.3s ease;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            max-width: 400px;
        }
        
        .notification.success {
            border-left-color: var(--success);
        }
        
        .notification.error {
            border-left-color: var(--error);
        }
        
        .notification.warning {
            border-left-color: var(--warning);
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1200px) {
            .performer-layout {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: static;
            }
        }
        
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .filters {
                flex-direction: column;
                align-items: stretch;
            }
            
            .filter-group {
                min-width: 100%;
            }
            
            .action-buttons {
                flex-wrap: wrap;
            }
            
            .content {
                padding: 20px;
            }
            
            .profile-header {
                flex-direction: column;
                text-align: center;
            }
            
            .profile-info {
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è -->
    <header class="performer-header">
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo" onclick="navigateToSection('dashboard')">
                    <i class="fas fa-user-tie"></i>
                    –ñ–µ–Ω—Å–∫–∏–π –ö–æ–Ω—Å—å–µ—Ä–∂
                    <span style="font-size: 0.8rem; margin-left: 8px; background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 12px;">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</span>
                </a>
                
                <div class="performer-info">
                    <div class="flex items-center gap-3">
                        <div class="performer-avatar">
                            <span id="performerInitials">–ò</span>
                        </div>
                        <div class="performer-name" id="performerName">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</div>
                    </div>
                    <button class="logout-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                        –í—ã–π—Ç–∏
                    </button>
                </div>
            </div>
        </div>
    </header>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="main-content">
        <div class="container">
            <div class="performer-layout">
                <!-- –ë–æ–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
                <aside class="sidebar">
                    <h2 class="sidebar-title">–ü–∞–Ω–µ–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</h2>
                    <nav class="nav-menu">
                        <a href="#" class="nav-item active" data-section="dashboard">
                            <i class="fas fa-tachometer-alt"></i>
                            –î–∞—à–±–æ—Ä–¥
                        </a>
                        <a href="#" class="nav-item" data-section="available-tasks">
                            <i class="fas fa-tasks"></i>
                            –î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏
                            <span class="nav-badge" id="availableTasksCount">0</span>
                        </a>
                        <a href="#" class="nav-item" data-section="my-tasks">
                            <i class="fas fa-list-check"></i>
                            –ú–æ–∏ –∑–∞–¥–∞—á–∏
                            <span class="nav-badge" id="myTasksCount">0</span>
                        </a>
                        <a href="#" class="nav-item" data-section="in-progress">
                            <i class="fas fa-spinner"></i>
                            –í —Ä–∞–±–æ—Ç–µ
                        </a>
                        <a href="#" class="nav-item" data-section="completed">
                            <i class="fas fa-check-circle"></i>
                            –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ
                        </a>
                        <a href="#" class="nav-item" data-section="profile">
                            <i class="fas fa-user"></i>
                            –ü—Ä–æ—Ñ–∏–ª—å
                        </a>
                        <a href="#" class="nav-item" data-section="reviews">
                            <i class="fas fa-star"></i>
                            –û—Ç–∑—ã–≤—ã
                        </a>
                        <a href="#" class="nav-item" data-section="earnings">
                            <i class="fas fa-wallet"></i>
                            –ó–∞—Ä–∞–±–æ—Ç–æ–∫
                        </a>
                        <a href="#" class="nav-item" onclick="navigateToMainApp()">
                            <i class="fas fa-home"></i>
                            –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                        </a>
                    </nav>
                </aside>
                
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
                <div class="content" id="contentArea">
                    <!-- –î–∞—à–±–æ—Ä–¥ -->
                    <div id="dashboardSection" class="content-section active">
                        <div class="content-header">
                            <h1 class="content-title">–î–∞—à–±–æ—Ä–¥ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</h1>
                            <p class="content-subtitle">–û–±–∑–æ—Ä –≤–∞—à–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</p>
                        </div>
                        
                        <!-- –ü—Ä–æ—Ñ–∏–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è -->
                        <div class="profile-card" id="performerProfileCard">
                            <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                        
                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="totalEarnings">0 ‚ÇΩ</div>
                                <div class="stat-label">–û–±—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫</div>
                                <div class="stat-change positive">
                                    <i class="fas fa-arrow-up"></i>
                                    <span id="earningsChange">0%</span> –∑–∞ –º–µ—Å—è—Ü
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="completedTasks">0</div>
                                <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞—á</div>
                                <div class="stat-change positive">
                                    <i class="fas fa-arrow-up"></i>
                                    <span id="tasksChange">0%</span> –∑–∞ –º–µ—Å—è—Ü
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="avgRating">0.0</div>
                                <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥</div>
                                <div class="stat-change positive">
                                    <i class="fas fa-arrow-up"></i>
                                    <span id="ratingChange">0%</span> –∑–∞ –º–µ—Å—è—Ü
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="activeTasks">0</div>
                                <div class="stat-label">–ó–∞–¥–∞—á –≤ —Ä–∞–±–æ—Ç–µ</div>
                                <div class="stat-change positive">
                                    <i class="fas fa-arrow-up"></i>
                                    <span id="activeChange">0%</span> –∑–∞ –º–µ—Å—è—Ü
                                </div>
                            </div>
                        </div>
                        
                        <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                        <div class="content-header" style="margin-top: 40px;">
                            <h2 class="content-title" style="font-size: 1.5rem;">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
                            <p class="content-subtitle">–ù–∞—á–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å</p>
                        </div>
                        
                        <div class="grid grid-4" style="gap: 16px; margin-bottom: 32px;">
                            <button class="btn btn-primary" onclick="navigateToSection('available-tasks')">
                                <i class="fas fa-search"></i>
                                –ù–∞–π—Ç–∏ –∑–∞–¥–∞—á–∏
                            </button>
                            <button class="btn btn-secondary" onclick="navigateToSection('my-tasks')">
                                <i class="fas fa-list"></i>
                                –ú–æ–∏ –∑–∞–¥–∞—á–∏
                            </button>
                            <button class="btn btn-success" onclick="checkMessages()">
                                <i class="fas fa-comments"></i>
                                –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–∞—Ç
                            </button>
                            <button class="btn btn-warning" onclick="updateAvailability()">
                                <i class="fas fa-toggle-on"></i>
                                –°—Ç–∞—Ç—É—Å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
                            </button>
                        </div>
                        
                        <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–¥–∞—á–∏ -->
                        <div class="content-header" style="margin-top: 40px;">
                            <h2 class="content-title" style="font-size: 1.5rem;">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–¥–∞—á–∏</h2>
                            <p class="content-subtitle">–ù–µ–¥–∞–≤–Ω–æ –ø—Ä–∏–Ω—è—Ç—ã–µ –∑–∞–¥–∞—á–∏</p>
                        </div>
                        
                        <div class="table-container">
                            <table id="recentTasksTable">
                                <thead>
                                    <tr>
                                        <th>–ó–∞–¥–∞—á–∞</th>
                                        <th>–ö–ª–∏–µ–Ω—Ç</th>
                                        <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                        <th>–°—Ç–∞—Ç—É—Å</th>
                                        <th>–î–µ–¥–ª–∞–π–Ω</th>
                                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- –î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏ -->
                    <div id="availableTasksSection" class="content-section">
                        <div class="content-header">
                            <h1 class="content-title">–î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏</h1>
                            <p class="content-subtitle">–ó–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–∏–Ω—è—Ç—å</p>
                        </div>
                        
                        <!-- –§–∏–ª—å—Ç—Ä—ã -->
                        <div class="filters">
                            <div class="filter-group">
                                <label class="filter-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                                <select class="filter-select" id="categoryFilter">
                                    <option value="all">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                                    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </select>
                            </div>
                            <div class="filter-group">
                                <label class="filter-label">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                                <select class="filter-select" id="priorityFilter">
                                    <option value="all">–í—Å–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã</option>
                                    <option value="urgent">–°—Ä–æ—á–Ω—ã–π</option>
                                    <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                                    <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                                    <option value="low">–ù–∏–∑–∫–∏–π</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label class="filter-label">–ë—é–¥–∂–µ—Ç –æ—Ç</label>
                                <input type="number" class="filter-input" id="budgetFrom" placeholder="0">
                            </div>
                            <div class="filter-group">
                                <button class="btn btn-primary" onclick="applyFilters()">
                                    <i class="fas fa-filter"></i> –ü—Ä–∏–º–µ–Ω–∏—Ç—å
                                </button>
                                <button class="btn btn-secondary" onclick="resetFilters()">
                                    <i class="fas fa-redo"></i> –°–±—Ä–æ—Å–∏—Ç—å
                                </button>
                            </div>
                        </div>
                        
                        <!-- –¢–∞–±–ª–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–¥–∞—á -->
                        <div class="table-container">
                            <table id="availableTasksTable">
                                <thead>
                                    <tr>
                                        <th>–ó–∞–¥–∞—á–∞</th>
                                        <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                        <th>–ö–ª–∏–µ–Ω—Ç</th>
                                        <th>–ë—é–¥–∂–µ—Ç</th>
                                        <th>–î–µ–¥–ª–∞–π–Ω</th>
                                        <th>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</th>
                                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="no-messages" id="noAvailableTasks" style="display: none;">
                            <i class="fas fa-tasks"></i>
                            <p>–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–¥–∞—á</p>
                            <p class="text-sm">–ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å, –∫–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–¥—É—Ç –∑–∞–∫–∞–∑—ã</p>
                        </div>
                    </div>
                    
                    <!-- –ú–æ–∏ –∑–∞–¥–∞—á–∏ -->
                    <div id="myTasksSection" class="content-section">
                        <div class="content-header">
                            <h1 class="content-title">–ú–æ–∏ –∑–∞–¥–∞—á–∏</h1>
                            <p class="content-subtitle">–í—Å–µ –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø—Ä–∏–Ω—è–ª–∏</p>
                        </div>
                        
                        <!-- –§–∏–ª—å—Ç—Ä—ã -->
                        <div class="filters">
                            <div class="filter-group">
                                <label class="filter-label">–°—Ç–∞—Ç—É—Å</label>
                                <select class="filter-select" id="statusFilter">
                                    <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                    <option value="assigned">–ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ</option>
                                    <option value="in_progress">–í —Ä–∞–±–æ—Ç–µ</option>
                                    <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ</option>
                                    <option value="cancelled">–û—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label class="filter-label">–î–∞—Ç–∞ –æ—Ç</label>
                                <input type="date" class="filter-input" id="dateFrom">
                            </div>
                            <div class="filter-group">
                                <label class="filter-label">–î–∞—Ç–∞ –¥–æ</label>
                                <input type="date" class="filter-input" id="dateTo">
                            </div>
                            <div class="filter-group">
                                <button class="btn btn-primary" onclick="applyMyTasksFilters()">
                                    <i class="fas fa-filter"></i> –ü—Ä–∏–º–µ–Ω–∏—Ç—å
                                </button>
                            </div>
                        </div>
                        
                        <!-- –¢–∞–±–ª–∏—Ü–∞ –º–æ–∏—Ö –∑–∞–¥–∞—á -->
                        <div class="table-container">
                            <table id="myTasksTable">
                                <thead>
                                    <tr>
                                        <th>–ó–∞–¥–∞—á–∞</th>
                                        <th>–ö–ª–∏–µ–Ω—Ç</th>
                                        <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                        <th>–°—Ç–∞—Ç—É—Å</th>
                                        <th>–ë—é–¥–∂–µ—Ç</th>
                                        <th>–î–µ–¥–ª–∞–π–Ω</th>
                                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- –ó–∞–¥–∞—á–∞ –≤ —Ä–∞–±–æ—Ç–µ (–¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä) -->
                    <div id="taskDetailSection" class="content-section">
                        <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    
                    <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
                    <div id="profileSection" class="content-section">
                        <div class="content-header">
                            <h1 class="content-title">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h1>
                            <p class="content-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏</p>
                        </div>
                        
                        <div class="profile-card">
                            <div class="profile-header">
                                <div class="profile-avatar-large" id="profileAvatarLarge">
                                    –ò
                                </div>
                                <div class="profile-info">
                                    <div class="profile-name" id="profileFullName">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</div>
                                    <div class="profile-rating">
                                        <div class="stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star-half-alt"></i>
                                        </div>
                                        <span class="rating-value" id="profileRating">4.5</span>
                                        <span class="text-medium">(24 –æ—Ç–∑—ã–≤–∞)</span>
                                    </div>
                                    <div class="text-medium" id="profileEmail">email@example.com</div>
                                    <div class="text-medium" id="profilePhone">+7 (999) 123-45-67</div>
                                    
                                    <div class="profile-categories" id="profileCategories">
                                        <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                    </div>
                                </div>
                            </div>
                            
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <div class="stat-value" id="profileTotalTasks">0</div>
                                    <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–¥–∞—á</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="profileSuccessRate">0%</div>
                                    <div class="stat-label">–£—Å–ø–µ—à–Ω–æ—Å—Ç—å</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="profileAvgTime">0—á</div>
                                    <div class="stat-label">–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="profileResponseTime">0—á</div>
                                    <div class="stat-label">–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è -->
                        <div class="content-header" style="margin-top: 40px;">
                            <h2 class="content-title" style="font-size: 1.5rem;">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h2>
                        </div>
                        
                        <div class="card" style="padding: 24px;">
                            <div class="grid grid-2" style="gap: 20px;">
                                <div>
                                    <h3 style="font-size: 1.1rem; margin-bottom: 16px;">–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                                    <div class="form-group">
                                        <label class="filter-label">–ò–º—è</label>
                                        <input type="text" class="filter-input" id="editFirstName" placeholder="–ò–º—è">
                                    </div>
                                    <div class="form-group">
                                        <label class="filter-label">–§–∞–º–∏–ª–∏—è</label>
                                        <input type="text" class="filter-input" id="editLastName" placeholder="–§–∞–º–∏–ª–∏—è">
                                    </div>
                                    <div class="form-group">
                                        <label class="filter-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                                        <input type="tel" class="filter-input" id="editPhone" placeholder="+7 (999) 123-45-67">
                                    </div>
                                </div>
                                
                                <div>
                                    <h3 style="font-size: 1.1rem; margin-bottom: 16px;">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–±–æ—Ç—ã</h3>
                                    <div class="form-group">
                                        <label class="filter-label">–°—Ç–∞—Ç—É—Å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏</label>
                                        <select class="filter-select" id="availabilityStatus">
                                            <option value="available">–î–æ—Å—Ç—É–ø–µ–Ω</option>
                                            <option value="busy">–ó–∞–Ω—è—Ç</option>
                                            <option value="away">–ù–µ –Ω–∞ –º–µ—Å—Ç–µ</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="filter-label">–ú–∞–∫—Å–∏–º—É–º –∑–∞–¥–∞—á –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ</label>
                                        <input type="number" class="filter-input" id="maxTasks" min="1" max="10" value="3">
                                    </div>
                                    <div class="form-group">
                                        <label class="filter-label">–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±—é–¥–∂–µ—Ç (‚ÇΩ)</label>
                                        <input type="number" class="filter-input" id="minBudget" placeholder="0">
                                    </div>
                                </div>
                            </div>
                            
                            <button class="btn btn-primary" style="margin-top: 24px;" onclick="saveProfileSettings()">
                                <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                            </button>
                        </div>
                    </div>
                    
                    <!-- –û—Ç–∑—ã–≤—ã -->
                    <div id="reviewsSection" class="content-section">
                        <div class="content-header">
                            <h1 class="content-title">–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤</h1>
                            <p class="content-subtitle">–ß—Ç–æ –≥–æ–≤–æ—Ä—è—Ç –∫–ª–∏–µ–Ω—Ç—ã –æ –≤–∞—à–µ–π —Ä–∞–±–æ—Ç–µ</p>
                        </div>
                        
                        <div class="reviews-grid" id="reviewsGrid">
                            <!-- –û—Ç–∑—ã–≤—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notification-container" id="notificationContainer"></div>
    
    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loader"></div>
        <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>
    
    <script>
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        const app = {
            currentPerformer: null,
            token: localStorage.getItem('token'),
            currentSection: 'dashboard',
            currentTaskId: null,
            availableTasks: [],
            myTasks: [],
            performerStats: null,
            performerCategories: [],
            
            // –§–∏–ª—å—Ç—Ä—ã
            filters: {
                category: 'all',
                priority: 'all',
                budgetFrom: null,
                status: 'all',
                dateFrom: null,
                dateTo: null
            }
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('üëî –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–Ω–µ–ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è...');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
            if (!app.token) {
                window.location.href = 'index.html';
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            await checkPerformerRole();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
            await loadPerformerData();
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
            setupEventListeners();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            await loadInitialData();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—É—â–∏–π —Ä–∞–∑–¥–µ–ª
            loadCurrentSection();
            
            // –ù–∞—á–∏–Ω–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            startNotifications();
            
            console.log('‚úÖ –ü–∞–Ω–µ–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –≥–æ—Ç–æ–≤–∞');
        });

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function checkPerformerRole() {
            try {
                const response = await fetch('/api/auth/check', {
                    headers: { 'Authorization': `Bearer ${app.token}` }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    if (data.success && (data.data.user.role === 'performer' || 
                        data.data.user.role === 'admin' || 
                        data.data.user.role === 'superadmin' || 
                        data.data.user.role === 'manager')) {
                        app.currentPerformer = data.data.user;
                        return true;
                    }
                }
                
                // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
                window.location.href = 'index.html';
                return false;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–∏:', error);
                window.location.href = 'index.html';
                return false;
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
        async function loadPerformerData() {
            try {
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                document.getElementById('performerName').textContent = 
                    `${app.currentPerformer.first_name} ${app.currentPerformer.last_name}`;
                document.getElementById('performerInitials').textContent = 
                    app.currentPerformer.first_name.charAt(0);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å
                updatePerformerProfile();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:', error);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        async function loadInitialData() {
            showLoading('–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...');
            
            try {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                await loadPerformerStats();
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                await loadCategories();
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–¥–∞—á–∏
                await loadAvailableTasks();
                await loadMyTasks();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
                updateCounters();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
                showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö', 'error');
            } finally {
                hideLoading();
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
        async function loadPerformerStats() {
            try {
                const response = await fetch('/api/performer/stats', {
                    headers: { 'Authorization': `Bearer ${app.token}` }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    if (data.success) {
                        app.performerStats = data.data;
                        updateDashboardStats();
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        async function loadCategories() {
            try {
                const response = await fetch('/api/categories');
                if (response.ok) {
                    const data = await response.json();
                    if (data.success) {
                        app.performerCategories = data.data.categories;
                        updateCategoryFilter();
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:', error);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–¥–∞—á
        async function loadAvailableTasks() {
            try {
                const response = await fetch('/api/performer/tasks/available', {
                    headers: { 'Authorization': `Bearer ${app.token}` }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    if (data.success) {
                        app.availableTasks = data.data.tasks;
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–¥–∞—á:', error);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–∏—Ö –∑–∞–¥–∞—á
        async function loadMyTasks() {
            try {
                const response = await fetch('/api/performer/tasks', {
                    headers: { 'Authorization': `Bearer ${app.token}` }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    if (data.success) {
                        app.myTasks = data.data.tasks;
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–∏—Ö –∑–∞–¥–∞—á:', error);
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤
        function updateCounters() {
            document.getElementById('availableTasksCount').textContent = app.availableTasks.length;
            document.getElementById('myTasksCount').textContent = app.myTasks.length;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–∞—à–±–æ—Ä–¥–∞
        function updateDashboardStats() {
            if (!app.performerStats) return;
            
            const stats = app.performerStats.stats;
            
            document.getElementById('totalEarnings').textContent = 
                (stats.total_earnings || 0).toLocaleString() + ' ‚ÇΩ';
            document.getElementById('completedTasks').textContent = 
                stats.completed_tasks || 0;
            document.getElementById('avgRating').textContent = 
                (stats.avg_rating || 0).toFixed(1);
            document.getElementById('activeTasks').textContent = 
                app.performerStats.active_tasks || 0;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å
            updatePerformerProfile();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
        function updatePerformerProfile() {
            const profileCard = document.getElementById('performerProfileCard');
            if (!profileCard || !app.performerStats) return;
            
            const stats = app.performerStats.stats;
            const categories = app.performerStats.categories || [];
            
            profileCard.innerHTML = `
                <div class="profile-header">
                    <div class="profile-avatar-large">
                        ${app.currentPerformer.first_name.charAt(0)}
                    </div>
                    <div class="profile-info">
                        <div class="profile-name">
                            ${app.currentPerformer.first_name} ${app.currentPerformer.last_name}
                        </div>
                        <div class="profile-rating">
                            <div class="stars">
                                ${getStarsHTML(stats.avg_rating || 0)}
                            </div>
                            <span class="rating-value">${(stats.avg_rating || 0).toFixed(1)}</span>
                            <span class="text-medium">(${app.performerStats.recent_reviews?.length || 0} –æ—Ç–∑—ã–≤–æ–≤)</span>
                        </div>
                        <div class="text-medium">${app.currentPerformer.email}</div>
                        <div class="text-medium">${app.currentPerformer.phone}</div>
                        
                        <div class="profile-categories">
                            ${categories.map(cat => `
                                <span class="category-tag">
                                    ${cat.display_name}
                                    ${cat.experience_years ? `<span class="text-xs">(${cat.experience_years} –ª–µ—Ç)</span>` : ''}
                                </span>
                            `).join('')}
                        </div>
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">${stats.total_tasks || 0}</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–¥–∞—á</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${stats.completed_tasks || 0}</div>
                        <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${app.performerStats.active_tasks || 0}</div>
                        <div class="stat-label">–í —Ä–∞–±–æ—Ç–µ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${stats.avg_rating ? stats.avg_rating.toFixed(1) : '0.0'}</div>
                        <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥</div>
                    </div>
                </div>
            `;
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ HTML –¥–ª—è –∑–≤–µ–∑–¥ —Ä–µ–π—Ç–∏–Ω–≥–∞
        function getStarsHTML(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            
            for (let i = 0; i < 5; i++) {
                if (i < fullStars) {
                    stars += '<i class="fas fa-star"></i>';
                } else if (i === fullStars && hasHalfStar) {
                    stars += '<i class="fas fa-star-half-alt"></i>';
                } else {
                    stars += '<i class="far fa-star"></i>';
                }
            }
            
            return stars;
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º
        function navigateToSection(section) {
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é —Å—Å—ã–ª–∫—É
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`.nav-item[data-section="${section}"]`).classList.add('active');
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã
            document.querySelectorAll('.content-section').forEach(sec => {
                sec.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª
            const targetSection = document.getElementById(`${section}Section`);
            if (targetSection) {
                targetSection.classList.add('active');
                app.currentSection = section;
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞
                loadSectionData(section);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞
        function loadSectionData(section) {
            switch(section) {
                case 'dashboard':
                    updateDashboardStats();
                    loadRecentTasksTable();
                    break;
                case 'available-tasks':
                    loadAvailableTasksTable();
                    break;
                case 'my-tasks':
                    loadMyTasksTable();
                    break;
                case 'profile':
                    loadProfileData();
                    break;
                case 'reviews':
                    loadReviews();
                    break;
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
        function loadCurrentSection() {
            loadSectionData(app.currentSection);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–¥–∞—á
        function loadRecentTasksTable() {
            const container = document.getElementById('recentTasksTable').querySelector('tbody');
            if (!container) return;
            
            const recentTasks = app.myTasks
                .sort((a, b) => new Date(b.created_at) - new Date(a.created_at))
                .slice(0, 5);
            
            container.innerHTML = recentTasks.map(task => {
                const status = getStatusInfo(task.status);
                return `
                    <tr>
                        <td>
                            <div class="font-medium">${task.title}</div>
                            <div class="text-sm text-medium">#${task.task_number}</div>
                        </td>
                        <td>${task.client_first_name} ${task.client_last_name || ''}</td>
                        <td>${task.category_name}</td>
                        <td>
                            <span class="status-badge ${status.class}">
                                <i class="${status.icon}"></i>
                                ${status.name}
                            </span>
                        </td>
                        <td>${task.deadline ? new Date(task.deadline).toLocaleDateString('ru-RU') : '‚Äî'}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-secondary btn-sm" onclick="viewTask(${task.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                                ${task.status === 'assigned' || task.status === 'in_progress' ? `
                                    <button class="btn btn-primary btn-sm" onclick="openChat(${task.id})">
                                        <i class="fas fa-comment"></i>
                                    </button>
                                ` : ''}
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–¥–∞—á
        function loadAvailableTasksTable() {
            const container = document.getElementById('availableTasksTable').querySelector('tbody');
            const noTasks = document.getElementById('noAvailableTasks');
            
            if (!container) return;
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä—ã
            let filteredTasks = [...app.availableTasks];
            
            if (app.filters.category !== 'all') {
                filteredTasks = filteredTasks.filter(task => task.category_id == app.filters.category);
            }
            
            if (app.filters.priority !== 'all') {
                filteredTasks = filteredTasks.filter(task => task.priority === app.filters.priority);
            }
            
            if (app.filters.budgetFrom) {
                filteredTasks = filteredTasks.filter(task => task.price >= app.filters.budgetFrom);
            }
            
            if (filteredTasks.length === 0) {
                container.innerHTML = '';
                noTasks.style.display = 'block';
                return;
            }
            
            noTasks.style.display = 'none';
            
            container.innerHTML = filteredTasks.map(task => {
                const priorityClass = `status-${task.priority === 'urgent' ? 'new' : 
                                     task.priority === 'high' ? 'search' : 'assigned'}`;
                const priorityText = task.priority === 'urgent' ? '–°—Ä–æ—á–Ω–æ' : 
                                   task.priority === 'high' ? '–í—ã—Å–æ–∫–∏–π' : 
                                   task.priority === 'medium' ? '–°—Ä–µ–¥–Ω–∏–π' : '–ù–∏–∑–∫–∏–π';
                
                return `
                    <tr>
                        <td>
                            <div class="font-medium">${task.title}</div>
                            <div class="text-sm text-medium">${task.description.substring(0, 60)}...</div>
                        </td>
                        <td>${task.category_name}</td>
                        <td>${task.client_first_name} ${task.client_last_name || ''}</td>
                        <td>${task.price ? task.price.toLocaleString() + ' ‚ÇΩ' : '–î–æ–≥–æ–≤–æ—Ä–Ω–∞—è'}</td>
                        <td>${task.deadline ? new Date(task.deadline).toLocaleDateString('ru-RU') : '‚Äî'}</td>
                        <td>
                            <span class="status-badge ${priorityClass}">
                                ${priorityText}
                            </span>
                        </td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-secondary btn-sm" onclick="viewAvailableTask(${task.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-primary btn-sm" onclick="acceptTask(${task.id})">
                                    <i class="fas fa-check"></i> –ü—Ä–∏–Ω—è—Ç—å
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –º–æ–∏—Ö –∑–∞–¥–∞—á
        function loadMyTasksTable() {
            const container = document.getElementById('myTasksTable').querySelector('tbody');
            if (!container) return;
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä—ã
            let filteredTasks = [...app.myTasks];
            
            if (app.filters.status !== 'all') {
                filteredTasks = filteredTasks.filter(task => task.status === app.filters.status);
            }
            
            if (app.filters.dateFrom) {
                filteredTasks = filteredTasks.filter(task => 
                    new Date(task.created_at) >= new Date(app.filters.dateFrom)
                );
            }
            
            if (app.filters.dateTo) {
                filteredTasks = filteredTasks.filter(task => 
                    new Date(task.created_at) <= new Date(app.filters.dateTo + 'T23:59:59')
                );
            }
            
            container.innerHTML = filteredTasks.map(task => {
                const status = getStatusInfo(task.status);
                return `
                    <tr>
                        <td>
                            <div class="font-medium">${task.title}</div>
                            <div class="text-sm text-medium">#${task.task_number}</div>
                        </td>
                        <td>${task.client_first_name} ${task.client_last_name || ''}</td>
                        <td>${task.category_name}</td>
                        <td>
                            <span class="status-badge ${status.class}">
                                <i class="${status.icon}"></i>
                                ${status.name}
                            </span>
                        </td>
                        <td>${task.price ? task.price.toLocaleString() + ' ‚ÇΩ' : '–î–æ–≥–æ–≤–æ—Ä–Ω–∞—è'}</td>
                        <td>${task.deadline ? new Date(task.deadline).toLocaleDateString('ru-RU') : '‚Äî'}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-secondary btn-sm" onclick="viewTask(${task.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                                ${task.status === 'assigned' || task.status === 'in_progress' ? `
                                    <button class="btn btn-primary btn-sm" onclick="openChat(${task.id})">
                                        <i class="fas fa-comment"></i>
                                    </button>
                                ` : ''}
                                ${task.status === 'assigned' ? `
                                    <button class="btn btn-success btn-sm" onclick="startTask(${task.id})">
                                        <i class="fas fa-play"></i>
                                    </button>
                                ` : ''}
                                ${task.status === 'in_progress' ? `
                                    <button class="btn btn-warning btn-sm" onclick="completeTask(${task.id})">
                                        <i class="fas fa-check"></i>
                                    </button>
                                ` : ''}
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        function updateCategoryFilter() {
            const filter = document.getElementById('categoryFilter');
            if (!filter) return;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
            const currentValue = filter.value;
            
            // –û—á–∏—â–∞–µ–º –æ–ø—Ü–∏–∏ (–∫—Ä–æ–º–µ "–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏")
            while (filter.options.length > 1) {
                filter.remove(1);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
            const categories = app.performerCategories || [];
            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category.id;
                option.textContent = category.display_name;
                filter.appendChild(option);
            });
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
            filter.value = currentValue;
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
        function applyFilters() {
            app.filters.category = document.getElementById('categoryFilter').value;
            app.filters.priority = document.getElementById('priorityFilter').value;
            app.filters.budgetFrom = document.getElementById('budgetFrom').value || null;
            
            loadAvailableTasksTable();
        }

        function applyMyTasksFilters() {
            app.filters.status = document.getElementById('statusFilter').value;
            app.filters.dateFrom = document.getElementById('dateFrom').value;
            app.filters.dateTo = document.getElementById('dateTo').value;
            
            loadMyTasksTable();
        }

        function resetFilters() {
            document.getElementById('categoryFilter').value = 'all';
            document.getElementById('priorityFilter').value = 'all';
            document.getElementById('budgetFrom').value = '';
            
            app.filters = {
                category: 'all',
                priority: 'all',
                budgetFrom: null
            };
            
            loadAvailableTasksTable();
        }

        // –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω–æ–π –∑–∞–¥–∞—á–∏
        async function viewAvailableTask(taskId) {
            const task = app.availableTasks.find(t => t.id === taskId);
            if (!task) return;
            
            const html = `
                <div class="content-header">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <button class="btn btn-secondary" onclick="navigateToSection('available-tasks')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h1 class="content-title">–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞—á–∏</h1>
                    </div>
                </div>
                
                <div class="card" style="padding: 24px; margin-bottom: 24px;">
                    <h3 style="font-size: 1.3rem; margin-bottom: 16px; color: var(--graphite-dark);">${task.title}</h3>
                    
                    <div class="grid grid-2" style="gap: 20px; margin-bottom: 20px;">
                        <div>
                            <h4 style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</h4>
                            <p style="font-weight: 500;">${task.category_name}</p>
                        </div>
                        <div>
                            <h4 style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–ë—é–¥–∂–µ—Ç</h4>
                            <p style="font-weight: 500; color: var(--blue-primary);">
                                ${task.price ? task.price.toLocaleString() + ' ‚ÇΩ' : '–î–æ–≥–æ–≤–æ—Ä–Ω–∞—è'}
                            </p>
                        </div>
                        <div>
                            <h4 style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–î–µ–¥–ª–∞–π–Ω</h4>
                            <p style="font-weight: 500;">${task.deadline ? new Date(task.deadline).toLocaleDateString('ru-RU') : '‚Äî'}</p>
                        </div>
                        <div>
                            <h4 style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–ö–ª–∏–µ–Ω—Ç</h4>
                            <p style="font-weight: 500;">${task.client_first_name} ${task.client_last_name || ''}</p>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <h4 style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–û–ø–∏—Å–∞–Ω–∏–µ</h4>
                        <p style="line-height: 1.6;">${task.description}</p>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <h4 style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–ê–¥—Ä–µ—Å</h4>
                        <p style="font-weight: 500;">${task.address}</p>
                    </div>
                    
                    <div style="display: flex; gap: 12px; margin-top: 24px;">
                        <button class="btn btn-secondary" onclick="navigateToSection('available-tasks')">
                            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                        </button>
                        <button class="btn btn-primary" onclick="acceptTask(${task.id})">
                            <i class="fas fa-check"></i> –ü—Ä–∏–Ω—è—Ç—å –∑–∞–¥–∞—á—É
                        </button>
                    </div>
                </div>
            `;
            
            const contentArea = document.getElementById('contentArea');
            contentArea.innerHTML = html;
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏
            document.querySelectorAll('.content-section').forEach(sec => {
                sec.classList.remove('active');
            });
            document.getElementById('taskDetailSection').innerHTML = html;
            document.getElementById('taskDetailSection').classList.add('active');
        }

        // –ü—Ä–∏–Ω—è—Ç—å –∑–∞–¥–∞—á—É
        async function acceptTask(taskId) {
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏–Ω—è—Ç—å —ç—Ç—É –∑–∞–¥–∞—á—É?')) {
                return;
            }
            
            showLoading('–ü—Ä–∏–Ω—è—Ç–∏–µ –∑–∞–¥–∞—á–∏...');
            
            try {
                const response = await fetch(`/api/performer/tasks/${taskId}/accept`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${app.token}`
                    }
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showNotification('–ó–∞–¥–∞—á–∞ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–Ω—è—Ç–∞!', 'success');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
                    await loadAvailableTasks();
                    await loadMyTasks();
                    await loadPerformerStats();
                    
                    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ —Å–ø–∏—Å–∫—É –∑–∞–¥–∞—á
                    navigateToSection('my-tasks');
                    
                } else {
                    throw new Error(data.error || '–û—à–∏–±–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –∑–∞–¥–∞—á–∏');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –∑–∞–¥–∞—á–∏:', error);
                showNotification(error.message, 'error');
            } finally {
                hideLoading();
            }
        }

        // –ü—Ä–æ—Å–º–æ—Ç—Ä –º–æ–µ–π –∑–∞–¥–∞—á–∏
        async function viewTask(taskId) {
            showLoading('–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞—á–∏...');
            
            try {
                const response = await fetch(`/api/tasks/${taskId}`, {
                    headers: {
                        'Authorization': `Bearer ${app.token}`
                    }
                });
                
                const data = await response.json();
                
                if (data.success) {
                    const task = data.data.task;
                    app.currentTaskId = taskId;
                    
                    const html = `
                        <div class="content-header">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <button class="btn btn-secondary" onclick="navigateToSection('my-tasks')" style="padding: 8px 16px;">
                                    <i class="fas fa-arrow-left"></i>
                                </button>
                                <h1 class="content-title">${task.title}</h1>
                            </div>
                        </div>
                        
                        <div class="card" style="padding: 24px; margin-bottom: 24px;">
                            <div class="grid grid-4" style="gap: 20px; margin-bottom: 24px;">
                                <div>
                                    <h4 style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–°—Ç–∞—Ç—É—Å</h4>
                                    <span class="status-badge ${task.status}">
                                        ${getStatusText(task.status)}
                                    </span>
                                </div>
                                <div>
                                    <h4 style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–ë—é–¥–∂–µ—Ç</h4>
                                    <p style="font-weight: 500; color: var(--blue-primary);">
                                        ${task.price ? task.price.toLocaleString() + ' ‚ÇΩ' : '–î–æ–≥–æ–≤–æ—Ä–Ω–∞—è'}
                                    </p>
                                </div>
                                <div>
                                    <h4 style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–î–µ–¥–ª–∞–π–Ω</h4>
                                    <p style="font-weight: 500;">${task.deadline ? new Date(task.deadline).toLocaleDateString('ru-RU') : '‚Äî'}</p>
                                </div>
                                <div>
                                    <h4 style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–ö–ª–∏–µ–Ω—Ç</h4>
                                    <p style="font-weight: 500;">${task.client_first_name} ${task.client_last_name || ''}</p>
                                </div>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <h4 style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–û–ø–∏—Å–∞–Ω–∏–µ</h4>
                                <p style="line-height: 1.6;">${task.description}</p>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <h4 style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–ê–¥—Ä–µ—Å</h4>
                                <p style="font-weight: 500;">${task.address}</p>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <h4 style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–ö–æ–Ω—Ç–∞–∫—Ç</h4>
                                <p style="font-weight: 500;">${task.contact_info}</p>
                            </div>
                            
                            ${task.additional_requirements ? `
                            <div style="margin-bottom: 20px;">
                                <h4 style="font-size: 0.9rem; color: var(--graphite-medium); margin-bottom: 8px;">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h4>
                                <p style="line-height: 1.6;">${task.additional_requirements}</p>
                            </div>
                            ` : ''}
                            
                            <div style="display: flex; gap: 12px; margin-top: 24px;">
                                <button class="btn btn-secondary" onclick="navigateToSection('my-tasks')">
                                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                                </button>
                                
                                ${task.status === 'assigned' ? `
                                    <button class="btn btn-success" onclick="startTask(${task.id})">
                                        <i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É
                                    </button>
                                ` : ''}
                                
                                ${task.status === 'in_progress' ? `
                                    <button class="btn btn-warning" onclick="completeTask(${task.id})">
                                        <i class="fas fa-check"></i> –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞—á—É
                                    </button>
                                ` : ''}
                                
                                <button class="btn btn-primary" onclick="openChat(${task.id})">
                                    <i class="fas fa-comment"></i> –û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç
                                </button>
                            </div>
                        </div>
                    `;
                    
                    const contentArea = document.getElementById('contentArea');
                    contentArea.innerHTML = html;
                    
                } else {
                    throw new Error(data.error || '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞—á–∏');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞—á–∏:', error);
                showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞—á–∏', 'error');
                navigateToSection('my-tasks');
            } finally {
                hideLoading();
            }
        }

        // –ù–∞—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
        async function startTask(taskId) {
            if (!confirm('–ù–∞—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏?')) {
                return;
            }
            
            showLoading('–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã...');
            
            try {
                const response = await fetch(`/api/performer/tasks/${taskId}/start`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${app.token}`
                    }
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showNotification('–†–∞–±–æ—Ç–∞ –Ω–∞–¥ –∑–∞–¥–∞—á–µ–π –Ω–∞—á–∞—Ç–∞!', 'success');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
                    await loadMyTasks();
                    await loadPerformerStats();
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â—É—é –∑–∞–¥–∞—á—É
                    if (app.currentTaskId === taskId) {
                        viewTask(taskId);
                    }
                    
                } else {
                    throw new Error(data.error || '–û—à–∏–±–∫–∞ –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã:', error);
                showNotification(error.message, 'error');
            } finally {
                hideLoading();
            }
        }

        // –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞—á—É
        async function completeTask(taskId) {
            if (!confirm('–ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏?')) {
                return;
            }
            
            showLoading('–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏...');
            
            try {
                const response = await fetch(`/api/performer/tasks/${taskId}/complete`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${app.token}`
                    }
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showNotification('–ó–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!', 'success');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
                    await loadMyTasks();
                    await loadPerformerStats();
                    
                    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ —Å–ø–∏—Å–∫—É –∑–∞–¥–∞—á
                    navigateToSection('my-tasks');
                    
                } else {
                    throw new Error(data.error || '–û—à–∏–±–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏:', error);
                showNotification(error.message, 'error');
            } finally {
                hideLoading();
            }
        }

        // –û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç —Å –∫–ª–∏–µ–Ω—Ç–æ–º
        async function openChat(taskId) {
            showLoading('–ó–∞–≥—Ä—É–∑–∫–∞ —á–∞—Ç–∞...');
            
            try {
                // –ü–æ–ª—É—á–∞–µ–º –∑–∞–¥–∞—á—É –∏ —Å–æ–æ–±—â–µ–Ω–∏—è
                const [taskResponse, messagesResponse] = await Promise.all([
                    fetch(`/api/tasks/${taskId}`, {
                        headers: { 'Authorization': `Bearer ${app.token}` }
                    }),
                    fetch(`/api/tasks/${taskId}/messages`, {
                        headers: { 'Authorization': `Bearer ${app.token}` }
                    })
                ]);
                
                const taskData = await taskResponse.json();
                const messagesData = await messagesResponse.json();
                
                if (!taskData.success || !messagesData.success) {
                    throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —á–∞—Ç–∞');
                }
                
                const task = taskData.data.task;
                const messages = messagesData.data.messages || [];
                
                const html = `
                    <div class="content-header">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <button class="btn btn-secondary" onclick="navigateToSection('my-tasks')" style="padding: 8px 16px;">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div>
                                <h1 class="content-title">–ß–∞—Ç –ø–æ –∑–∞–¥–∞—á–µ</h1>
                                <p class="content-subtitle">${task.title}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="task-chat-container">
                        <div class="chat-header">
                            <h3>–û–±—Å—É–∂–¥–µ–Ω–∏–µ —Å ${task.client_first_name} ${task.client_last_name || ''}</h3>
                        </div>
                        
                        <div class="chat-messages" id="chatMessages">
                            ${messages.length === 0 ? `
                                <div class="no-messages">
                                    <i class="fas fa-comments"></i>
                                    <p>–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π</p>
                                    <p class="text-sm">–ù–∞—á–Ω–∏—Ç–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏</p>
                                </div>
                            ` : messages.map(msg => {
                                const isCurrentUser = msg.user_id === app.currentPerformer.id;
                                return `
                                    <div class="chat-message ${isCurrentUser ? 'sent' : 'received'}">
                                        ${!isCurrentUser ? `<div class="message-sender">${msg.first_name}</div>` : ''}
                                        <div class="message-bubble">${msg.message}</div>
                                        <div class="message-time">
                                            ${new Date(msg.created_at).toLocaleString('ru-RU')}
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                        
                        <div class="chat-input-area">
                            <textarea 
                                class="chat-input" 
                                id="chatMessageInput" 
                                placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
                                onkeydown="handleChatKeydown(event, ${taskId})"
                            ></textarea>
                            <button 
                                class="send-message-btn" 
                                onclick="sendChatMessage(${taskId})"
                                id="sendChatBtn"
                            >
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                `;
                
                const contentArea = document.getElementById('contentArea');
                contentArea.innerHTML = html;
                
                // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –≤–Ω–∏–∑
                const messagesContainer = document.getElementById('chatMessages');
                if (messagesContainer) {
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                }
                
                // –§–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞
                const input = document.getElementById('chatMessageInput');
                if (input) {
                    input.focus();
                }
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —á–∞—Ç–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —á–∞—Ç–∞', 'error');
                navigateToSection('my-tasks');
            } finally {
                hideLoading();
            }
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç
        async function sendChatMessage(taskId) {
            const input = document.getElementById('chatMessageInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            const sendBtn = document.getElementById('sendChatBtn');
            sendBtn.disabled = true;
            
            try {
                const response = await fetch(`/api/tasks/${taskId}/messages`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${app.token}`
                    },
                    body: JSON.stringify({ message })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
                    input.value = '';
                    
                    // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —á–∞—Ç
                    await openChat(taskId);
                } else {
                    throw new Error(data.error || '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è:', error);
                showNotification('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è', 'error');
            } finally {
                sendBtn.disabled = false;
                input.focus();
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è Enter –≤ —á–∞—Ç–µ
        function handleChatKeydown(event, taskId) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendChatMessage(taskId);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è
        function loadProfileData() {
            // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ñ–∏–ª—è
            document.getElementById('editFirstName').value = app.currentPerformer.first_name;
            document.getElementById('editLastName').value = app.currentPerformer.last_name;
            document.getElementById('editPhone').value = app.currentPerformer.phone;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å –≤ —Å–µ–∫—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è
            const profileFullName = document.getElementById('profileFullName');
            const profileEmail = document.getElementById('profileEmail');
            const profilePhone = document.getElementById('profilePhone');
            const profileRating = document.getElementById('profileRating');
            
            if (profileFullName) {
                profileFullName.textContent = `${app.currentPerformer.first_name} ${app.currentPerformer.last_name}`;
            }
            
            if (profileEmail) {
                profileEmail.textContent = app.currentPerformer.email;
            }
            
            if (profilePhone) {
                profilePhone.textContent = app.currentPerformer.phone;
            }
            
            if (profileRating && app.performerStats) {
                profileRating.textContent = (app.performerStats.stats.avg_rating || 0).toFixed(1);
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            const profileCategories = document.getElementById('profileCategories');
            if (profileCategories && app.performerStats) {
                const categories = app.performerStats.categories || [];
                profileCategories.innerHTML = categories.map(cat => `
                    <span class="category-tag">
                        ${cat.display_name}
                        ${cat.experience_years ? `<span class="text-xs">(${cat.experience_years} –ª–µ—Ç)</span>` : ''}
                    </span>
                `).join('');
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ—Ñ–∏–ª—è
        async function saveProfileSettings() {
            showLoading('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫...');
            
            try {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –∑–∞–ø—Ä–æ—Å –∫ API
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã', 'success');
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫', 'error');
            } finally {
                hideLoading();
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∑—ã–≤–æ–≤
        function loadReviews() {
            const container = document.getElementById('reviewsGrid');
            if (!container || !app.performerStats) return;
            
            const reviews = app.performerStats.recent_reviews || [];
            
            if (reviews.length === 0) {
                container.innerHTML = `
                    <div class="no-messages" style="grid-column: 1 / -1;">
                        <i class="fas fa-star"></i>
                        <p>–ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∑—ã–≤–æ–≤</p>
                        <p class="text-sm">–û—Ç–∑—ã–≤—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = reviews.map(review => `
                <div class="review-card">
                    <div class="review-header">
                        <div class="review-client">${review.client_first_name} ${review.client_last_name || ''}</div>
                        <div class="review-date">${new Date(review.created_at).toLocaleDateString('ru-RU')}</div>
                    </div>
                    <div class="stars">
                        ${getStarsHTML(review.rating)}
                    </div>
                    ${review.comment ? `
                        <div class="review-comment">${review.comment}</div>
                    ` : ''}
                    <div class="text-sm text-medium" style="margin-top: 8px;">
                        –ó–∞–¥–∞—á–∞: ${review.task_title}
                    </div>
                </div>
            `).join('');
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function getStatusInfo(status) {
            const statuses = {
                new: { name: '–ù–æ–≤—ã–π', class: 'status-new', icon: 'fas fa-plus-circle' },
                searching: { name: '–í –ø–æ–∏—Å–∫–µ', class: 'status-search', icon: 'fas fa-search' },
                assigned: { name: '–ù–∞–∑–Ω–∞—á–µ–Ω', class: 'status-assigned', icon: 'fas fa-user-check' },
                in_progress: { name: '–í —Ä–∞–±–æ—Ç–µ', class: 'status-in-progress', icon: 'fas fa-spinner' },
                completed: { name: '–ó–∞–≤–µ—Ä—à–µ–Ω', class: 'status-completed', icon: 'fas fa-check-circle' },
                cancelled: { name: '–û—Ç–º–µ–Ω–µ–Ω', class: 'status-cancelled', icon: 'fas fa-times-circle' }
            };
            
            return statuses[status] || statuses.new;
        }

        function getStatusText(status) {
            const statusMap = {
                'new': '–ù–æ–≤—ã–π',
                'searching': '–í –ø–æ–∏—Å–∫–µ',
                'assigned': '–ù–∞–∑–Ω–∞—á–µ–Ω',
                'in_progress': '–í —Ä–∞–±–æ—Ç–µ',
                'completed': '–ó–∞–≤–µ—Ä—à–µ–Ω',
                'cancelled': '–û—Ç–º–µ–Ω–µ–Ω'
            };
            return statusMap[status] || status;
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ –≥–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        function navigateToMainApp() {
            window.location.href = '/index.html';
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
        function checkMessages() {
            showNotification('–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–∞—Ç –≤ –∑–∞–¥–∞—á–∞—Ö –≤ —Ä–∞–±–æ—Ç–µ', 'info');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
        function updateAvailability() {
            const status = prompt('–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (available, busy, away):', 'available');
            if (status) {
                showNotification(`–°—Ç–∞—Ç—É—Å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞: ${status}`, 'success');
            }
        }

        // –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('currentUser');
            window.location.href = 'index.html';
        }

        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message, type = 'info') {
            const container = document.getElementById('notificationContainer');
            if (!container) return;
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icons = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };
            
            notification.innerHTML = `
                <i class="${icons[type] || icons.info}"></i>
                <div style="flex: 1;">${message}</div>
                <button onclick="this.parentElement.remove()" style="background: none; border: none; cursor: pointer; color: var(--graphite-light);">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            container.appendChild(notification);
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 5000);
        }

        // –ó–∞–ø—É—Å–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        function startNotifications() {
            // –ò–º–∏—Ç–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
            setInterval(() => {
                if (Math.random() > 0.8) { // 20% chance
                    showNotification('–ü–æ—è–≤–∏–ª–∏—Å—å –Ω–æ–≤—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏!', 'info');
                }
            }, 60000); // –ö–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    if (this.getAttribute('data-section')) {
                        e.preventDefault();
                        const section = this.getAttribute('data-section');
                        navigateToSection(section);
                    }
                });
            });
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞
        function showLoading(text = '–ó–∞–≥—Ä—É–∑–∫–∞...') {
            const overlay = document.getElementById('loadingOverlay');
            const loadingText = document.querySelector('.loading-text');
            
            if (overlay && loadingText) {
                loadingText.textContent = text;
                overlay.classList.add('active');
            }
        }

        function hideLoading() {
            const overlay = document.getElementById('loadingOverlay');
            if (overlay) {
                overlay.classList.remove('active');
            }
        }

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        window.navigateToSection = navigateToSection;
        window.viewAvailableTask = viewAvailableTask;
        window.acceptTask = acceptTask;
        window.viewTask = viewTask;
        window.startTask = startTask;
        window.completeTask = completeTask;
        window.openChat = openChat;
        window.sendChatMessage = sendChatMessage;
        window.handleChatKeydown = handleChatKeydown;
        window.saveProfileSettings = saveProfileSettings;
        window.navigateToMainApp = navigateToMainApp;
        window.checkMessages = checkMessages;
        window.updateAvailability = updateAvailability;
        window.applyFilters = applyFilters;
        window.applyMyTasksFilters = applyMyTasksFilters;
        window.resetFilters = resetFilters;
        window.logout = logout;
    </script>
</body>
</html>
